const a68_0x1e8587=a68_0x4bcf;function a68_0x4bcf(_0x3f70de,_0x4947ca){const _0xb6f284=a68_0xb6f2();return a68_0x4bcf=function(_0x4bcf53,_0x1fd22c){_0x4bcf53=_0x4bcf53-0x119;let _0x5ace71=_0xb6f284[_0x4bcf53];return _0x5ace71;},a68_0x4bcf(_0x3f70de,_0x4947ca);}(function(_0xc20281,_0x159158){const _0x3d229f=a68_0x4bcf,_0x89abed=_0xc20281();while(!![]){try{const _0x4fc728=parseInt(_0x3d229f(0x11c))/0x1+parseInt(_0x3d229f(0x11a))/0x2*(parseInt(_0x3d229f(0x129))/0x3)+parseInt(_0x3d229f(0x126))/0x4+parseInt(_0x3d229f(0x130))/0x5*(parseInt(_0x3d229f(0x128))/0x6)+parseInt(_0x3d229f(0x120))/0x7+-parseInt(_0x3d229f(0x132))/0x8+parseInt(_0x3d229f(0x122))/0x9*(-parseInt(_0x3d229f(0x123))/0xa);if(_0x4fc728===_0x159158)break;else _0x89abed['push'](_0x89abed['shift']());}catch(_0x43c5f6){_0x89abed['push'](_0x89abed['shift']());}}}(a68_0xb6f2,0xf0f82));function a68_0xb6f2(){const _0x343990=['1050387ICjQYS','get','ignore_status','retries','5193580DvTaFm','dispatch','249291bfTejQ','1170CsAWKR','context','notDone','1767460vnSIfo','opts','11118PbLhwH','2771628LfvLXi','status','exports','no_done','name','initRetry','run','2730evnSge','ValidationError','6927112BzTODu','BreakError','includes','DONE','init','4dnCUWv','object_retries'];a68_0xb6f2=function(){return _0x343990;};return a68_0xb6f2();}const retry=require('async-retry'),logger=require('./Logger'),WorkObject=require('./WorkObject'),EventHandler=require('./EventHandler'),defaultOptions={'retries':0x2};class Performer extends EventHandler{constructor(_0x4e9227,_0x106433={}){const _0xa337e0=a68_0x4bcf;super(),this[_0xa337e0(0x124)]=_0x4e9227,this[_0xa337e0(0x127)]={...defaultOptions,..._0x106433},this['retries']=_0x4e9227['config'][_0xa337e0(0x11d)](_0xa337e0(0x11b),this[_0xa337e0(0x127)][_0xa337e0(0x11f)]);}async[a68_0x1e8587(0x12f)](_0x3e4d8d,_0x3788f0,_0x21e3a2={'ignore_status':[a68_0x1e8587(0x135)],'no_done':![]}){const _0xf4660f=a68_0x1e8587;if(!(_0x3788f0 instanceof WorkObject)){const _0x218315='Work\x20object\x20must\x20be\x20a\x20instance\x20of\x20WorkObject';logger['error'](_0x218315);throw new Error(_0x218315);}if(_0x21e3a2[_0xf4660f(0x11e)][_0xf4660f(0x134)](_0x3788f0[_0xf4660f(0x12a)]))return;try{await _0x3788f0[_0xf4660f(0x119)]();const _0x179ded=async(_0x4b3f6d,_0x5d0bdf)=>{const _0x42f463=_0xf4660f;_0x5d0bdf&&await _0x3788f0[_0x42f463(0x12e)](_0x5d0bdf);try{await _0x3e4d8d(_0x3788f0,{'bail':_0x4b3f6d,'attempts':_0x5d0bdf});}catch(_0x557907){if(_0x557907[_0x42f463(0x12d)]===_0x42f463(0x131)){_0x4b3f6d(_0x557907);return;}throw _0x557907;}},_0x411f0d=await retry(_0x179ded,{'retries':this[_0xf4660f(0x11f)],'onRetry':_0x9c79f5=>console['error'](_0x9c79f5)});return _0x21e3a2[_0xf4660f(0x12c)]&&await _0x3788f0['done'](),_0x411f0d;}catch(_0x3f9bd9){_0x3f9bd9[_0xf4660f(0x12d)]===_0xf4660f(0x131)?await _0x3788f0[_0xf4660f(0x125)](_0x3f9bd9):await _0x3788f0['failed'](_0x3f9bd9);await this[_0xf4660f(0x121)]('fail',_0x3f9bd9);if(_0x3f9bd9['name']===_0xf4660f(0x133))throw _0x3f9bd9;}}async['forEach'](_0x180007,_0xf11465,_0x4da3c7={}){if(!Array['isArray'](_0xf11465))throw new Error('workObjects\x20must\x20be\x20an\x20array');for(const _0x5360ce of _0xf11465){await this['run'](_0x180007,_0x5360ce,_0x4da3c7);}}}module[a68_0x1e8587(0x12b)]=Performer;