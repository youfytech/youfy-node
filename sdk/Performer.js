const a68_0x901f68=a68_0x1a4d;(function(_0x168cdd,_0x461e0a){const _0x270de4=a68_0x1a4d,_0x42d5b8=_0x168cdd();while(!![]){try{const _0x417694=-parseInt(_0x270de4(0x17d))/0x1*(-parseInt(_0x270de4(0x175))/0x2)+-parseInt(_0x270de4(0x17c))/0x3+parseInt(_0x270de4(0x173))/0x4+-parseInt(_0x270de4(0x16f))/0x5*(parseInt(_0x270de4(0x167))/0x6)+-parseInt(_0x270de4(0x166))/0x7*(-parseInt(_0x270de4(0x180))/0x8)+-parseInt(_0x270de4(0x164))/0x9+parseInt(_0x270de4(0x170))/0xa*(-parseInt(_0x270de4(0x177))/0xb);if(_0x417694===_0x461e0a)break;else _0x42d5b8['push'](_0x42d5b8['shift']());}catch(_0x43b15a){_0x42d5b8['push'](_0x42d5b8['shift']());}}}(a68_0x2387,0x5e609));const retry=require('async-retry'),logger=require('./Logger'),WorkObject=require('./WorkObject'),EventHandler=require('./EventHandler'),defaultOptions={'retries':0x2};function a68_0x2387(){const _0x4f2a8f=['opts','forEach','error','8640sTyiqa','20Spkjfs','retries','BreakError','2191232VrZRxw','context','489374NmWKTV','failed','2034703SkOpwz','notDone','done','config','DONE','1458393PrvMYX','3dzCmFp','dispatch','workObjects\x20must\x20be\x20an\x20array','5628616ftxHhf','object_retries','386640kWSuHx','ValidationError','7hMFnpU','2430QjGfyv','run','Work\x20object\x20must\x20be\x20a\x20instance\x20of\x20WorkObject','init','name'];a68_0x2387=function(){return _0x4f2a8f;};return a68_0x2387();}class Performer extends EventHandler{constructor(_0xc6f0a5,_0x4286d6={}){const _0x3276dd=a68_0x1a4d;super(),this[_0x3276dd(0x174)]=_0xc6f0a5,this[_0x3276dd(0x16c)]={...defaultOptions,..._0x4286d6},this['retries']=_0xc6f0a5[_0x3276dd(0x17a)]['get'](_0x3276dd(0x181),this['opts']['retries']);}async[a68_0x901f68(0x168)](_0x2fbca1,_0x5012fb){const _0x2d0479=a68_0x901f68;if(!(_0x5012fb instanceof WorkObject)){const _0x36a460=_0x2d0479(0x169);logger[_0x2d0479(0x16e)](_0x36a460);throw new Error(_0x36a460);}if(_0x5012fb['status']===_0x2d0479(0x17b))return;try{await _0x5012fb[_0x2d0479(0x16a)]();const _0x34a0d9=async(_0x1f406f,_0x5ba371)=>{const _0x210cec=_0x2d0479;_0x5ba371&&await _0x5012fb['initRetry'](_0x5ba371);try{await _0x2fbca1(_0x5012fb,{'bail':_0x1f406f,'attempts':_0x5ba371});}catch(_0x5b5799){if(_0x5b5799['name']===_0x210cec(0x165)){_0x1f406f(_0x5b5799);return;}throw _0x5b5799;}},_0x5cbca6=await retry(_0x34a0d9,{'retries':this[_0x2d0479(0x171)],'onRetry':_0x5d271f=>console['error'](_0x5d271f)});return await _0x5012fb[_0x2d0479(0x179)](),_0x5cbca6;}catch(_0x221360){_0x221360['name']===_0x2d0479(0x165)?await _0x5012fb[_0x2d0479(0x178)](_0x221360):await _0x5012fb[_0x2d0479(0x176)](_0x221360);await this[_0x2d0479(0x17e)]('fail',_0x221360);if(_0x221360[_0x2d0479(0x16b)]===_0x2d0479(0x172))throw _0x221360;}}async[a68_0x901f68(0x16d)](_0x4ad4d2,_0x30472a){const _0x1580d4=a68_0x901f68;if(!Array['isArray'](_0x30472a))throw new Error(_0x1580d4(0x17f));for(const _0x3ad658 of _0x30472a){await this[_0x1580d4(0x168)](_0x4ad4d2,_0x3ad658);}}}function a68_0x1a4d(_0x2c3e3f,_0x214d55){const _0x238731=a68_0x2387();return a68_0x1a4d=function(_0x1a4dcf,_0xce108c){_0x1a4dcf=_0x1a4dcf-0x164;let _0x12af8b=_0x238731[_0x1a4dcf];return _0x12af8b;},a68_0x1a4d(_0x2c3e3f,_0x214d55);}module['exports']=Performer;