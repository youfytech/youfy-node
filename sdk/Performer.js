const a68_0x43f0e6=a68_0x4a4a;(function(_0x11811b,_0x1ef78d){const _0x1c505f=a68_0x4a4a,_0x272c1f=_0x11811b();while(!![]){try{const _0x3d3838=parseInt(_0x1c505f(0xe3))/0x1+-parseInt(_0x1c505f(0xdf))/0x2+parseInt(_0x1c505f(0xe1))/0x3*(parseInt(_0x1c505f(0xf0))/0x4)+parseInt(_0x1c505f(0xe9))/0x5+parseInt(_0x1c505f(0xf1))/0x6+-parseInt(_0x1c505f(0xf5))/0x7*(parseInt(_0x1c505f(0xef))/0x8)+-parseInt(_0x1c505f(0xde))/0x9*(-parseInt(_0x1c505f(0xea))/0xa);if(_0x3d3838===_0x1ef78d)break;else _0x272c1f['push'](_0x272c1f['shift']());}catch(_0x5ba5cf){_0x272c1f['push'](_0x272c1f['shift']());}}}(a68_0x3431,0xb0f7b));function a68_0x3431(){const _0x97bdd7=['no_done','dispatch','failed','399130eqzNLp','657630aDYMwO','retries','forEach','ignore_status','BreakError','8cDRWfn','2668QFVHjM','4124148dwDkRZ','initRetry','status','exports','1424206wcMYkO','workObjects\x20must\x20be\x20an\x20array','context','run','Work\x20object\x20must\x20be\x20a\x20instance\x20of\x20WorkObject','opts','error','includes','name','27mhpXAo','1573900VeznVQ','isArray','477WErbRp','init','644741gTIAxS','fail','notDone'];a68_0x3431=function(){return _0x97bdd7;};return a68_0x3431();}function a68_0x4a4a(_0x24834c,_0xf723ff){const _0x34318d=a68_0x3431();return a68_0x4a4a=function(_0x4a4a06,_0x443b67){_0x4a4a06=_0x4a4a06-0xdb;let _0x365fcb=_0x34318d[_0x4a4a06];return _0x365fcb;},a68_0x4a4a(_0x24834c,_0xf723ff);}const retry=require('async-retry'),logger=require('./Logger'),WorkObject=require('./WorkObject'),EventHandler=require('./EventHandler'),defaultOptions={'retries':0x2};class Performer extends EventHandler{constructor(_0x48eb16,_0x545ba7={}){const _0x5bd7d0=a68_0x4a4a;super(),this[_0x5bd7d0(0xf7)]=_0x48eb16,this[_0x5bd7d0(0xfa)]={...defaultOptions,..._0x545ba7},this['retries']=_0x48eb16['config']['get']('object_retries',this[_0x5bd7d0(0xfa)]['retries']);}async['run'](_0x499753,_0x34bfe8,_0x122bfb={}){const _0x259936=a68_0x4a4a,_0x3ce2da={'ignore_status':['DONE'],'no_done':![],..._0x122bfb};if(!(_0x34bfe8 instanceof WorkObject)){const _0x23ccca=_0x259936(0xf9);logger[_0x259936(0xdb)](_0x23ccca);throw new Error(_0x23ccca);}if(_0x3ce2da[_0x259936(0xed)][_0x259936(0xdc)](_0x34bfe8[_0x259936(0xf3)]))return;try{await _0x34bfe8[_0x259936(0xe2)]();const _0x5a8c61=async(_0x47148a,_0x475ab1)=>{const _0x52d7c8=_0x259936;_0x475ab1&&await _0x34bfe8[_0x52d7c8(0xf2)](_0x475ab1);try{await _0x499753(_0x34bfe8,{'bail':_0x47148a,'attempts':_0x475ab1});}catch(_0x63964d){if(_0x63964d[_0x52d7c8(0xdd)]==='ValidationError'){_0x47148a(_0x63964d);return;}throw _0x63964d;}},_0x69dfe7=await retry(_0x5a8c61,{'retries':this[_0x259936(0xeb)],'onRetry':_0x17a1df=>console['error'](_0x17a1df)});return!_0x3ce2da[_0x259936(0xe6)]&&await _0x34bfe8['done'](),_0x69dfe7;}catch(_0x4f768b){_0x4f768b[_0x259936(0xdd)]==='ValidationError'?await _0x34bfe8[_0x259936(0xe5)](_0x4f768b):await _0x34bfe8[_0x259936(0xe8)](_0x4f768b);await this[_0x259936(0xe7)](_0x259936(0xe4),_0x4f768b);if(_0x4f768b[_0x259936(0xdd)]===_0x259936(0xee))throw _0x4f768b;}}async[a68_0x43f0e6(0xec)](_0x156c93,_0x4835ea,_0x1e318c={}){const _0x4bcc38=a68_0x43f0e6;if(!Array[_0x4bcc38(0xe0)](_0x4835ea))throw new Error(_0x4bcc38(0xf6));for(const _0x4650d2 of _0x4835ea){await this[_0x4bcc38(0xf8)](_0x156c93,_0x4650d2,_0x1e318c);}}}module[a68_0x43f0e6(0xf4)]=Performer;