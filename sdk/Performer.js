const a68_0x40c586=a68_0x2ef8;function a68_0x15e7(){const _0x4f7e6a=['4rNfBLa','workObjects\x20must\x20be\x20an\x20array','name','25763220LGLKlW','ignore_status','ValidationError','run','1710527PopYjX','2099628yqjYCQ','includes','4dbOtnt','497208ZLEgEi','no_done','2094366QHOBmr','error','config','isArray','opts','status','dispatch','BreakError','init','notDone','905247NmADVW','done','object_retries','1071755bvvOAW','failed','9TWMjCJ','initRetry','DONE','fail','retries','context'];a68_0x15e7=function(){return _0x4f7e6a;};return a68_0x15e7();}(function(_0x5a9e88,_0x536c4d){const _0x57b5f8=a68_0x2ef8,_0x2d6b5f=_0x5a9e88();while(!![]){try{const _0x3256d2=-parseInt(_0x57b5f8(0x101))/0x1+-parseInt(_0x57b5f8(0x116))/0x2*(parseInt(_0x57b5f8(0x119))/0x3)+parseInt(_0x57b5f8(0x10c))/0x4*(-parseInt(_0x57b5f8(0x104))/0x5)+parseInt(_0x57b5f8(0x114))/0x6+parseInt(_0x57b5f8(0x113))/0x7+parseInt(_0x57b5f8(0x117))/0x8*(parseInt(_0x57b5f8(0x106))/0x9)+parseInt(_0x57b5f8(0x10f))/0xa;if(_0x3256d2===_0x536c4d)break;else _0x2d6b5f['push'](_0x2d6b5f['shift']());}catch(_0x15881d){_0x2d6b5f['push'](_0x2d6b5f['shift']());}}}(a68_0x15e7,0xaf082));const retry=require('async-retry'),logger=require('./Logger'),WorkObject=require('./WorkObject'),EventHandler=require('./EventHandler'),defaultOptions={'retries':0x2};class Performer extends EventHandler{constructor(_0x4c32d0,_0x4bd68b={}){const _0x51621b=a68_0x2ef8;super(),this[_0x51621b(0x10b)]=_0x4c32d0,this[_0x51621b(0x11d)]={...defaultOptions,..._0x4bd68b},this[_0x51621b(0x10a)]=_0x4c32d0[_0x51621b(0x11b)]['get'](_0x51621b(0x103),this[_0x51621b(0x11d)][_0x51621b(0x10a)]);}async[a68_0x40c586(0x112)](_0x558a54,_0x5698f2,_0x28b5b5={}){const _0x174920=a68_0x40c586,_0x7a4b3d={'ignore_status':[_0x174920(0x108)],'no_done':![],..._0x28b5b5};if(!(_0x5698f2 instanceof WorkObject)){const _0x3c299a='Work\x20object\x20must\x20be\x20a\x20instance\x20of\x20WorkObject';logger[_0x174920(0x11a)](_0x3c299a);throw new Error(_0x3c299a);}if(_0x7a4b3d[_0x174920(0x110)][_0x174920(0x115)](_0x5698f2[_0x174920(0x11e)]))return;try{await _0x5698f2[_0x174920(0x121)]();const _0x4360bd=async(_0x503017,_0x3d9017)=>{const _0x5675cd=_0x174920;_0x3d9017&&await _0x5698f2[_0x5675cd(0x107)](_0x3d9017);try{await _0x558a54(_0x5698f2,{'bail':_0x503017,'attempts':_0x3d9017});}catch(_0x117b13){if(_0x117b13[_0x5675cd(0x10e)]===_0x5675cd(0x111)){_0x503017(_0x117b13);return;}throw _0x117b13;}},_0x23431e=await retry(_0x4360bd,{'retries':this[_0x174920(0x10a)],'onRetry':_0x592f7a=>console[_0x174920(0x11a)](_0x592f7a)});return!_0x7a4b3d[_0x174920(0x118)]&&await _0x5698f2[_0x174920(0x102)](),_0x23431e;}catch(_0x4e3cd4){_0x4e3cd4[_0x174920(0x10e)]==='ValidationError'?await _0x5698f2[_0x174920(0x122)](_0x4e3cd4):await _0x5698f2[_0x174920(0x105)](_0x4e3cd4);await this[_0x174920(0x11f)](_0x174920(0x109),_0x4e3cd4);if(_0x4e3cd4[_0x174920(0x10e)]===_0x174920(0x120))throw _0x4e3cd4;}}async['forEach'](_0x59f1dd,_0x55e963,_0x277d28={}){const _0x4050df=a68_0x40c586;if(!Array[_0x4050df(0x11c)](_0x55e963))throw new Error(_0x4050df(0x10d));for(const _0x3ca190 of _0x55e963){await this[_0x4050df(0x112)](_0x59f1dd,_0x3ca190,_0x277d28);}}}function a68_0x2ef8(_0x2988e5,_0x7be3eb){const _0x15e70e=a68_0x15e7();return a68_0x2ef8=function(_0x2ef8dc,_0x282963){_0x2ef8dc=_0x2ef8dc-0x101;let _0x3efdc0=_0x15e70e[_0x2ef8dc];return _0x3efdc0;},a68_0x2ef8(_0x2988e5,_0x7be3eb);}module['exports']=Performer;