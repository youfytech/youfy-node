const a68_0xc71326=a68_0x2659;function a68_0x2659(_0x4a5cf1,_0x52888d){const _0x5e6e87=a68_0x5e6e();return a68_0x2659=function(_0x2659f5,_0x3a17df){_0x2659f5=_0x2659f5-0x19d;let _0x5afede=_0x5e6e87[_0x2659f5];return _0x5afede;},a68_0x2659(_0x4a5cf1,_0x52888d);}function a68_0x5e6e(){const _0x2dae76=['error','dispatch','Work\x20object\x20must\x20be\x20a\x20instance\x20of\x20WorkObject','failed','BreakError','no_done','get','6300400byxPYt','1589368nmPFUK','fail','object_retries','66uvpIBM','ignore_status','18345udtCeX','8604FxmXeA','done','init','workObjects\x20must\x20be\x20an\x20array','status','notDone','run','1044VZBNrC','isArray','context','72597qACTgv','config','4910QPSizX','ValidationError','retries','DONE','164563kyyyfM','forEach','41521EOGfxd','360EyDgMy','opts','name'];a68_0x5e6e=function(){return _0x2dae76;};return a68_0x5e6e();}(function(_0x68bac1,_0x4d7cf2){const _0x34534a=a68_0x2659,_0x3c3b54=_0x68bac1();while(!![]){try{const _0x43b700=-parseInt(_0x34534a(0x1a5))/0x1*(-parseInt(_0x34534a(0x1b4))/0x2)+parseInt(_0x34534a(0x19d))/0x3+-parseInt(_0x34534a(0x1b0))/0x4+-parseInt(_0x34534a(0x1b6))/0x5*(parseInt(_0x34534a(0x1be))/0x6)+parseInt(_0x34534a(0x1a3))/0x7*(parseInt(_0x34534a(0x1a6))/0x8)+parseInt(_0x34534a(0x1b7))/0x9*(parseInt(_0x34534a(0x19f))/0xa)+parseInt(_0x34534a(0x1b1))/0xb;if(_0x43b700===_0x4d7cf2)break;else _0x3c3b54['push'](_0x3c3b54['shift']());}catch(_0x3515d5){_0x3c3b54['push'](_0x3c3b54['shift']());}}}(a68_0x5e6e,0xd02c3));const retry=require('async-retry'),logger=require('./Logger'),WorkObject=require('./WorkObject'),EventHandler=require('./EventHandler'),defaultOptions={'retries':0x2};class Performer extends EventHandler{constructor(_0x153029,_0x47d6d9={}){const _0x33562d=a68_0x2659;super(),this[_0x33562d(0x1c0)]=_0x153029,this[_0x33562d(0x1a7)]={...defaultOptions,..._0x47d6d9},this['retries']=_0x153029[_0x33562d(0x19e)][_0x33562d(0x1af)](_0x33562d(0x1b3),this[_0x33562d(0x1a7)][_0x33562d(0x1a1)]);}async[a68_0xc71326(0x1bd)](_0x2ab325,_0x564a28,_0x1ef7ad={'ignore_status':[a68_0xc71326(0x1a2)],'no_done':![]}){const _0x58f880=a68_0xc71326;if(!(_0x564a28 instanceof WorkObject)){const _0x3e50b1=_0x58f880(0x1ab);logger[_0x58f880(0x1a9)](_0x3e50b1);throw new Error(_0x3e50b1);}if(_0x1ef7ad[_0x58f880(0x1b5)]['includes'](_0x564a28[_0x58f880(0x1bb)]))return;try{await _0x564a28[_0x58f880(0x1b9)]();const _0x498f65=async(_0x1f15dd,_0x151d69)=>{const _0x245b10=_0x58f880;_0x151d69&&await _0x564a28['initRetry'](_0x151d69);try{await _0x2ab325(_0x564a28,{'bail':_0x1f15dd,'attempts':_0x151d69});}catch(_0x8d3561){if(_0x8d3561[_0x245b10(0x1a8)]===_0x245b10(0x1a0)){_0x1f15dd(_0x8d3561);return;}throw _0x8d3561;}},_0x4bc34f=await retry(_0x498f65,{'retries':this['retries'],'onRetry':_0x4bb281=>console['error'](_0x4bb281)});return _0x1ef7ad[_0x58f880(0x1ae)]&&await _0x564a28[_0x58f880(0x1b8)](),_0x4bc34f;}catch(_0xdb0a0c){_0xdb0a0c[_0x58f880(0x1a8)]==='ValidationError'?_0x1ef7ad[_0x58f880(0x1ae)]&&await _0x564a28[_0x58f880(0x1bc)](_0xdb0a0c):await _0x564a28[_0x58f880(0x1ac)](_0xdb0a0c);await this[_0x58f880(0x1aa)](_0x58f880(0x1b2),_0xdb0a0c);if(_0xdb0a0c[_0x58f880(0x1a8)]===_0x58f880(0x1ad))throw _0xdb0a0c;}}async[a68_0xc71326(0x1a4)](_0x10a2bb,_0xbb34bf,_0x5b2e99={}){const _0x1e6cfb=a68_0xc71326;if(!Array[_0x1e6cfb(0x1bf)](_0xbb34bf))throw new Error(_0x1e6cfb(0x1ba));for(const _0x56516f of _0xbb34bf){await this[_0x1e6cfb(0x1bd)](_0x10a2bb,_0x56516f,_0x5b2e99);}}}module['exports']=Performer;