function a65_0x3ae3(){const _0x46fc65=['6234174uDVRyX','5252990vcClPx','similarity','204924fUdscE','config','22RvUuBj','length','.\x20Amount\x20of\x20items:\x20','init','warn','.\x20Similarity:\x20','Template\x20found:\x20','cleanup','20dhOXEC','2973873VyTfFo','template','8UqPfar','muted','readPDF','readImage','__cleanup','Extracting\x20','company_id','info','Finding\x20better\x20template\x20for\x20OCR...','Fail\x20to\x20remove\x20tmp\x20dir','output_dir','file_attributes','tmpdir','yfy-ocr','17642znMfAj','exports','name','2600020tmcvzM','\x20from\x20','1128912vqgpTP','find'];a65_0x3ae3=function(){return _0x46fc65;};return a65_0x3ae3();}const a65_0x368956=a65_0x408d;(function(_0x122689,_0x32a9cd){const _0x1bf80e=a65_0x408d,_0x344f9b=_0x122689();while(!![]){try{const _0x4079a3=-parseInt(_0x1bf80e(0xc5))/0x1*(parseInt(_0x1bf80e(0xd1))/0x2)+parseInt(_0x1bf80e(0xca))/0x3+parseInt(_0x1bf80e(0xc8))/0x4+parseInt(_0x1bf80e(0xd9))/0x5*(parseInt(_0x1bf80e(0xcf))/0x6)+-parseInt(_0x1bf80e(0xda))/0x7*(parseInt(_0x1bf80e(0xdc))/0x8)+-parseInt(_0x1bf80e(0xcc))/0x9+parseInt(_0x1bf80e(0xcd))/0xa;if(_0x4079a3===_0x32a9cd)break;else _0x344f9b['push'](_0x344f9b['shift']());}catch(_0xbd5aff){_0x344f9b['push'](_0x344f9b['shift']());}}}(a65_0x3ae3,0x5bf3d));const os=require('os'),{resolve}=require('path'),convertPDF=require('../ocr/convertPDF'),cropImage=require('../ocr/cropImage'),readImage=require('../ocr/readImage'),readLargeImage=require('../ocr/readLargeImage'),OCRTemplateApi=require('../api/OCRTemplate'),{existsSync,mkdirSync,rmSync}=require('fs'),logger=require('../sdk/Logger'),{ValidationError}=require('../exceptions');class OCR{['init'](_0x3eff32={}){const _0x1320bb=a65_0x408d,_0x1f57d4={'cleanup':!![],..._0x3eff32};this[_0x1320bb(0xe6)]=resolve(os[_0x1320bb(0xe8)](),_0x1320bb(0xc4)),_0x1f57d4[_0x1320bb(0xd8)]&&this[_0x1320bb(0xe0)](),!existsSync(this['output_dir'])&&mkdirSync(this[_0x1320bb(0xe6)],{'recursive':!![],'force':!![]});}async[a65_0x368956(0xde)](_0x1ceb66){const _0x2bd516=a65_0x368956;this[_0x2bd516(0xd4)]();const _0x58eb7a=this['output_dir'],_0xc9ac6c=await convertPDF(_0x1ceb66,{'output_dir':_0x58eb7a});return await this[_0x2bd516(0xdf)](_0xc9ac6c,{'cleanup':![]});}async[a65_0x368956(0xdf)](_0x199efd,_0x1c06a7={}){const _0x44c0be=a65_0x368956;this['init'](_0x1c06a7);const _0x44e5f4=this[_0x44c0be(0xe6)],_0x2d2ca7=await readLargeImage(_0x199efd,{'lang':'por','output_dir':_0x44e5f4});logger['info'](_0x44c0be(0xe4));const _0x3cef19=await OCRTemplateApi[_0x44c0be(0xcb)](_0x2d2ca7);if(!_0x3cef19?.[_0x44c0be(0xdb)])throw new ValidationError('OCR\x20Template\x20not\x20found.');const {items:_0x47b7c8,template:_0x11fb88}=_0x3cef19,{width:_0x595e20}=_0x11fb88[_0x44c0be(0xe7)]||{'width':0x0};logger[_0x44c0be(0xdd)](_0x44c0be(0xd7)+_0x11fb88[_0x44c0be(0xc7)]+_0x44c0be(0xc9)+_0x11fb88[_0x44c0be(0xe2)]+_0x44c0be(0xd3)+_0x47b7c8[_0x44c0be(0xd2)]+_0x44c0be(0xd6)+_0x11fb88[_0x44c0be(0xce)]);const _0x236220={'__template':_0x11fb88};for(const _0x21ab38 of _0x47b7c8){logger[_0x44c0be(0xe3)](_0x44c0be(0xe1)+_0x21ab38['id']+'\x27s\x20text...');const _0x1407cf=_0x21ab38[_0x44c0be(0xd0)]['rules']||[],_0x1ef771=await cropImage(_0x21ab38,_0x199efd,{'output_dir':_0x44e5f4,'file_width':_0x595e20});if(_0x1ef771&&existsSync(_0x1ef771)){const _0x90a851=await readImage(_0x1ef771,{'output_dir':_0x44e5f4,'rules':_0x1407cf});_0x236220[_0x21ab38['id']]=_0x90a851;}else _0x236220[_0x21ab38['id']]='';}return this[_0x44c0be(0xe0)](),_0x236220;}[a65_0x368956(0xe0)](){const _0x215148=a65_0x368956;try{existsSync(this[_0x215148(0xe6)])&&rmSync(this[_0x215148(0xe6)],{'recursive':!![],'force':!![]});}catch(_0x4c84ff){console[_0x215148(0xd5)](_0x215148(0xe5),_0x4c84ff['message']);}}}function a65_0x408d(_0x168c83,_0x533482){const _0x3ae3db=a65_0x3ae3();return a65_0x408d=function(_0x408dd8,_0x248f48){_0x408dd8=_0x408dd8-0xc4;let _0x354a7a=_0x3ae3db[_0x408dd8];return _0x354a7a;},a65_0x408d(_0x168c83,_0x533482);}module[a65_0x368956(0xc6)]=new OCR();