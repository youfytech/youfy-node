function a65_0x29a9(_0x4d8f71,_0x50e7ba){const _0x15f866=a65_0x15f8();return a65_0x29a9=function(_0x29a9fd,_0x155aac){_0x29a9fd=_0x29a9fd-0x1a7;let _0x295ebd=_0x15f866[_0x29a9fd];return _0x295ebd;},a65_0x29a9(_0x4d8f71,_0x50e7ba);}const a65_0x43fd0e=a65_0x29a9;(function(_0x5933d2,_0x45fa04){const _0x2592bf=a65_0x29a9,_0x39190f=_0x5933d2();while(!![]){try{const _0x583fbe=parseInt(_0x2592bf(0x1bc))/0x1+-parseInt(_0x2592bf(0x1ac))/0x2+parseInt(_0x2592bf(0x1b3))/0x3*(-parseInt(_0x2592bf(0x1a9))/0x4)+parseInt(_0x2592bf(0x1ab))/0x5*(parseInt(_0x2592bf(0x1ba))/0x6)+-parseInt(_0x2592bf(0x1bf))/0x7*(parseInt(_0x2592bf(0x1a7))/0x8)+parseInt(_0x2592bf(0x1b9))/0x9*(-parseInt(_0x2592bf(0x1b6))/0xa)+parseInt(_0x2592bf(0x1c8))/0xb;if(_0x583fbe===_0x45fa04)break;else _0x39190f['push'](_0x39190f['shift']());}catch(_0x1ba4da){_0x39190f['push'](_0x39190f['shift']());}}}(a65_0x15f8,0x4a406));const os=require('os'),{resolve}=require('path'),convertPDF=require('../ocr/convertPDF'),cropImage=require('../ocr/cropImage'),readImage=require('../ocr/readImage'),readLargeImage=require('../ocr/readLargeImage'),OCRTemplateApi=require('../api/OCRTemplate'),{existsSync,mkdirSync,rmSync}=require('fs'),logger=require('../sdk/Logger'),{ValidationError}=require('../exceptions');class OCR{[a65_0x43fd0e(0x1a8)](_0x44bf62={}){const _0x47e771=a65_0x43fd0e,_0x378fef={'cleanup':!![],..._0x44bf62};this['output_dir']=resolve(os[_0x47e771(0x1ad)](),_0x47e771(0x1b0)),_0x378fef['cleanup']&&this[_0x47e771(0x1c1)](),!existsSync(this['output_dir'])&&mkdirSync(this[_0x47e771(0x1c5)],{'recursive':!![],'force':!![]});}async['readPDF'](_0x48bcda){const _0xadc4a3=a65_0x43fd0e;this['init']();const _0x4e65c9=this[_0xadc4a3(0x1c5)],_0x399a2b=await convertPDF(_0x48bcda,{'output_dir':_0x4e65c9});return await this[_0xadc4a3(0x1cb)](_0x399a2b,{'cleanup':![]});}async[a65_0x43fd0e(0x1cb)](_0x431c02,_0x43a1a3={}){const _0x548fcd=a65_0x43fd0e;this[_0x548fcd(0x1a8)](_0x43a1a3);const _0x163d94=this[_0x548fcd(0x1c5)],_0x56a9f8=await readLargeImage(_0x431c02,{'lang':'por','output_dir':_0x163d94});logger[_0x548fcd(0x1b4)](_0x548fcd(0x1b7));const _0x3e3b3b=await OCRTemplateApi[_0x548fcd(0x1bb)](_0x56a9f8);if(!_0x3e3b3b?.[_0x548fcd(0x1c2)])throw new ValidationError(_0x548fcd(0x1bd));const {items:_0xc55bf8,template:_0x4bfa04}=_0x3e3b3b,{width:_0x3da28b}=_0x4bfa04[_0x548fcd(0x1b5)]||{'width':0x0};logger[_0x548fcd(0x1c3)](_0x548fcd(0x1b1)+_0x4bfa04[_0x548fcd(0x1c6)]+'\x20from\x20'+_0x4bfa04[_0x548fcd(0x1af)]+_0x548fcd(0x1aa)+_0xc55bf8[_0x548fcd(0x1c7)]+_0x548fcd(0x1ca)+_0x4bfa04[_0x548fcd(0x1ae)]);const _0x25d19c={'__template':_0x4bfa04};for(const _0x46cd0d of _0xc55bf8){logger[_0x548fcd(0x1b4)](_0x548fcd(0x1b2)+_0x46cd0d['id']+'\x27s\x20text...');const _0x4915a5=_0x46cd0d[_0x548fcd(0x1b8)][_0x548fcd(0x1c0)]||[],_0x5de7ec=await cropImage(_0x46cd0d,_0x431c02,{'output_dir':_0x163d94,'file_width':_0x3da28b});if(_0x5de7ec&&existsSync(_0x5de7ec)){const _0x1bf4df=await readImage(_0x5de7ec,{'output_dir':_0x163d94,'rules':_0x4915a5});_0x25d19c[_0x46cd0d['id']]=_0x1bf4df;}else _0x25d19c[_0x46cd0d['id']]='';}return this['__cleanup'](),_0x25d19c;}[a65_0x43fd0e(0x1c1)](){const _0x4fa70e=a65_0x43fd0e;try{existsSync(this[_0x4fa70e(0x1c5)])&&rmSync(this[_0x4fa70e(0x1c5)],{'recursive':!![],'force':!![]});}catch(_0x1a7fe7){console[_0x4fa70e(0x1c4)](_0x4fa70e(0x1c9),_0x1a7fe7['message']);}}}module[a65_0x43fd0e(0x1be)]=new OCR();function a65_0x15f8(){const _0x566b83=['Extracting\x20','159006byKWUs','info','file_attributes','23140atrbRk','Finding\x20better\x20template\x20for\x20OCR...','config','207FmRxSe','6JNrgUO','find','128005FiPzMy','OCR\x20Template\x20not\x20found.','exports','6223RpSyEg','rules','__cleanup','template','muted','warn','output_dir','name','length','9339682UkOeLr','Fail\x20to\x20remove\x20tmp\x20dir','.\x20Similarity:\x20','readImage','2872tYbBsx','init','8sJvofV','.\x20Amount\x20of\x20items:\x20','1195800PTTgGO','867432iualjZ','tmpdir','similarity','company_id','yfy-ocr','Template\x20found:\x20'];a65_0x15f8=function(){return _0x566b83;};return a65_0x15f8();}