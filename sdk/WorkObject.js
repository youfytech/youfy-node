const a70_0xe24774=a70_0x308e;(function(_0xdc7d7,_0x687157){const _0x4d88ee=a70_0x308e,_0x385acf=_0xdc7d7();while(!![]){try{const _0x5e7034=-parseInt(_0x4d88ee(0x1f6))/0x1+-parseInt(_0x4d88ee(0x203))/0x2+parseInt(_0x4d88ee(0x1e2))/0x3*(parseInt(_0x4d88ee(0x1fa))/0x4)+-parseInt(_0x4d88ee(0x1ef))/0x5+-parseInt(_0x4d88ee(0x1eb))/0x6+parseInt(_0x4d88ee(0x1ff))/0x7+parseInt(_0x4d88ee(0x1fc))/0x8;if(_0x5e7034===_0x687157)break;else _0x385acf['push'](_0x385acf['shift']());}catch(_0x257e9a){_0x385acf['push'](_0x385acf['shift']());}}}(a70_0x1bf2,0x7e010));function a70_0x1bf2(){const _0x57f39d=['fail','done','attempts','_dispatch','assign','parse','3523932INaxWn','init','events','notDone','271755hkVxAk','save','PENDING','retry','warn','destroy','error','568744fiLIXj','update','not_done','finish','6124UldCrB','exports','6756824zymkHO','\x22\x20event]','failed','3916850kXHQTe','initRetry','status','get','1370044kgGpKq','1974RXdEmF','payload','delete'];a70_0x1bf2=function(){return _0x57f39d;};return a70_0x1bf2();}function a70_0x308e(_0x19fc0d,_0x396ac8){const _0x1bf2ec=a70_0x1bf2();return a70_0x308e=function(_0x308e6d,_0x5ecd52){_0x308e6d=_0x308e6d-0x1e2;let _0x256803=_0x1bf2ec[_0x308e6d];return _0x256803;},a70_0x308e(_0x19fc0d,_0x396ac8);}const WorkObjectApi=require('../api/WorkObject'),ErrorHelper=require('../helpers/Error'),logger=require('../sdk/Logger');class WorkObject{constructor(_0x46905a){const _0x3c16e2=a70_0x308e;this[_0x3c16e2(0x201)]=_0x3c16e2(0x1f1),Object[_0x3c16e2(0x1e9)](this,_0x46905a),this['events']={};}[a70_0xe24774(0x202)](_0x1b454f,_0x599e63){const _0x9b001f=a70_0xe24774;return this[_0x9b001f(0x1e3)][_0x1b454f]||_0x599e63;}['set'](_0x5f2bd1,_0x2c3d7a){const _0x2ac022=a70_0xe24774;this[_0x2ac022(0x1e3)][_0x5f2bd1]=_0x2c3d7a;}async['update'](_0x8d2891){const _0x13c9cd=a70_0xe24774;Object[_0x13c9cd(0x1e9)](this['payload'],_0x8d2891),await this['save']();}async[a70_0xe24774(0x1ec)](){const _0x1e04fa=a70_0xe24774,_0x3e6d99=await WorkObjectApi[_0x1e04fa(0x1ec)](this['id']);Object[_0x1e04fa(0x1e9)](this,_0x3e6d99),await this[_0x1e04fa(0x1e8)](_0x1e04fa(0x1ec));}async[a70_0xe24774(0x200)](_0x4775cc){const _0xc8c62b=a70_0xe24774;this[_0xc8c62b(0x1e7)]=_0x4775cc,await this[_0xc8c62b(0x1f0)](),await this[_0xc8c62b(0x1e8)](_0xc8c62b(0x1f2));}async['done'](){const _0x473874=a70_0xe24774,_0x512112=await WorkObjectApi[_0x473874(0x1e6)](this['id'],{'payload':this[_0x473874(0x1e3)]});Object[_0x473874(0x1e9)](this,_0x512112),await this[_0x473874(0x1e8)](_0x473874(0x1e6),_0x512112),await this[_0x473874(0x1e8)](_0x473874(0x1f9));}async['notDone'](_0x2e9b02){const _0x10ecbf=a70_0xe24774;logger[_0x10ecbf(0x1f3)](_0x2e9b02);try{const _0x282d25=await WorkObjectApi[_0x10ecbf(0x1ee)](this['id'],{'error':ErrorHelper[_0x10ecbf(0x1ea)](_0x2e9b02||new Error('Desconhecido!'))});return Object[_0x10ecbf(0x1e9)](this,_0x282d25),await this[_0x10ecbf(0x1e8)](_0x10ecbf(0x1f8),_0x2e9b02),await this[_0x10ecbf(0x1e8)](_0x10ecbf(0x1f9)),_0x282d25;}catch(_0x522d59){logger[_0x10ecbf(0x1f3)](_0x522d59);throw _0x522d59;}}async[a70_0xe24774(0x1fe)](_0xb8aee){const _0xfe4cb0=a70_0xe24774;logger[_0xfe4cb0(0x1f5)](_0xb8aee);try{const _0x286232=await WorkObjectApi[_0xfe4cb0(0x1fe)](this['id'],{'error':ErrorHelper['parse'](_0xb8aee||new Error('Desconhecido!'))});return Object['assign'](this,_0x286232),await this[_0xfe4cb0(0x1e8)](_0xfe4cb0(0x1e5),_0xb8aee),await this['_dispatch']('finish'),_0x286232;}catch(_0x4c535d){logger[_0xfe4cb0(0x1f5)](_0x4c535d);throw _0x4c535d;}}async[a70_0xe24774(0x1f0)](){const _0x5b19a1=a70_0xe24774,_0x2cc158=await WorkObjectApi[_0x5b19a1(0x1f7)](this['id'],{'payload':this[_0x5b19a1(0x1e3)],'attempts':this['attempts']});Object[_0x5b19a1(0x1e9)](this,_0x2cc158),await this[_0x5b19a1(0x1e8)]('save');}async[a70_0xe24774(0x1f4)](){const _0x8c1a1b=a70_0xe24774;await WorkObjectApi[_0x8c1a1b(0x1e4)](this['id']),await this['_dispatch'](_0x8c1a1b(0x1f4));}async['on'](_0x59be9e,_0x580262){const _0x2f8da3=a70_0xe24774;this[_0x2f8da3(0x1ed)][_0x59be9e]=_0x580262;}async['_dispatch'](_0x28e14b,_0xbcc5b8){const _0x321d2e=a70_0xe24774;try{typeof this[_0x321d2e(0x1ed)][_0x28e14b]==='function'&&await this[_0x321d2e(0x1ed)][_0x28e14b](_0xbcc5b8);}catch(_0x1c1854){logger['error']('[Error\x20to\x20dispatch\x20work\x20object\x20\x22'+_0x28e14b+_0x321d2e(0x1fd),_0x1c1854);}}}module[a70_0xe24774(0x1fb)]=WorkObject;