const a70_0x38312b=a70_0x5991;function a70_0x129f(){const _0x2dd60b=['payload','1312913WutveK','failed','parse','not_done','finish','notDone','68EDanAi','exports','warn','334RkQRSb','131448NDpaLS','destroy','update','275532UFKUHy','609kmBRxk','get','save','function','initRetry','assign','PENDING','delete','status','retry','init','164637neVcWl','8nEsdMS','[Error\x20to\x20dispatch\x20work\x20object\x20\x22','35KzJARS','done','attempts','events','error','_dispatch','429QBYbMo','150OoUsYD','332298oLVNKf','Desconhecido!','set','64899JPZAUv'];a70_0x129f=function(){return _0x2dd60b;};return a70_0x129f();}(function(_0x3f3806,_0x153c81){const _0x208a4d=a70_0x5991,_0x4d5040=_0x3f3806();while(!![]){try{const _0x1c6de9=parseInt(_0x208a4d(0x16e))/0x1*(-parseInt(_0x208a4d(0x169))/0x2)+-parseInt(_0x208a4d(0x15e))/0x3*(parseInt(_0x208a4d(0x166))/0x4)+parseInt(_0x208a4d(0x153))/0x5*(parseInt(_0x208a4d(0x16d))/0x6)+-parseInt(_0x208a4d(0x160))/0x7*(parseInt(_0x208a4d(0x17a))/0x8)+-parseInt(_0x208a4d(0x15b))/0x9+parseInt(_0x208a4d(0x15a))/0xa*(parseInt(_0x208a4d(0x179))/0xb)+-parseInt(_0x208a4d(0x16a))/0xc*(-parseInt(_0x208a4d(0x159))/0xd);if(_0x1c6de9===_0x153c81)break;else _0x4d5040['push'](_0x4d5040['shift']());}catch(_0x53174d){_0x4d5040['push'](_0x4d5040['shift']());}}}(a70_0x129f,0x341f8));const WorkObjectApi=require('../api/WorkObject'),ErrorHelper=require('../helpers/Error'),logger=require('../sdk/Logger');class WorkObject{constructor(_0x1ec8fa){const _0x39b5d8=a70_0x5991;this[_0x39b5d8(0x176)]=_0x39b5d8(0x174),Object[_0x39b5d8(0x173)](this,_0x1ec8fa),this['events']={};}[a70_0x38312b(0x16f)](_0x471284,_0x25e8d){const _0xc670e=a70_0x38312b;return this[_0xc670e(0x15f)][_0x471284]||_0x25e8d;}[a70_0x38312b(0x15d)](_0x247e57,_0x5393f7){const _0x31e4df=a70_0x38312b;this[_0x31e4df(0x15f)][_0x247e57]=_0x5393f7;}async[a70_0x38312b(0x16c)](_0x1b30e0){const _0xc27971=a70_0x38312b;Object[_0xc27971(0x173)](this[_0xc27971(0x15f)],_0x1b30e0),await this[_0xc27971(0x170)]();}async['init'](){const _0x2253e5=a70_0x38312b,_0x2f1cf9=await WorkObjectApi[_0x2253e5(0x178)](this['id']);Object[_0x2253e5(0x173)](this,_0x2f1cf9),await this[_0x2253e5(0x158)](_0x2253e5(0x178));}async[a70_0x38312b(0x172)](_0x3c20ae){const _0x45222f=a70_0x38312b;this[_0x45222f(0x155)]=_0x3c20ae,await this[_0x45222f(0x170)](),await this['_dispatch'](_0x45222f(0x177));}async[a70_0x38312b(0x154)](){const _0x34dfd7=a70_0x38312b;logger['success']('work\x20object\x20done!\x20'+(this[_0x34dfd7(0x15f)]?.['id']||this['id']||''));const _0x39dce9=await WorkObjectApi[_0x34dfd7(0x154)](this['id'],{'payload':this[_0x34dfd7(0x15f)]});Object[_0x34dfd7(0x173)](this,_0x39dce9),await this['_dispatch'](_0x34dfd7(0x154),_0x39dce9),await this[_0x34dfd7(0x158)](_0x34dfd7(0x164));}async[a70_0x38312b(0x165)](_0x202c47){const _0x4479a7=a70_0x38312b;logger['warn'](_0x202c47);try{const _0x4dc6e1=await WorkObjectApi[_0x4479a7(0x165)](this['id'],{'error':ErrorHelper[_0x4479a7(0x162)](_0x202c47||new Error(_0x4479a7(0x15c)))});return Object[_0x4479a7(0x173)](this,_0x4dc6e1),await this[_0x4479a7(0x158)](_0x4479a7(0x163),_0x202c47),await this[_0x4479a7(0x158)](_0x4479a7(0x164)),_0x4dc6e1;}catch(_0x5e06d4){logger[_0x4479a7(0x168)](_0x5e06d4);throw _0x5e06d4;}}async[a70_0x38312b(0x161)](_0xf7ba3d){const _0x2672ec=a70_0x38312b;logger[_0x2672ec(0x157)](_0xf7ba3d);try{const _0x2c3e68=await WorkObjectApi[_0x2672ec(0x161)](this['id'],{'error':ErrorHelper[_0x2672ec(0x162)](_0xf7ba3d||new Error(_0x2672ec(0x15c)))});return Object[_0x2672ec(0x173)](this,_0x2c3e68),await this[_0x2672ec(0x158)]('fail',_0xf7ba3d),await this['_dispatch']('finish'),_0x2c3e68;}catch(_0x3c9b21){logger[_0x2672ec(0x157)](_0x3c9b21);throw _0x3c9b21;}}async['save'](){const _0x29d860=a70_0x38312b,_0x5e5bef=await WorkObjectApi[_0x29d860(0x16c)](this['id'],{'payload':this['payload'],'attempts':this['attempts']});Object[_0x29d860(0x173)](this,_0x5e5bef),await this[_0x29d860(0x158)]('save');}async['destroy'](){const _0x387bc2=a70_0x38312b;await WorkObjectApi[_0x387bc2(0x175)](this['id']),await this[_0x387bc2(0x158)](_0x387bc2(0x16b));}async['on'](_0x54ce65,_0x8cc64){this['events'][_0x54ce65]=_0x8cc64;}async[a70_0x38312b(0x158)](_0x15452b,_0x85e150){const _0x3b4c3a=a70_0x38312b;try{typeof this[_0x3b4c3a(0x156)][_0x15452b]===_0x3b4c3a(0x171)&&await this[_0x3b4c3a(0x156)][_0x15452b](_0x85e150);}catch(_0x513279){logger[_0x3b4c3a(0x157)](_0x3b4c3a(0x17b)+_0x15452b+'\x22\x20event]',_0x513279);}}}function a70_0x5991(_0x2bf836,_0x98d1ad){const _0x129f7b=a70_0x129f();return a70_0x5991=function(_0x599198,_0x10fe40){_0x599198=_0x599198-0x153;let _0xd5a672=_0x129f7b[_0x599198];return _0xd5a672;},a70_0x5991(_0x2bf836,_0x98d1ad);}module[a70_0x38312b(0x167)]=WorkObject;