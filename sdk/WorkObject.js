function a70_0x3564(){const _0x529c28=['7686805aSCjkY','work\x20object\x20done!\x20','update','finish','140KFPBjW','failed','set','events','1985357cNjSjW','get','delete','Desconhecido!','warn','1015865kagoOJ','assign','PENDING','67863bPgQrK','[Error\x20to\x20dispatch\x20work\x20object\x20\x22','status','attempts','init','_dispatch','retry','destroy','384440BmzyRC','1059432QUvyMu','success','function','initRetry','payload','20rBYplr','414657hcjoDY','6ZdNplJ','parse','save','error','fail','\x22\x20event]','8mpEGzO','notDone'];a70_0x3564=function(){return _0x529c28;};return a70_0x3564();}const a70_0x12f1d1=a70_0x552b;(function(_0x36bbc4,_0x3429d6){const _0x218dfb=a70_0x552b,_0x1aad77=_0x36bbc4();while(!![]){try{const _0x444f54=-parseInt(_0x218dfb(0x1b8))/0x1+-parseInt(_0x218dfb(0x1bd))/0x2*(-parseInt(_0x218dfb(0x1af))/0x3)+-parseInt(_0x218dfb(0x1b7))/0x4+parseInt(_0x218dfb(0x1ac))/0x5*(parseInt(_0x218dfb(0x1bf))/0x6)+-parseInt(_0x218dfb(0x1c7))/0x7+parseInt(_0x218dfb(0x1c5))/0x8*(-parseInt(_0x218dfb(0x1be))/0x9)+-parseInt(_0x218dfb(0x1a3))/0xa*(-parseInt(_0x218dfb(0x1a7))/0xb);if(_0x444f54===_0x3429d6)break;else _0x1aad77['push'](_0x1aad77['shift']());}catch(_0x564d65){_0x1aad77['push'](_0x1aad77['shift']());}}}(a70_0x3564,0xa0457));const WorkObjectApi=require('../api/WorkObject'),ErrorHelper=require('../helpers/Error'),logger=require('../sdk/Logger');class WorkObject{constructor(_0x444a6e){const _0x2e54f4=a70_0x552b;this[_0x2e54f4(0x1b1)]=_0x2e54f4(0x1ae),Object[_0x2e54f4(0x1ad)](this,_0x444a6e),this['events']={};}[a70_0x12f1d1(0x1a8)](_0xc44205,_0x2ac8c2){const _0x9da8d4=a70_0x12f1d1;return this[_0x9da8d4(0x1bc)][_0xc44205]||_0x2ac8c2;}[a70_0x12f1d1(0x1a5)](_0xe4ea5,_0x25aa88){const _0x323228=a70_0x12f1d1;this[_0x323228(0x1bc)][_0xe4ea5]=_0x25aa88;}async[a70_0x12f1d1(0x1a1)](_0x41d99a){const _0x18a88b=a70_0x12f1d1;Object[_0x18a88b(0x1ad)](this['payload'],_0x41d99a),await this[_0x18a88b(0x1c1)]();}async[a70_0x12f1d1(0x1b3)](){const _0x1c5322=a70_0x12f1d1,_0x5e6fe0=await WorkObjectApi[_0x1c5322(0x1b3)](this['id']);Object['assign'](this,_0x5e6fe0),await this[_0x1c5322(0x1b4)](_0x1c5322(0x1b3));}async[a70_0x12f1d1(0x1bb)](_0x2e469b){const _0x670a3d=a70_0x12f1d1;this[_0x670a3d(0x1b2)]=_0x2e469b,await this[_0x670a3d(0x1c1)](),await this[_0x670a3d(0x1b4)](_0x670a3d(0x1b5));}async['done'](){const _0x3924d5=a70_0x12f1d1;logger[_0x3924d5(0x1b9)](_0x3924d5(0x1a0)+(this[_0x3924d5(0x1bc)]?.['id']||this['id']||''));const _0x175bda=await WorkObjectApi['done'](this['id'],{'payload':this[_0x3924d5(0x1bc)]});Object[_0x3924d5(0x1ad)](this,_0x175bda),await this[_0x3924d5(0x1b4)]('done',_0x175bda),await this[_0x3924d5(0x1b4)](_0x3924d5(0x1a2));}async[a70_0x12f1d1(0x1c6)](_0xf6d993){const _0x47d394=a70_0x12f1d1;logger[_0x47d394(0x1ab)](_0xf6d993);try{const _0x55c878=await WorkObjectApi[_0x47d394(0x1c6)](this['id'],{'error':ErrorHelper[_0x47d394(0x1c0)](_0xf6d993||new Error(_0x47d394(0x1aa)))});return Object[_0x47d394(0x1ad)](this,_0x55c878),await this[_0x47d394(0x1b4)]('not_done',_0xf6d993),await this[_0x47d394(0x1b4)](_0x47d394(0x1a2)),_0x55c878;}catch(_0x5f2cb8){logger[_0x47d394(0x1ab)](_0x5f2cb8);throw _0x5f2cb8;}}async[a70_0x12f1d1(0x1a4)](_0x1f3190){const _0x1939b0=a70_0x12f1d1;logger['error'](_0x1f3190);try{const _0x13d2c6=await WorkObjectApi[_0x1939b0(0x1a4)](this['id'],{'error':ErrorHelper[_0x1939b0(0x1c0)](_0x1f3190||new Error('Desconhecido!'))});return Object['assign'](this,_0x13d2c6),await this['_dispatch'](_0x1939b0(0x1c3),_0x1f3190),await this[_0x1939b0(0x1b4)](_0x1939b0(0x1a2)),_0x13d2c6;}catch(_0x589b50){logger[_0x1939b0(0x1c2)](_0x589b50);throw _0x589b50;}}async[a70_0x12f1d1(0x1c1)](){const _0x5c7eaa=a70_0x12f1d1,_0x1590b2=await WorkObjectApi[_0x5c7eaa(0x1a1)](this['id'],{'payload':this[_0x5c7eaa(0x1bc)],'attempts':this[_0x5c7eaa(0x1b2)]});Object['assign'](this,_0x1590b2),await this[_0x5c7eaa(0x1b4)]('save');}async['destroy'](){const _0x585c8c=a70_0x12f1d1;await WorkObjectApi[_0x585c8c(0x1a9)](this['id']),await this[_0x585c8c(0x1b4)](_0x585c8c(0x1b6));}async['on'](_0x88525b,_0x255a35){const _0x16697c=a70_0x12f1d1;this[_0x16697c(0x1a6)][_0x88525b]=_0x255a35;}async[a70_0x12f1d1(0x1b4)](_0x2725ca,_0x3f52ef){const _0x205543=a70_0x12f1d1;try{typeof this[_0x205543(0x1a6)][_0x2725ca]===_0x205543(0x1ba)&&await this[_0x205543(0x1a6)][_0x2725ca](_0x3f52ef);}catch(_0x2e4a6b){logger['error'](_0x205543(0x1b0)+_0x2725ca+_0x205543(0x1c4),_0x2e4a6b);}}}function a70_0x552b(_0x5ea9a4,_0x496cd6){const _0x356435=a70_0x3564();return a70_0x552b=function(_0x552b79,_0x4f7ffe){_0x552b79=_0x552b79-0x1a0;let _0x468891=_0x356435[_0x552b79];return _0x468891;},a70_0x552b(_0x5ea9a4,_0x496cd6);}module['exports']=WorkObject;