function a70_0xdb89(){const _0x25f591=['events','exports','4803876lnNvUY','parse','notDone','_dispatch','save','3761435uBYTCE','get','function','success','work\x20object\x20done!\x20','update','warn','assign','[Error\x20to\x20dispatch\x20work\x20object\x20\x22','\x22\x20event]','destroy','done','initRetry','5444VcWCSO','1445988bDDJHo','failed','set','Desconhecido!','finish','188lWjLCh','14115540vauFJm','payload','not_done','error','init','16ThrsUi','602178vxmSrT','retry','8hkAMqJ','4909023DfKQdX','attempts'];a70_0xdb89=function(){return _0x25f591;};return a70_0xdb89();}const a70_0x3f34ad=a70_0x3bee;(function(_0x58858d,_0x55f260){const _0x5e71da=a70_0x3bee,_0x5de8f1=_0x58858d();while(!![]){try{const _0x5d784f=-parseInt(_0x5e71da(0xd2))/0x1*(-parseInt(_0x5e71da(0xcc))/0x2)+parseInt(_0x5e71da(0xd9))/0x3*(-parseInt(_0x5e71da(0xd8))/0x4)+-parseInt(_0x5e71da(0xe5))/0x5+parseInt(_0x5e71da(0xcd))/0x6+-parseInt(_0x5e71da(0xe0))/0x7+parseInt(_0x5e71da(0xdb))/0x8*(parseInt(_0x5e71da(0xdc))/0x9)+parseInt(_0x5e71da(0xd3))/0xa;if(_0x5d784f===_0x55f260)break;else _0x5de8f1['push'](_0x5de8f1['shift']());}catch(_0x1e5a79){_0x5de8f1['push'](_0x5de8f1['shift']());}}}(a70_0xdb89,0x72534));const WorkObjectApi=require('../api/WorkObject'),ErrorHelper=require('../helpers/Error'),logger=require('../sdk/Logger');function a70_0x3bee(_0x545f1e,_0x10968e){const _0xdb890=a70_0xdb89();return a70_0x3bee=function(_0x3bee2d,_0x2f8c27){_0x3bee2d=_0x3bee2d-0xc0;let _0x5a0ad5=_0xdb890[_0x3bee2d];return _0x5a0ad5;},a70_0x3bee(_0x545f1e,_0x10968e);}class WorkObject{constructor(_0x3db84a){const _0x4e87e4=a70_0x3bee;this['status']='PENDING',Object[_0x4e87e4(0xc6)](this,_0x3db84a),this[_0x4e87e4(0xde)]={};}[a70_0x3f34ad(0xc0)](_0x4f5c2b,_0x20f6f8){const _0x5de8a2=a70_0x3f34ad;return this[_0x5de8a2(0xd4)][_0x4f5c2b]||_0x20f6f8;}[a70_0x3f34ad(0xcf)](_0x264fce,_0x1bb857){const _0x1da5f4=a70_0x3f34ad;this[_0x1da5f4(0xd4)][_0x264fce]=_0x1bb857;}async['update'](_0x20caa4){const _0x127f5d=a70_0x3f34ad;Object[_0x127f5d(0xc6)](this['payload'],_0x20caa4),await this[_0x127f5d(0xe4)]();}async[a70_0x3f34ad(0xd7)](){const _0x4dc33f=a70_0x3f34ad,_0x3ddc52=await WorkObjectApi['init'](this['id']);Object[_0x4dc33f(0xc6)](this,_0x3ddc52),await this[_0x4dc33f(0xe3)](_0x4dc33f(0xd7));}async[a70_0x3f34ad(0xcb)](_0x599b1b){const _0x3b6c1c=a70_0x3f34ad;this[_0x3b6c1c(0xdd)]=_0x599b1b,await this[_0x3b6c1c(0xe4)](),await this[_0x3b6c1c(0xe3)](_0x3b6c1c(0xda));}async[a70_0x3f34ad(0xca)](){const _0x1b659e=a70_0x3f34ad;logger[_0x1b659e(0xc2)](_0x1b659e(0xc3)+(this[_0x1b659e(0xd4)]?.['id']||this['id']||''));const _0x42ee6b=await WorkObjectApi[_0x1b659e(0xca)](this['id'],{'payload':this[_0x1b659e(0xd4)]});Object['assign'](this,_0x42ee6b),await this[_0x1b659e(0xe3)]('done',_0x42ee6b),await this[_0x1b659e(0xe3)]('finish');}async['notDone'](_0xdd11a2){const _0x1fb037=a70_0x3f34ad;logger[_0x1fb037(0xc5)](_0xdd11a2);try{const _0x3abbf0=await WorkObjectApi[_0x1fb037(0xe2)](this['id'],{'error':ErrorHelper[_0x1fb037(0xe1)](_0xdd11a2||new Error('Desconhecido!'))});return Object[_0x1fb037(0xc6)](this,_0x3abbf0),await this[_0x1fb037(0xe3)](_0x1fb037(0xd5),_0xdd11a2),await this[_0x1fb037(0xe3)]('finish'),_0x3abbf0;}catch(_0x2d13b8){logger['warn'](_0x2d13b8);throw _0x2d13b8;}}async[a70_0x3f34ad(0xce)](_0x8d9bfe){const _0x34d872=a70_0x3f34ad;logger[_0x34d872(0xd6)](_0x8d9bfe);try{const _0x277ca6=await WorkObjectApi[_0x34d872(0xce)](this['id'],{'error':ErrorHelper[_0x34d872(0xe1)](_0x8d9bfe||new Error(_0x34d872(0xd0)))});return Object[_0x34d872(0xc6)](this,_0x277ca6),await this['_dispatch']('fail',_0x8d9bfe),await this[_0x34d872(0xe3)](_0x34d872(0xd1)),_0x277ca6;}catch(_0x12b71e){logger[_0x34d872(0xd6)](_0x12b71e);throw _0x12b71e;}}async[a70_0x3f34ad(0xe4)](){const _0x526847=a70_0x3f34ad,_0x513dd9=await WorkObjectApi[_0x526847(0xc4)](this['id'],{'payload':this[_0x526847(0xd4)],'attempts':this[_0x526847(0xdd)]});Object[_0x526847(0xc6)](this,_0x513dd9),await this[_0x526847(0xe3)](_0x526847(0xe4));}async[a70_0x3f34ad(0xc9)](){await WorkObjectApi['delete'](this['id']),await this['_dispatch']('destroy');}async['on'](_0xf1dedb,_0x251091){const _0x5ad4cc=a70_0x3f34ad;this[_0x5ad4cc(0xde)][_0xf1dedb]=_0x251091;}async[a70_0x3f34ad(0xe3)](_0x9c8614,_0x22203c){const _0x1e1b93=a70_0x3f34ad;try{typeof this['events'][_0x9c8614]===_0x1e1b93(0xc1)&&await this[_0x1e1b93(0xde)][_0x9c8614](_0x22203c);}catch(_0x39f9a8){logger[_0x1e1b93(0xd6)](_0x1e1b93(0xc7)+_0x9c8614+_0x1e1b93(0xc8),_0x39f9a8);}}}module[a70_0x3f34ad(0xdf)]=WorkObject;