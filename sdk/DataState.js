const a58_0x5dd2e5=a58_0x4b0b;(function(_0x46728c,_0x3e7c67){const _0x95fd25=a58_0x4b0b,_0x11adcf=_0x46728c();while(!![]){try{const _0x3a49d8=-parseInt(_0x95fd25(0x182))/0x1*(parseInt(_0x95fd25(0x171))/0x2)+parseInt(_0x95fd25(0x17b))/0x3+-parseInt(_0x95fd25(0x180))/0x4*(parseInt(_0x95fd25(0x175))/0x5)+parseInt(_0x95fd25(0x17f))/0x6*(parseInt(_0x95fd25(0x178))/0x7)+-parseInt(_0x95fd25(0x179))/0x8*(-parseInt(_0x95fd25(0x172))/0x9)+parseInt(_0x95fd25(0x18a))/0xa+-parseInt(_0x95fd25(0x185))/0xb;if(_0x3a49d8===_0x3e7c67)break;else _0x11adcf['push'](_0x11adcf['shift']());}catch(_0x2dbeb0){_0x11adcf['push'](_0x11adcf['shift']());}}}(a58_0x4a93,0xb52d2));const os=require('os'),{resolve}=require('path'),{writeFileSync,existsSync,mkdirSync,rmSync,readFileSync}=require('fs'),defaultOptions={'keep_state':!![]};function a58_0x4b0b(_0x2fa3ff,_0x4c450c){const _0x4a93c9=a58_0x4a93();return a58_0x4b0b=function(_0x4b0b9e,_0x4a5fc8){_0x4b0b9e=_0x4b0b9e-0x16e;let _0x14db2c=_0x4a93c9[_0x4b0b9e];return _0x14db2c;},a58_0x4b0b(_0x2fa3ff,_0x4c450c);}function a58_0x4a93(){const _0x556ab9=['stringify','base_path','1650daikQg','state_dir','assign','7GDucPV','424gseBts','update','3145677mWhhnG','__name','saveState','__options','6237264iNFtJk','4076FmNqJP','parse','2ESNiaU','_getStateFile','_getState','14047660RWhEDy','get','_selfUpdate','init','set','8201700PxELNM','path','yfy-job-states','removeOldStates','712428oNXxjU','27099QwoxML'];a58_0x4a93=function(){return _0x556ab9;};return a58_0x4a93();}class DataState{constructor(_0x4bc105,_0x38f7f0={},_0x5f09a7){const _0x49b458=a58_0x4b0b;this[_0x49b458(0x17c)]=_0x4bc105,this[_0x49b458(0x17e)]={...defaultOptions,..._0x5f09a7},this[_0x49b458(0x176)]=resolve(os['tmpdir'](),_0x49b458(0x16f)),Object[_0x49b458(0x177)](this,_0x38f7f0),this[_0x49b458(0x188)](_0x38f7f0);}[a58_0x5dd2e5(0x183)](){const _0x274fa7=a58_0x5dd2e5,_0x121ada=this[_0x274fa7(0x17c)]+'.json',_0x1e7907=resolve(this[_0x274fa7(0x176)],_0x121ada);return{'base_path':this[_0x274fa7(0x176)],'name':_0x121ada,'path':_0x1e7907};}[a58_0x5dd2e5(0x188)](_0x5a5ec3){const _0x656ccc=a58_0x5dd2e5,_0x416e0d=this[_0x656ccc(0x183)]();!existsSync(_0x416e0d['base_path'])&&mkdirSync(_0x416e0d[_0x656ccc(0x174)],{'recursive':!![]}),!this[_0x656ccc(0x17e)]['keep_state']&&this['removeOldStates'](),!existsSync(_0x416e0d[_0x656ccc(0x16e)])?this['saveState'](_0x5a5ec3):this['_selfUpdate']();}[a58_0x5dd2e5(0x170)](){const _0x19d5d5=a58_0x5dd2e5,_0x445787=this[_0x19d5d5(0x183)]();rmSync(_0x445787[_0x19d5d5(0x16e)],{'force':!![]});}[a58_0x5dd2e5(0x184)](){const _0x48f163=a58_0x5dd2e5,_0x62956d=this[_0x48f163(0x183)]();if(existsSync(_0x62956d[_0x48f163(0x16e)])){const _0x4c4925=readFileSync(_0x62956d[_0x48f163(0x16e)]);return JSON[_0x48f163(0x181)](_0x4c4925);}return{};}['_selfUpdate'](){const _0x5b0f10=a58_0x5dd2e5;Object[_0x5b0f10(0x177)](this,this[_0x5b0f10(0x184)]());}[a58_0x5dd2e5(0x17d)](_0x5ab1c9){const _0x110995=a58_0x5dd2e5,_0x3932fe=this[_0x110995(0x183)]();writeFileSync(_0x3932fe[_0x110995(0x16e)],JSON[_0x110995(0x173)](_0x5ab1c9)),this[_0x110995(0x187)]();}[a58_0x5dd2e5(0x186)](_0x477479,_0x5deaf5){const _0x45d009=this['_getState']();return _0x45d009[_0x477479]||_0x5deaf5;}[a58_0x5dd2e5(0x189)](_0x2ae0f1,_0x452e0a){const _0x314abf=a58_0x5dd2e5,_0x4740b0=this[_0x314abf(0x184)]();_0x4740b0[_0x2ae0f1]=_0x452e0a,this['saveState'](_0x4740b0);}[a58_0x5dd2e5(0x17a)](_0x3e825a){const _0x1823f5=a58_0x5dd2e5,_0x1a2d51=this[_0x1823f5(0x184)]();this[_0x1823f5(0x17d)]({..._0x1a2d51,..._0x3e825a});}}module['exports']=DataState;