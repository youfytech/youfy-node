const a62_0x265155=a62_0x1c2e;(function(_0x3d5cae,_0x5da935){const _0x573d50=a62_0x1c2e,_0xb5fa5c=_0x3d5cae();while(!![]){try{const _0x1634e4=parseInt(_0x573d50(0x1aa))/0x1+parseInt(_0x573d50(0x1b2))/0x2*(parseInt(_0x573d50(0x1a8))/0x3)+parseInt(_0x573d50(0x1b3))/0x4+parseInt(_0x573d50(0x1b1))/0x5*(parseInt(_0x573d50(0x1bf))/0x6)+parseInt(_0x573d50(0x1b8))/0x7*(parseInt(_0x573d50(0x1be))/0x8)+-parseInt(_0x573d50(0x1b5))/0x9*(-parseInt(_0x573d50(0x1ae))/0xa)+-parseInt(_0x573d50(0x1ad))/0xb;if(_0x1634e4===_0x5da935)break;else _0xb5fa5c['push'](_0xb5fa5c['shift']());}catch(_0x4f1b94){_0xb5fa5c['push'](_0xb5fa5c['shift']());}}}(a62_0x4ec1,0xd6a08));function a62_0x1c2e(_0x32c90f,_0xad4827){const _0x4ec131=a62_0x4ec1();return a62_0x1c2e=function(_0x1c2ea7,_0x4097a7){_0x1c2ea7=_0x1c2ea7-0x1a6;let _0x5560b4=_0x4ec131[_0x1c2ea7];return _0x5560b4;},a62_0x1c2e(_0x32c90f,_0xad4827);}const nodemailer=require('nodemailer'),Handlebars=require('handlebars'),SettingsApi=require('../api/Settings'),TemplateApi=require('../api/Template');class Mailer{constructor(_0x429558){const _0x2780ec=a62_0x1c2e;this['settings']=_0x429558,this[_0x2780ec(0x1b9)]='',this[_0x2780ec(0x1b6)]=[];}async['getTemplateData'](_0x30a0ef){const _0x3e9ed8=a62_0x1c2e,_0x11f1af=await TemplateApi[_0x3e9ed8(0x1a7)](_0x30a0ef);if(_0x11f1af){const _0x4fb01a=_0x11f1af['payload']||{};return _0x4fb01a['html'];}return null;}async[a62_0x265155(0x1a9)](_0x2b7e66,_0x58c157){const _0xa8af8b=a62_0x265155,_0x5ce72f=await this[_0xa8af8b(0x1ba)](_0x2b7e66),_0x19eaeb=_0x5ce72f?Handlebars[_0xa8af8b(0x1bd)](_0x5ce72f):null;this[_0xa8af8b(0x1b9)]=_0x19eaeb(_0x58c157);}[a62_0x265155(0x1b0)](_0x31668d){const _0x1ed8a3=a62_0x265155;this[_0x1ed8a3(0x1b6)][_0x1ed8a3(0x1ac)](_0x31668d);}async[a62_0x265155(0x1af)](_0x164294){const _0xdcd840=a62_0x265155,_0x27df29=this[_0xdcd840(0x1bc)]||await SettingsApi[_0xdcd840(0x1ab)](_0xdcd840(0x1b4)),_0x24b719=nodemailer['createTransport'](_0x27df29),_0x4f37db=[...this[_0xdcd840(0x1b6)],..._0x164294[_0xdcd840(0x1b6)]||[]],_0x59e99b={'from':_0x27df29['auth'][_0xdcd840(0x1b7)],..._0x164294,'html':this['html']+(_0x164294[_0xdcd840(0x1b9)]||''),'attachments':_0x4f37db};return await _0x24b719[_0xdcd840(0x1bb)](_0x59e99b);}}function a62_0x4ec1(){const _0x4bfeef=['sendMail','settings','compile','53008dznSzr','20598yuOxjh','exports','getByName','32949VYKvCF','addTemplate','1409735SLfSiF','get','push','44164197NLPpEk','1320820FUVmsK','send','addAttachment','1595KuIzbO','10NzFzQP','4499080xTbGjj','email','63AemTgM','attachments','user','301uEqtjd','html','getTemplateData'];a62_0x4ec1=function(){return _0x4bfeef;};return a62_0x4ec1();}module[a62_0x265155(0x1a6)]=Mailer;