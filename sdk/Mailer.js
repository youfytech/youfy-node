const a62_0x3bfb1b=a62_0x16e4;(function(_0x5777cb,_0x3d6c94){const _0x1df879=a62_0x16e4,_0x89858e=_0x5777cb();while(!![]){try{const _0x2e7cb0=-parseInt(_0x1df879(0x106))/0x1+-parseInt(_0x1df879(0x109))/0x2*(parseInt(_0x1df879(0x105))/0x3)+parseInt(_0x1df879(0xf3))/0x4*(parseInt(_0x1df879(0x10b))/0x5)+parseInt(_0x1df879(0xf5))/0x6*(-parseInt(_0x1df879(0x104))/0x7)+parseInt(_0x1df879(0x102))/0x8+parseInt(_0x1df879(0xfe))/0x9*(-parseInt(_0x1df879(0x101))/0xa)+parseInt(_0x1df879(0xff))/0xb;if(_0x2e7cb0===_0x3d6c94)break;else _0x89858e['push'](_0x89858e['shift']());}catch(_0x51b938){_0x89858e['push'](_0x89858e['shift']());}}}(a62_0x5d7c,0x634d2));const nodemailer=require('nodemailer'),Handlebars=require('handlebars'),SettingsApi=require('../api/Settings'),TemplateApi=require('../api/Template');class Mailer{constructor(_0x5c3f22){const _0x2b0824=a62_0x16e4;this[_0x2b0824(0x108)]=_0x5c3f22,this['html']='',this[_0x2b0824(0xf8)]=[];}async[a62_0x3bfb1b(0xf6)](_0x3351ba){const _0x15182a=a62_0x3bfb1b,_0x1da570=await TemplateApi[_0x15182a(0xf4)](_0x3351ba);if(_0x1da570){const _0x6bb8ca=_0x1da570[_0x15182a(0xfb)]||{};return _0x6bb8ca[_0x15182a(0xf2)];}return null;}async['addTemplate'](_0x32b2c8,_0xc042b){const _0x115bf7=a62_0x3bfb1b,_0x3921b3=await this[_0x115bf7(0xf6)](_0x32b2c8),_0x159694=_0x3921b3?Handlebars[_0x115bf7(0x103)](_0x3921b3):null;this['html']=_0x159694(_0xc042b);}[a62_0x3bfb1b(0x10a)](_0x138b36){this['attachments']['push'](_0x138b36);}async[a62_0x3bfb1b(0x107)](_0x506f67){const _0x4ee8ff=a62_0x3bfb1b,_0x295598=this['settings']||await SettingsApi[_0x4ee8ff(0xfd)](_0x4ee8ff(0xf9)),_0x48bc7b=nodemailer[_0x4ee8ff(0xfa)](_0x295598),_0x1f6be1=[...this['attachments'],..._0x506f67['attachments']||[]],_0x2febd2={'from':_0x295598[_0x4ee8ff(0xfc)][_0x4ee8ff(0xf7)],..._0x506f67,'html':this['html']+(_0x506f67[_0x4ee8ff(0xf2)]||''),'attachments':_0x1f6be1};return await _0x48bc7b[_0x4ee8ff(0x100)](_0x2febd2);}}function a62_0x5d7c(){const _0x266a11=['html','7620qmuvwl','getByName','6BfSNaY','getTemplateData','user','attachments','email','createTransport','payload','auth','get','9tuXqeM','15889412VYztSE','sendMail','7284230LyiRPQ','3312592dYlPGu','compile','1695582inUiig','3WtvRYt','511893bjfqnH','send','settings','1146342LGihje','addAttachment','1585egBIGB'];a62_0x5d7c=function(){return _0x266a11;};return a62_0x5d7c();}function a62_0x16e4(_0x39bc35,_0x4b7faf){const _0x5d7c8b=a62_0x5d7c();return a62_0x16e4=function(_0x16e42b,_0x55267e){_0x16e42b=_0x16e42b-0xf2;let _0x22c39d=_0x5d7c8b[_0x16e42b];return _0x22c39d;},a62_0x16e4(_0x39bc35,_0x4b7faf);}module['exports']=Mailer;