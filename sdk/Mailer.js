const a62_0xea20cf=a62_0x2b6a;(function(_0x56647f,_0x3e5e92){const _0xe1775e=a62_0x2b6a,_0x3f1dc3=_0x56647f();while(!![]){try{const _0x22349a=-parseInt(_0xe1775e(0x1b9))/0x1+-parseInt(_0xe1775e(0x1a4))/0x2+parseInt(_0xe1775e(0x1b6))/0x3*(-parseInt(_0xe1775e(0x1b3))/0x4)+parseInt(_0xe1775e(0x1af))/0x5+parseInt(_0xe1775e(0x1b0))/0x6*(parseInt(_0xe1775e(0x1a8))/0x7)+-parseInt(_0xe1775e(0x1ab))/0x8+parseInt(_0xe1775e(0x1b5))/0x9;if(_0x22349a===_0x3e5e92)break;else _0x3f1dc3['push'](_0x3f1dc3['shift']());}catch(_0x470b75){_0x3f1dc3['push'](_0x3f1dc3['shift']());}}}(a62_0x3bdc,0xd0e70));const nodemailer=require('nodemailer'),Handlebars=require('handlebars'),SettingsApi=require('../api/Settings'),TemplateApi=require('../api/Template');function a62_0x2b6a(_0x1994e7,_0x20f7c0){const _0x3bdcef=a62_0x3bdc();return a62_0x2b6a=function(_0x2b6adb,_0x1d12dd){_0x2b6adb=_0x2b6adb-0x1a2;let _0x10d68a=_0x3bdcef[_0x2b6adb];return _0x10d68a;},a62_0x2b6a(_0x1994e7,_0x20f7c0);}class Mailer{constructor(_0x50b41c){const _0xb36736=a62_0x2b6a;this[_0xb36736(0x1a3)]=_0x50b41c,this[_0xb36736(0x1ad)]='',this[_0xb36736(0x1a7)]=[];}async[a62_0xea20cf(0x1b8)](_0x283a89){const _0xffa40f=a62_0xea20cf,_0x3ee5c6=await TemplateApi['getByName'](_0x283a89);if(_0x3ee5c6){const _0x1ef842=_0x3ee5c6[_0xffa40f(0x1ae)]||{};return _0x1ef842[_0xffa40f(0x1ad)];}return null;}async[a62_0xea20cf(0x1a2)](_0x439ca8,_0x41aff1){const _0x25977e=a62_0xea20cf,_0xa9c416=await this[_0x25977e(0x1b8)](_0x439ca8),_0x3ddffe=_0xa9c416?Handlebars[_0x25977e(0x1b7)](_0xa9c416):null;this[_0x25977e(0x1ad)]=_0x3ddffe(_0x41aff1);}[a62_0xea20cf(0x1a6)](_0x46fd3a){const _0x270ca9=a62_0xea20cf;this[_0x270ca9(0x1a7)][_0x270ca9(0x1b2)](_0x46fd3a);}async[a62_0xea20cf(0x1aa)](_0x196851){const _0x483a1f=a62_0xea20cf,_0x2f3ba2=this[_0x483a1f(0x1a3)]||await SettingsApi[_0x483a1f(0x1b4)](_0x483a1f(0x1b1)),_0x3e415b=nodemailer['createTransport'](_0x2f3ba2),_0x2ffc27=[...this[_0x483a1f(0x1a7)],..._0x196851[_0x483a1f(0x1a7)]||[]],_0x22430f={'from':_0x2f3ba2['auth'][_0x483a1f(0x1a5)],..._0x196851,'html':this['html']+(_0x196851['html']||''),'attachments':_0x2ffc27};return await _0x3e415b[_0x483a1f(0x1ac)](_0x22430f);}}function a62_0x3bdc(){const _0x5f7bd6=['user','addAttachment','attachments','36323cwORgL','exports','send','4273344puHZBX','sendMail','html','payload','1267355PUgoxH','1308kZZJJv','email','push','376036rDDaYx','get','19872738UoLtIJ','18IzeEFi','compile','getTemplateData','1242264fklnMU','addTemplate','settings','793210uthEpZ'];a62_0x3bdc=function(){return _0x5f7bd6;};return a62_0x3bdc();}module[a62_0xea20cf(0x1a9)]=Mailer;