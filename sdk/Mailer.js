const a62_0x42790c=a62_0x4e73;(function(_0xbb35dc,_0x271de4){const _0x31cb0a=a62_0x4e73,_0x8c0a22=_0xbb35dc();while(!![]){try{const _0x1b14d5=-parseInt(_0x31cb0a(0xf3))/0x1*(parseInt(_0x31cb0a(0xed))/0x2)+-parseInt(_0x31cb0a(0xfd))/0x3+-parseInt(_0x31cb0a(0xfb))/0x4+parseInt(_0x31cb0a(0xf5))/0x5+-parseInt(_0x31cb0a(0x104))/0x6+-parseInt(_0x31cb0a(0xef))/0x7*(-parseInt(_0x31cb0a(0xee))/0x8)+parseInt(_0x31cb0a(0x102))/0x9;if(_0x1b14d5===_0x271de4)break;else _0x8c0a22['push'](_0x8c0a22['shift']());}catch(_0x1f9bac){_0x8c0a22['push'](_0x8c0a22['shift']());}}}(a62_0x1362,0xba61e));const nodemailer=require('nodemailer'),Handlebars=require('handlebars'),SettingsApi=require('../api/Settings'),TemplateApi=require('../api/Template');class Mailer{constructor(_0x1712ba){const _0x1228d=a62_0x4e73;this[_0x1228d(0xf9)]=_0x1712ba,this['html']='',this['attachments']=[];}async[a62_0x42790c(0xff)](_0x34c8ce){const _0xf7ff35=await TemplateApi['getByName'](_0x34c8ce);if(_0xf7ff35){const _0x3109a7=_0xf7ff35['payload']||{};return _0x3109a7['html'];}return null;}async[a62_0x42790c(0x101)](_0x59d014,_0x14f8d3){const _0x3a7149=a62_0x42790c,_0x1d23b3=await this[_0x3a7149(0xff)](_0x59d014),_0x21d481=_0x1d23b3?Handlebars[_0x3a7149(0xfc)](_0x1d23b3):null;this[_0x3a7149(0xf2)]=_0x21d481(_0x14f8d3);}[a62_0x42790c(0xf4)](_0x1483f9){const _0x3413f8=a62_0x42790c;this[_0x3413f8(0xf1)][_0x3413f8(0xf7)](_0x1483f9);}async[a62_0x42790c(0xfa)](_0x294e6f){const _0x5eb980=a62_0x42790c,_0x3035a9=this['settings']||await SettingsApi[_0x5eb980(0x103)](_0x5eb980(0xfe)),_0x4def10=nodemailer[_0x5eb980(0x105)](_0x3035a9),_0x1313db=[...this[_0x5eb980(0xf1)],..._0x294e6f[_0x5eb980(0xf1)]||[]],_0x43e5ab={'from':_0x3035a9[_0x5eb980(0xf8)][_0x5eb980(0x100)],..._0x294e6f,'html':this[_0x5eb980(0xf2)]+(_0x294e6f[_0x5eb980(0xf2)]||''),'attachments':_0x1313db};return await _0x4def10[_0x5eb980(0xf0)](_0x43e5ab);}}function a62_0x1362(){const _0x5d99d1=['exports','push','auth','settings','send','574544XIulpm','compile','3859212TxRvQL','email','getTemplateData','user','addTemplate','8603676QAeElT','get','799338HVEZYk','createTransport','143386YibZao','44632NURwLz','119WSQdVD','sendMail','attachments','html','3tmjNoq','addAttachment','7454785kJhcBl'];a62_0x1362=function(){return _0x5d99d1;};return a62_0x1362();}function a62_0x4e73(_0x5479ee,_0x32c897){const _0x1362f3=a62_0x1362();return a62_0x4e73=function(_0x4e73e0,_0x400d2b){_0x4e73e0=_0x4e73e0-0xed;let _0x49297c=_0x1362f3[_0x4e73e0];return _0x49297c;},a62_0x4e73(_0x5479ee,_0x32c897);}module[a62_0x42790c(0xf6)]=Mailer;