function a62_0x532f(_0x1fc1ee,_0x4e0430){const _0x124c36=a62_0x124c();return a62_0x532f=function(_0x532f84,_0x484652){_0x532f84=_0x532f84-0x179;let _0x1443ab=_0x124c36[_0x532f84];return _0x1443ab;},a62_0x532f(_0x1fc1ee,_0x4e0430);}const a62_0x342f28=a62_0x532f;(function(_0x15f4e7,_0x91ff6){const _0x18f454=a62_0x532f,_0x17653a=_0x15f4e7();while(!![]){try{const _0x45de7c=-parseInt(_0x18f454(0x184))/0x1+parseInt(_0x18f454(0x186))/0x2+parseInt(_0x18f454(0x17f))/0x3+parseInt(_0x18f454(0x18b))/0x4*(parseInt(_0x18f454(0x180))/0x5)+-parseInt(_0x18f454(0x191))/0x6+-parseInt(_0x18f454(0x185))/0x7+parseInt(_0x18f454(0x18f))/0x8*(-parseInt(_0x18f454(0x17a))/0x9);if(_0x45de7c===_0x91ff6)break;else _0x17653a['push'](_0x17653a['shift']());}catch(_0x5796bc){_0x17653a['push'](_0x17653a['shift']());}}}(a62_0x124c,0x5090e));const nodemailer=require(a62_0x342f28(0x18d)),Handlebars=require('handlebars'),SettingsApi=require(a62_0x342f28(0x182)),TemplateApi=require(a62_0x342f28(0x17e));function a62_0x124c(){const _0x1815af=['sendMail','getTemplateData','addAttachment','2794842UBqdkZ','createTransport','getByName','email','../api/Template','1033773LMVGIt','75IvLkXr','addTemplate','../api/Settings','get','199281fWJULi','423017CSawDm','1129656evSNym','html','push','auth','compile','147324UOziop','payload','nodemailer','user','16bgVFCP','attachments','1506588mTGNOh'];a62_0x124c=function(){return _0x1815af;};return a62_0x124c();}class Mailer{constructor(_0x15f7d2){const _0x40c462=a62_0x342f28;this['settings']=_0x15f7d2,this[_0x40c462(0x187)]='',this['attachments']=[];}async[a62_0x342f28(0x193)](_0x5b51e3){const _0x2edb14=a62_0x342f28,_0x464840=await TemplateApi[_0x2edb14(0x17c)](_0x5b51e3);if(_0x464840){const _0x573300=_0x464840[_0x2edb14(0x18c)]||{};return _0x573300[_0x2edb14(0x187)];}return null;}async[a62_0x342f28(0x181)](_0x55ae0d,_0xf3f29a){const _0x1157ae=a62_0x342f28,_0x37ce42=await this[_0x1157ae(0x193)](_0x55ae0d),_0x16bd1a=_0x37ce42?Handlebars[_0x1157ae(0x18a)](_0x37ce42):null;this[_0x1157ae(0x187)]=_0x16bd1a(_0xf3f29a);}[a62_0x342f28(0x179)](_0x4fb9e5){const _0x45dbb4=a62_0x342f28;this[_0x45dbb4(0x190)][_0x45dbb4(0x188)](_0x4fb9e5);}async['send'](_0x512ea3){const _0x260ea4=a62_0x342f28,_0x2a5ced=this['settings']||await SettingsApi[_0x260ea4(0x183)](_0x260ea4(0x17d)),_0x11e1a3=nodemailer[_0x260ea4(0x17b)](_0x2a5ced),_0x37e71d=[...this['attachments'],..._0x512ea3[_0x260ea4(0x190)]||[]],_0x491799={'from':_0x2a5ced[_0x260ea4(0x189)][_0x260ea4(0x18e)],..._0x512ea3,'html':this[_0x260ea4(0x187)]+(_0x512ea3['html']||''),'attachments':_0x37e71d};return await _0x11e1a3[_0x260ea4(0x192)](_0x491799);}}module['exports']=Mailer;