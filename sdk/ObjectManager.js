const a66_0x3ae765=a66_0x1ad3;function a66_0x1ad3(_0x3de11a,_0xef2003){const _0x4a6487=a66_0x4a64();return a66_0x1ad3=function(_0x1ad3ac,_0x57e3d5){_0x1ad3ac=_0x1ad3ac-0x1d5;let _0x369eaa=_0x4a6487[_0x1ad3ac];return _0x369eaa;},a66_0x1ad3(_0x3de11a,_0xef2003);}(function(_0x3444fa,_0x587a12){const _0x12e0c6=a66_0x1ad3,_0x44cc4f=_0x3444fa();while(!![]){try{const _0x4e9fbd=parseInt(_0x12e0c6(0x1da))/0x1+-parseInt(_0x12e0c6(0x1e1))/0x2*(-parseInt(_0x12e0c6(0x1de))/0x3)+-parseInt(_0x12e0c6(0x1e7))/0x4+-parseInt(_0x12e0c6(0x1e5))/0x5+parseInt(_0x12e0c6(0x1db))/0x6+parseInt(_0x12e0c6(0x1d8))/0x7+-parseInt(_0x12e0c6(0x1ea))/0x8;if(_0x4e9fbd===_0x587a12)break;else _0x44cc4f['push'](_0x44cc4f['shift']());}catch(_0x5b45c6){_0x44cc4f['push'](_0x44cc4f['shift']());}}}(a66_0x4a64,0xd8eac));function a66_0x4a64(){const _0x52eb40=['job','8708520cMmPCs','assign','1547240ZttfdT','Pending','toLowerCase','2644384IJadmx','forEach','Failed','bind','bot','fetch','findByStatus','slice','bulkCreate','create','exports','7642481xsIusq','fetchAll','721757HamwJV','5862630ENsVel','push','fetchByStatus','3aRWAJZ','_parse2WorkObject','length','1113818iYyWMc','isArray','map'];a66_0x4a64=function(){return _0x52eb40;};return a66_0x4a64();}const WorkObject=require('./WorkObject'),WorkObjectApi=require('../api/WorkObject'),Status=require('../helpers/Status'),statusMethods=[a66_0x3ae765(0x1e8),'Done',a66_0x3ae765(0x1ec)];class ObjectManager{constructor(_0x46fb90){const _0x4743e1=a66_0x3ae765;Object[_0x4743e1(0x1e6)](this,_0x46fb90),statusMethods[_0x4743e1(0x1eb)](_0xb643b5=>this[_0x4743e1(0x1ef)+_0xb643b5]=this[_0x4743e1(0x1dd)][_0x4743e1(0x1ed)](this,_0xb643b5[_0x4743e1(0x1e9)]()));}[a66_0x3ae765(0x1df)](_0x4176f1){const _0x576268=a66_0x3ae765;if(Array[_0x576268(0x1e2)](_0x4176f1))return _0x4176f1[_0x576268(0x1e3)](_0x1c74c4=>new WorkObject(_0x1c74c4));return new WorkObject(_0x4176f1);}async[a66_0x3ae765(0x1d9)](_0xa916b2){const _0x13dc01=a66_0x3ae765,_0x22a129=await WorkObjectApi[_0x13dc01(0x1d9)](this[_0x13dc01(0x1ee)]['id'],_0xa916b2);return this[_0x13dc01(0x1df)](_0x22a129);}async[a66_0x3ae765(0x1dd)](_0x2a31f5){const _0x5c261d=a66_0x3ae765,_0x512fae=await WorkObjectApi[_0x5c261d(0x1f0)](this['job']['id'],_0x2a31f5);return this[_0x5c261d(0x1df)](_0x512fae);}async[a66_0x3ae765(0x1d5)](_0x4f82e1,_0x265d6a,_0x91c00f={}){const _0x261b9c=a66_0x3ae765,{chunk_size:chunk_size=0x64}=_0x91c00f,_0x3e8c04=_0x4f82e1[_0x261b9c(0x1e3)](_0x5625b1=>{const _0xc33e5c=_0x261b9c;return{..._0x265d6a,'payload':_0x5625b1,'bot_id':this[_0xc33e5c(0x1ee)]['id'],'job_id':this[_0xc33e5c(0x1e4)]['id']};}),_0x35b152=[];for(let _0x3ccb2b=0x0;_0x3ccb2b<_0x3e8c04[_0x261b9c(0x1e0)];_0x3ccb2b+=chunk_size){const _0x3b17b1=_0x3e8c04[_0x261b9c(0x1f1)](_0x3ccb2b,_0x3ccb2b+chunk_size),_0x2b3f1d=await WorkObjectApi[_0x261b9c(0x1d5)](_0x3b17b1);_0x35b152[_0x261b9c(0x1dc)](..._0x2b3f1d);}return this[_0x261b9c(0x1df)](_0x35b152);}async[a66_0x3ae765(0x1d6)](_0x557613,_0x2a722c){const _0x27979a=a66_0x3ae765;if(Array[_0x27979a(0x1e2)](_0x557613))throw new Error('Payload\x20must\x20be\x20a\x20object:\x20{}');const _0x2d45cc=await WorkObjectApi[_0x27979a(0x1d6)]({'status':Status['WORKING'],..._0x2a722c,'payload':_0x557613,'bot_id':this[_0x27979a(0x1ee)]['id'],'job_id':this[_0x27979a(0x1e4)]['id']});return this[_0x27979a(0x1df)](_0x2d45cc);}async['findOrCreate'](_0xbb32bd,_0x157266,_0x2db4ed){const _0x3380f2=a66_0x3ae765,_0x56a386=await WorkObjectApi['findOrCreate'](_0xbb32bd,{..._0x2db4ed,'payload':_0x157266,'bot_id':this[_0x3380f2(0x1ee)]['id'],'job_id':this[_0x3380f2(0x1e4)]['id']});return this[_0x3380f2(0x1df)](_0x56a386);}}module[a66_0x3ae765(0x1d7)]=ObjectManager;