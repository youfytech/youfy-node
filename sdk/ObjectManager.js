const a66_0x42574c=a66_0x4ff2;function a66_0x4ff2(_0xe84cd4,_0x5a4e68){const _0x564bc3=a66_0x564b();return a66_0x4ff2=function(_0x4ff2fa,_0x6e5253){_0x4ff2fa=_0x4ff2fa-0x105;let _0x5c514b=_0x564bc3[_0x4ff2fa];return _0x5c514b;},a66_0x4ff2(_0xe84cd4,_0x5a4e68);}(function(_0x489cb5,_0x456727){const _0x29b1af=a66_0x4ff2,_0x5664b8=_0x489cb5();while(!![]){try{const _0x1d68b2=parseInt(_0x29b1af(0x116))/0x1*(parseInt(_0x29b1af(0x105))/0x2)+-parseInt(_0x29b1af(0x10c))/0x3+-parseInt(_0x29b1af(0x123))/0x4*(parseInt(_0x29b1af(0x112))/0x5)+-parseInt(_0x29b1af(0x11c))/0x6+-parseInt(_0x29b1af(0x10a))/0x7*(-parseInt(_0x29b1af(0x11f))/0x8)+parseInt(_0x29b1af(0x12a))/0x9*(parseInt(_0x29b1af(0x111))/0xa)+parseInt(_0x29b1af(0x11d))/0xb*(-parseInt(_0x29b1af(0x12c))/0xc);if(_0x1d68b2===_0x456727)break;else _0x5664b8['push'](_0x5664b8['shift']());}catch(_0x3ef36d){_0x5664b8['push'](_0x5664b8['shift']());}}}(a66_0x564b,0xc735f));const WorkObject=require('./WorkObject'),WorkObjectApi=require('../api/WorkObject'),Status=require('../helpers/Status'),statusMethods=[a66_0x42574c(0x129),a66_0x42574c(0x117),a66_0x42574c(0x118)];function a66_0x564b(){const _0x3e53a2=['create','push','Pending','1632411PSHLTu','forEach','166524TegHHh','map','4WIkjLu','length','filter','slice','NOT_DONE','6489NzWTXd','bind','1792587jFrVOu','findByStatus','fetchAll','isArray','FAILED','50WJbArm','68365BbQuZe','exports','_parse2WorkObject','WORKING','183161RAXUEu','Done','Failed','job','assign','fetchByStatus','2604456IgEZXK','121DIpYKV','Payload\x20must\x20be\x20a\x20object:\x20{}','7336ZSrwMC','bot','status','getResume','36zKjQGq','bulkCreate','findOrCreate','PENDING'];a66_0x564b=function(){return _0x3e53a2;};return a66_0x564b();}class ObjectManager{constructor(_0xb58e7){const _0x408f5f=a66_0x42574c;Object[_0x408f5f(0x11a)](this,_0xb58e7),statusMethods[_0x408f5f(0x12b)](_0x43ccbd=>this['fetch'+_0x43ccbd]=this[_0x408f5f(0x11b)][_0x408f5f(0x10b)](this,_0x43ccbd['toLowerCase']()));}[a66_0x42574c(0x114)](_0x5a480a){const _0x5438a0=a66_0x42574c;if(Array[_0x5438a0(0x10f)](_0x5a480a))return _0x5a480a[_0x5438a0(0x12d)](_0x312aa5=>new WorkObject(_0x312aa5));return new WorkObject(_0x5a480a);}async[a66_0x42574c(0x10e)](_0x3faf9b){const _0x45bd40=a66_0x42574c,_0x1872c4=await WorkObjectApi[_0x45bd40(0x10e)](this[_0x45bd40(0x120)]['id'],_0x3faf9b);return this[_0x45bd40(0x114)](_0x1872c4);}async[a66_0x42574c(0x11b)](_0x35dc99){const _0x1e071f=a66_0x42574c,_0x52dc7b=await WorkObjectApi[_0x1e071f(0x10d)](this['job']['id'],_0x35dc99);return this[_0x1e071f(0x114)](_0x52dc7b);}async[a66_0x42574c(0x124)](_0x5783b1,_0x4b1bef,_0x18de5b={}){const _0x165887=a66_0x42574c,{chunk_size:chunk_size=0x64}=_0x18de5b,_0x20e484=_0x5783b1['map'](_0x41225e=>{const _0x458c05=a66_0x4ff2;return{..._0x4b1bef,'payload':_0x41225e,'bot_id':this[_0x458c05(0x120)]['id'],'job_id':this['job']['id']};}),_0x283d7a=[];for(let _0x40de2f=0x0;_0x40de2f<_0x20e484[_0x165887(0x106)];_0x40de2f+=chunk_size){const _0x3e0173=_0x20e484[_0x165887(0x108)](_0x40de2f,_0x40de2f+chunk_size),_0x4a0f56=await WorkObjectApi[_0x165887(0x124)](_0x3e0173);_0x283d7a[_0x165887(0x128)](..._0x4a0f56);}return this[_0x165887(0x114)](_0x283d7a);}async[a66_0x42574c(0x127)](_0x47d039,_0x4e9e4a){const _0x505d89=a66_0x42574c;if(Array[_0x505d89(0x10f)](_0x47d039))throw new Error(_0x505d89(0x11e));const _0x4de05a=await WorkObjectApi[_0x505d89(0x127)]({'status':Status[_0x505d89(0x115)],..._0x4e9e4a,'payload':_0x47d039,'bot_id':this[_0x505d89(0x120)]['id'],'job_id':this[_0x505d89(0x119)]['id']});return this['_parse2WorkObject'](_0x4de05a);}async['findOrCreate'](_0x40d076,_0x1ca34e,_0x55607b){const _0x4da4a6=a66_0x42574c,_0x5946d2=await WorkObjectApi[_0x4da4a6(0x125)](_0x40d076,{..._0x55607b,'payload':_0x1ca34e,'bot_id':this[_0x4da4a6(0x120)]['id'],'job_id':this['job']['id']});return this['_parse2WorkObject'](_0x5946d2);}async[a66_0x42574c(0x122)](){const _0xa4f68d=a66_0x42574c,_0xd8e1a9=await this['fetchAll'](),_0x361a60=_0xd8e1a9['filter'](_0x45ae01=>_0x45ae01[_0xa4f68d(0x121)]==='DONE'),_0x380319=_0xd8e1a9[_0xa4f68d(0x107)](_0x5c7602=>_0x5c7602[_0xa4f68d(0x121)]===_0xa4f68d(0x109)),_0x43f6c9=_0xd8e1a9[_0xa4f68d(0x107)](_0x28746=>_0x28746['status']===_0xa4f68d(0x110)),_0x3a9614=_0xd8e1a9[_0xa4f68d(0x107)](_0x126e54=>_0x126e54[_0xa4f68d(0x121)]===_0xa4f68d(0x126)||_0x126e54[_0xa4f68d(0x121)]==='WORKING');return{'DONE':_0x361a60[_0xa4f68d(0x106)],'NOT_DONE':_0x380319[_0xa4f68d(0x106)],'FAILED':_0x43f6c9[_0xa4f68d(0x106)],'PENDING':_0x3a9614[_0xa4f68d(0x106)]};}}module[a66_0x42574c(0x113)]=ObjectManager;