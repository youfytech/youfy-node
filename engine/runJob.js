const a29_0x4f68ea=a29_0x3941;function a29_0x3941(_0x1d4733,_0x19bb15){const _0x397366=a29_0x3973();return a29_0x3941=function(_0x3941b2,_0xaaec37){_0x3941b2=_0x3941b2-0xde;let _0xbbf434=_0x397366[_0x3941b2];return _0xbbf434;},a29_0x3941(_0x1d4733,_0x19bb15);}(function(_0x32336e,_0x1eabdb){const _0x1d42f1=a29_0x3941,_0x9d7757=_0x32336e();while(!![]){try{const _0x715e3d=-parseInt(_0x1d42f1(0x100))/0x1+parseInt(_0x1d42f1(0xfd))/0x2*(-parseInt(_0x1d42f1(0xe8))/0x3)+-parseInt(_0x1d42f1(0xf6))/0x4*(-parseInt(_0x1d42f1(0xe9))/0x5)+parseInt(_0x1d42f1(0xff))/0x6+parseInt(_0x1d42f1(0xe6))/0x7*(-parseInt(_0x1d42f1(0xea))/0x8)+-parseInt(_0x1d42f1(0xfa))/0x9*(-parseInt(_0x1d42f1(0xf7))/0xa)+-parseInt(_0x1d42f1(0xf0))/0xb;if(_0x715e3d===_0x1eabdb)break;else _0x9d7757['push'](_0x9d7757['shift']());}catch(_0x12c6d1){_0x9d7757['push'](_0x9d7757['shift']());}}}(a29_0x3973,0xeffce),require('./global'),require('./errorHandler.js'));const BotHandler=require('../handlers/BotHandler'),JobHandler=require('../handlers/JobHandler'),Sentry=require('../helpers/Sentry'),GarbageCollector=require('../sdk/GarbageCollector'),Package=require('../sdk/Package'),logger=require('../sdk/Logger'),{fork}=require('child_process'),{resolve}=require('path');function a29_0x3973(){const _0x5ea8ca=['muted','clear','21574795SraBXD','company_id','captureException','setTag','Unknown.\x20Uncaught\x20exception\x20maybe.','title','4fYAncz','8810950oAxeAe','infinity_jobs','exports','18MrCwUG','send','onClean','442030YhDzWt','bot_id','9789846ufmfMV','95182IwMcMN','run','infinite','configureScope','WORKING','get','canceled','status','init','4591727gSnAaT','job_id','15hDRinx','7033610vDuhUb','8FuOyeK','errorHandler.js','device_id','failed'];a29_0x3973=function(){return _0x5ea8ca;};return a29_0x3973();}module[a29_0x4f68ea(0xf9)]=async({job_id:_0x4ad8f7,bot_id:_0x381e11,botFn:_0xa61fcf})=>{const _0xaf8c47=a29_0x4f68ea,_0x531bf9=new GarbageCollector();Sentry[_0xaf8c47(0xe0)](_0x3c1d3c=>{const _0x5778cd=_0xaf8c47;_0x3c1d3c[_0x5778cd(0xf3)](_0x5778cd(0xe7),_0x4ad8f7);});const _0x59329f=new JobHandler(_0x4ad8f7);try{const _0x52e4dc=await _0x59329f[_0xaf8c47(0xe5)](_0x381e11);Sentry[_0xaf8c47(0xe0)](_0x1803f5=>{const _0x4d7077=_0xaf8c47;_0x1803f5[_0x4d7077(0xf3)](_0x4d7077(0xec),_0x52e4dc['device_id']),_0x1803f5[_0x4d7077(0xf3)](_0x4d7077(0xf1),_0x52e4dc['company_id']),_0x1803f5[_0x4d7077(0xf3)](_0x4d7077(0xfe),_0x52e4dc[_0x4d7077(0xfe)]),_0x1803f5['setTag']('title',_0x52e4dc[_0x4d7077(0xf5)]);});const _0x19dc21=(_0x52d205,_0x1bbab2=_0xaf8c47(0xf4))=>{const _0x4b2a74=_0xaf8c47;if(_0x59329f[_0x4b2a74(0xe4)]===_0x4b2a74(0xe1)){const _0x44c61d=fork(resolve(__dirname,_0x4b2a74(0xeb)),{'detached':!![]});_0x44c61d[_0x4b2a74(0xfb)]({'status':_0x52d205,'error':_0x1bbab2,'job_id':_0x4ad8f7,'bot_id':_0x381e11});}};_0x531bf9[_0xaf8c47(0xfc)](()=>_0x19dc21('canceled'),_0xaf8c47(0xe3)),_0x531bf9[_0xaf8c47(0xfc)](()=>_0x19dc21(_0xaf8c47(0xed)),_0xaf8c47(0xed));const _0x5ae3f6=new BotHandler(_0x52e4dc,{'garbage':_0x531bf9}),_0x52b746=Package[_0xaf8c47(0xe2)](_0xaf8c47(0xdf))||_0x5ae3f6[_0xaf8c47(0xf8)]||![];let _0x593dd6=!![];while(_0x593dd6){await _0x5ae3f6[_0xaf8c47(0xde)](_0xa61fcf),_0x593dd6=_0x52b746,_0x52b746&&(_0x531bf9['clear'](),logger[_0xaf8c47(0xee)]('restarting\x20job...'));}await _0x59329f['done']();}catch(_0x4c42a9){await _0x59329f[_0xaf8c47(0xed)](_0x4c42a9),Sentry[_0xaf8c47(0xf2)](_0x4c42a9);}finally{await _0x531bf9[_0xaf8c47(0xef)]();}};