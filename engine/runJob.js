const a29_0x478e20=a29_0x2468;(function(_0x26fcf4,_0x276df1){const _0x113a2d=a29_0x2468,_0x4a272e=_0x26fcf4();while(!![]){try{const _0xa1a34b=parseInt(_0x113a2d(0xf8))/0x1+-parseInt(_0x113a2d(0xec))/0x2*(parseInt(_0x113a2d(0xdd))/0x3)+-parseInt(_0x113a2d(0xf3))/0x4+parseInt(_0x113a2d(0xe6))/0x5+parseInt(_0x113a2d(0xf5))/0x6*(parseInt(_0x113a2d(0xdf))/0x7)+parseInt(_0x113a2d(0xed))/0x8+-parseInt(_0x113a2d(0xe1))/0x9;if(_0xa1a34b===_0x276df1)break;else _0x4a272e['push'](_0x4a272e['shift']());}catch(_0x5a1686){_0x4a272e['push'](_0x4a272e['shift']());}}}(a29_0x2181,0xf13c6),require('./global'),require('./errorHandler.js'));const BotHandler=require('../handlers/BotHandler'),JobHandler=require('../handlers/JobHandler'),Sentry=require('../helpers/Sentry'),GarbageCollector=require('../sdk/GarbageCollector'),logger=require('../sdk/Logger'),{fork}=require('child_process'),{resolve}=require('path');module[a29_0x478e20(0xe2)]=async({job_id:_0xb49f94,bot_id:_0x268d56,botFn:_0x3ffdac})=>{const _0x386955=a29_0x478e20,_0x2fd745=new GarbageCollector();Sentry['configureScope'](_0x1ad2a4=>{_0x1ad2a4['setTag']('job_id',_0xb49f94);});const _0x3ecd6e=new JobHandler(_0xb49f94);try{const _0x53a8cd=await _0x3ecd6e[_0x386955(0xf2)](_0x268d56);Sentry[_0x386955(0xeb)](_0x579cf9=>{const _0xdef55e=_0x386955;_0x579cf9['setTag'](_0xdef55e(0xf6),_0x53a8cd[_0xdef55e(0xf6)]),_0x579cf9[_0xdef55e(0xe7)](_0xdef55e(0xe8),_0x53a8cd['company_id']),_0x579cf9[_0xdef55e(0xe7)](_0xdef55e(0xde),_0x53a8cd[_0xdef55e(0xde)]),_0x579cf9[_0xdef55e(0xe7)](_0xdef55e(0xe9),_0x53a8cd['title']);});const _0x1f630b=(_0x492fbd,_0x3f125a=_0x386955(0xf1))=>{const _0x4f6057=_0x386955;if(_0x3ecd6e['status']==='WORKING'){const _0x3b2753=fork(resolve(__dirname,_0x4f6057(0xfa)),{'detached':!![]});_0x3b2753[_0x4f6057(0xef)]({'status':_0x492fbd,'error':_0x3f125a,'job_id':_0xb49f94,'bot_id':_0x268d56});}};_0x2fd745['onClean'](()=>_0x1f630b('canceled'),_0x386955(0xf4)),_0x2fd745[_0x386955(0xe4)](()=>_0x1f630b('failed'),_0x386955(0xe5));const _0x484172=new BotHandler(_0x53a8cd,{'garbage':_0x2fd745}),_0x5739cb=global[_0x386955(0xfb)]?.['infinite']||_0x484172[_0x386955(0xf7)]||![];let _0x499165=!![];while(_0x499165){await _0x484172[_0x386955(0xf9)](_0x3ffdac),_0x499165=_0x5739cb,_0x5739cb&&(_0x2fd745[_0x386955(0xe3)](),logger[_0x386955(0xea)](_0x386955(0xe0)));}await _0x3ecd6e[_0x386955(0xee)]();}catch(_0x53677a){await _0x3ecd6e[_0x386955(0xe5)](_0x53677a),Sentry[_0x386955(0xf0)](_0x53677a);}finally{await _0x2fd745[_0x386955(0xe3)]();}};function a29_0x2468(_0x57ce07,_0x50f567){const _0x21812e=a29_0x2181();return a29_0x2468=function(_0x246814,_0x3dea16){_0x246814=_0x246814-0xdd;let _0x366e04=_0x21812e[_0x246814];return _0x366e04;},a29_0x2468(_0x57ce07,_0x50f567);}function a29_0x2181(){const _0x460026=['10693120asmhNt','done','send','captureException','Unknown.\x20Uncaught\x20exception\x20maybe.','init','202048Veramq','canceled','29622IoTaRn','device_id','infinity_jobs','1547946qqwRkq','run','errorHandler.js','bot_config','78FEKtGA','bot_id','2191eDZHTs','restarting\x20job...','34738281PEVRJb','exports','clear','onClean','failed','2790890DHjwzF','setTag','company_id','title','muted','configureScope','6894YDabvW'];a29_0x2181=function(){return _0x460026;};return a29_0x2181();}