const a29_0x4f6bef=a29_0x1e8b;function a29_0x1e8b(_0x4b3337,_0x5c929a){const _0x831bbe=a29_0x831b();return a29_0x1e8b=function(_0x1e8b2e,_0x2ef16f){_0x1e8b2e=_0x1e8b2e-0x1aa;let _0x1144c0=_0x831bbe[_0x1e8b2e];return _0x1144c0;},a29_0x1e8b(_0x4b3337,_0x5c929a);}(function(_0x2481d4,_0x5e7f15){const _0x4823f5=a29_0x1e8b,_0x5a5e4c=_0x2481d4();while(!![]){try{const _0x36453b=-parseInt(_0x4823f5(0x1c6))/0x1+-parseInt(_0x4823f5(0x1b0))/0x2+parseInt(_0x4823f5(0x1b2))/0x3+-parseInt(_0x4823f5(0x1ac))/0x4+parseInt(_0x4823f5(0x1b5))/0x5+-parseInt(_0x4823f5(0x1b9))/0x6+-parseInt(_0x4823f5(0x1bd))/0x7*(-parseInt(_0x4823f5(0x1ae))/0x8);if(_0x36453b===_0x5e7f15)break;else _0x5a5e4c['push'](_0x5a5e4c['shift']());}catch(_0x2947dd){_0x5a5e4c['push'](_0x5a5e4c['shift']());}}}(a29_0x831b,0xcdb46),require('./global'),require('./errorHandler.js'));const BotHandler=require('../handlers/BotHandler'),JobHandler=require('../handlers/JobHandler'),Sentry=require('../helpers/Sentry'),GarbageCollector=require('../sdk/GarbageCollector'),Package=require('../sdk/Package'),logger=require('../sdk/Logger'),{fork}=require('child_process'),{resolve}=require('path');function a29_0x831b(){const _0x5332f0=['configureScope','bot_id','5313120rCoUrV','run','8QMjgjY','captureException','409536AjVUfj','init','1118991FdWJUc','muted','canceled','5697105HIydRB','status','onClean','setTag','7676052GOtpHi','restarting\x20job...','send','WORKING','23237298ajKUwO','title','infinite','errorHandler.js','job_id','Unknown.\x20Uncaught\x20exception\x20maybe.','failed','company_id','clear','1177076bdRwHU','device_id','exports','done'];a29_0x831b=function(){return _0x5332f0;};return a29_0x831b();}module[a29_0x4f6bef(0x1c8)]=async({job_id:_0x2325c0,bot_id:_0x1dcb66,botFn:_0x57ccac})=>{const _0x4a9df2=a29_0x4f6bef,_0x391ff7=new GarbageCollector();Sentry[_0x4a9df2(0x1aa)](_0x27e9f1=>{const _0x1b368b=_0x4a9df2;_0x27e9f1[_0x1b368b(0x1b8)](_0x1b368b(0x1c1),_0x2325c0);});const _0x92b806=new JobHandler(_0x2325c0);try{const _0x4e0e3c=await _0x92b806[_0x4a9df2(0x1b1)](_0x1dcb66);Sentry[_0x4a9df2(0x1aa)](_0x282940=>{const _0x2b3c69=_0x4a9df2;_0x282940[_0x2b3c69(0x1b8)](_0x2b3c69(0x1c7),_0x4e0e3c[_0x2b3c69(0x1c7)]),_0x282940[_0x2b3c69(0x1b8)]('company_id',_0x4e0e3c[_0x2b3c69(0x1c4)]),_0x282940[_0x2b3c69(0x1b8)]('bot_id',_0x4e0e3c[_0x2b3c69(0x1ab)]),_0x282940[_0x2b3c69(0x1b8)]('title',_0x4e0e3c[_0x2b3c69(0x1be)]);});const _0xb86987=(_0x3b93bd,_0x187f2f=_0x4a9df2(0x1c2))=>{const _0x23a1e8=_0x4a9df2;if(_0x92b806[_0x23a1e8(0x1b6)]===_0x23a1e8(0x1bc)){const _0x1af060=fork(resolve(__dirname,_0x23a1e8(0x1c0)),{'detached':!![]});_0x1af060[_0x23a1e8(0x1bb)]({'status':_0x3b93bd,'error':_0x187f2f,'job_id':_0x2325c0,'bot_id':_0x1dcb66});}};_0x391ff7[_0x4a9df2(0x1b7)](()=>_0xb86987(_0x4a9df2(0x1b4)),_0x4a9df2(0x1b4)),_0x391ff7[_0x4a9df2(0x1b7)](()=>_0xb86987(_0x4a9df2(0x1c3)),_0x4a9df2(0x1c3));const _0x406fbf=new BotHandler(_0x4e0e3c,{'garbage':_0x391ff7}),_0x1d5c0c=Package['get'](_0x4a9df2(0x1bf))||_0x406fbf['infinity_jobs']||![];let _0x1736a5=!![];while(_0x1736a5){await _0x406fbf[_0x4a9df2(0x1ad)](_0x57ccac),_0x1736a5=_0x1d5c0c,_0x1d5c0c&&logger[_0x4a9df2(0x1b3)](_0x4a9df2(0x1ba));}await _0x92b806[_0x4a9df2(0x1c9)]();}catch(_0x239096){await _0x92b806[_0x4a9df2(0x1c3)](_0x239096),Sentry[_0x4a9df2(0x1af)](_0x239096);}finally{await _0x391ff7[_0x4a9df2(0x1c5)]();}};