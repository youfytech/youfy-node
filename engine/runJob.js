const a29_0x5cb490=a29_0x4c85;function a29_0x4c85(_0x4cf71a,_0x2efb5c){const _0x17fd00=a29_0x17fd();return a29_0x4c85=function(_0x4c85c9,_0x407d27){_0x4c85c9=_0x4c85c9-0xa5;let _0xedb625=_0x17fd00[_0x4c85c9];return _0xedb625;},a29_0x4c85(_0x4cf71a,_0x2efb5c);}(function(_0x59603b,_0x1f9098){const _0x4322d2=a29_0x4c85,_0x573454=_0x59603b();while(!![]){try{const _0x38a905=parseInt(_0x4322d2(0xad))/0x1+-parseInt(_0x4322d2(0xb1))/0x2+-parseInt(_0x4322d2(0xba))/0x3*(parseInt(_0x4322d2(0xb6))/0x4)+parseInt(_0x4322d2(0xac))/0x5*(-parseInt(_0x4322d2(0xaa))/0x6)+parseInt(_0x4322d2(0xbe))/0x7*(-parseInt(_0x4322d2(0xc1))/0x8)+-parseInt(_0x4322d2(0xc6))/0x9+-parseInt(_0x4322d2(0xbb))/0xa*(-parseInt(_0x4322d2(0xbc))/0xb);if(_0x38a905===_0x1f9098)break;else _0x573454['push'](_0x573454['shift']());}catch(_0x489f12){_0x573454['push'](_0x573454['shift']());}}}(a29_0x17fd,0xbe04f),require('./global'),require('./errorHandler.js'));const BotHandler=require('../handlers/BotHandler'),JobHandler=require('../handlers/JobHandler'),Sentry=require('../helpers/Sentry'),GarbageCollector=require('../sdk/GarbageCollector'),logger=require('../sdk/Logger'),{fork}=require('child_process'),{resolve}=require('path');function a29_0x17fd(){const _0x1d69c7=['setTag','failed','6cekxgJ','infinite','3452965dihCYe','1291082qSyFoY','clear','errorHandler.js','onClean','195036aRFAzY','canceled','restarting\x20job...','exports','status','4rbAGFi','bot_config','WORKING','init','260853wuUoTd','2088710ovlelR','154AZQiVY','configureScope','7DnZqhu','company_id','send','10462976xPkiXb','device_id','Unknown.\x20Uncaught\x20exception\x20maybe.','title','Elapsed\x20time','11286207vZpBLB','infinity_jobs','time','job_id','bot_id'];a29_0x17fd=function(){return _0x1d69c7;};return a29_0x17fd();}module[a29_0x5cb490(0xb4)]=async({job_id:_0x50b3c7,bot_id:_0x1d48ee,botFn:_0xa90a62})=>{const _0x706fee=a29_0x5cb490,_0x2edf93=new GarbageCollector();Sentry[_0x706fee(0xbd)](_0x1e88c2=>{const _0x464445=_0x706fee;_0x1e88c2[_0x464445(0xa8)](_0x464445(0xa6),_0x50b3c7);});const _0x360671=new JobHandler(_0x50b3c7);try{const _0x1803c8=await _0x360671[_0x706fee(0xb9)](_0x1d48ee);Sentry[_0x706fee(0xbd)](_0x1dec6a=>{const _0x1e7d43=_0x706fee;_0x1dec6a[_0x1e7d43(0xa8)](_0x1e7d43(0xc2),_0x1803c8[_0x1e7d43(0xc2)]),_0x1dec6a[_0x1e7d43(0xa8)](_0x1e7d43(0xbf),_0x1803c8[_0x1e7d43(0xbf)]),_0x1dec6a['setTag']('bot_id',_0x1803c8[_0x1e7d43(0xa7)]),_0x1dec6a['setTag'](_0x1e7d43(0xc4),_0x1803c8[_0x1e7d43(0xc4)]);});const _0x1814be=(_0x4b0a9b,_0xd17f20=_0x706fee(0xc3))=>{const _0x1b55df=_0x706fee;if(_0x360671[_0x1b55df(0xb5)]===_0x1b55df(0xb8)){const _0x8384c3=fork(resolve(__dirname,_0x1b55df(0xaf)),{'detached':!![]});_0x8384c3[_0x1b55df(0xc0)]({'status':_0x4b0a9b,'error':_0xd17f20,'job_id':_0x50b3c7,'bot_id':_0x1d48ee});}};_0x2edf93['onClean'](()=>_0x1814be(_0x706fee(0xb2)),_0x706fee(0xb2)),_0x2edf93[_0x706fee(0xb0)](()=>_0x1814be(_0x706fee(0xa9)),_0x706fee(0xa9));const _0x4d1652=new BotHandler(_0x1803c8,{'garbage':_0x2edf93});console[_0x706fee(0xa5)](_0x706fee(0xc5));const _0x248a1b=global[_0x706fee(0xb7)]?.[_0x706fee(0xab)]||_0x4d1652[_0x706fee(0xc7)]||![];let _0x56b79b=!![];while(_0x56b79b){await _0x4d1652['run'](_0xa90a62),_0x56b79b=_0x248a1b,_0x248a1b&&(_0x2edf93[_0x706fee(0xae)](),logger['muted'](_0x706fee(0xb3)));}await _0x360671['done'](),console['timeEnd'](_0x706fee(0xc5));}catch(_0x162368){await _0x360671['failed'](_0x162368),Sentry['captureException'](_0x162368);}finally{await _0x2edf93[_0x706fee(0xae)]();}};