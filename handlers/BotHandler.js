function a38_0x3cc9(){const _0x67a8bf=['run','config','28xeoTEj','input_data','exports','bot','258liWXih','55243320EosmXo','onRetry','garbage','3417184UYjxxu','6rKRMDR','settings','1081413jvrAdz','110CrUnsv','log','942604WBLBgm','job','get','9qzxaQX','job_retries','error','188630DLoFAR','1609421DfErcK','473654InlrMC','[GARBAGE\x20ERROR\x20ON\x20RETRY]','clear','job-'];a38_0x3cc9=function(){return _0x67a8bf;};return a38_0x3cc9();}function a38_0x3f66(_0x173b6f,_0x39998a){const _0x3cc941=a38_0x3cc9();return a38_0x3f66=function(_0x3f6694,_0xd7ea09){_0x3f6694=_0x3f6694-0x126;let _0x289e35=_0x3cc941[_0x3f6694];return _0x289e35;},a38_0x3f66(_0x173b6f,_0x39998a);}const a38_0x30e50b=a38_0x3f66;(function(_0x54504b,_0x127eb0){const _0x53c34b=a38_0x3f66,_0x3c9116=_0x54504b();while(!![]){try{const _0x3fb0ee=-parseInt(_0x53c34b(0x12d))/0x1*(-parseInt(_0x53c34b(0x13a))/0x2)+-parseInt(_0x53c34b(0x135))/0x3*(parseInt(_0x53c34b(0x132))/0x4)+-parseInt(_0x53c34b(0x138))/0x5*(-parseInt(_0x53c34b(0x128))/0x6)+-parseInt(_0x53c34b(0x140))/0x7*(-parseInt(_0x53c34b(0x12c))/0x8)+parseInt(_0x53c34b(0x12f))/0x9*(parseInt(_0x53c34b(0x130))/0xa)+parseInt(_0x53c34b(0x139))/0xb+-parseInt(_0x53c34b(0x129))/0xc;if(_0x3fb0ee===_0x127eb0)break;else _0x3c9116['push'](_0x3c9116['shift']());}catch(_0x524d7e){_0x3c9116['push'](_0x3c9116['shift']());}}}(a38_0x3cc9,0xddfbf));const retry=require('async-retry'),Messenger=require('../sdk/Messenger'),DataContext=require('../sdk/DataContext'),DataState=require('../sdk/DataState'),GarbageCollector=require('../sdk/GarbageCollector');class BotHandler{constructor(_0x2d7471,{garbage:_0x28c8af}){const _0x44c966=a38_0x3f66;this[_0x44c966(0x133)]=_0x2d7471,this[_0x44c966(0x127)]=_0x2d7471[_0x44c966(0x127)]||{'settings':[]},this[_0x44c966(0x12b)]=_0x28c8af||new GarbageCollector();}async[a38_0x30e50b(0x13e)](_0x2be798){const _0x428127=a38_0x30e50b,_0x4eb3f7=this['bot'][_0x428127(0x12e)]['find'](_0x179cb7=>_0x179cb7['id']===_0x428127(0x13f))||{},_0xb41a63=this[_0x428127(0x133)][_0x428127(0x141)]||{},_0x44885c=new DataContext(_0x4eb3f7['value'],{'readonly':!![]}),_0x2f4012=new DataState(_0x428127(0x13d)+this[_0x428127(0x133)]['id']),_0x5ee4cb=new Messenger(this['job']),_0x4f6dde={'garbage':this[_0x428127(0x12b)],'state':_0x2f4012,'bot':new DataContext(this[_0x428127(0x127)],{'readonly':!![]}),'job':new DataContext(this['job'],{'readonly':!![]}),'messenger':_0x5ee4cb,'msg':_0x5ee4cb,'config':_0x44885c,'inputData':new DataContext(_0xb41a63,{'readonly':!![]})};await retry(async(_0x589f2e,_0x4df203)=>{await _0x2be798(_0x4f6dde,{'bail':_0x589f2e,'attempts':_0x4df203});},{'retries':_0x44885c[_0x428127(0x134)](_0x428127(0x136),0x2),'onRetry':this[_0x428127(0x12a)]['bind'](this)});}[a38_0x30e50b(0x12a)](_0x45c5fe){const _0x15c42f=a38_0x30e50b;try{console[_0x15c42f(0x137)](_0x45c5fe),this[_0x15c42f(0x12b)][_0x15c42f(0x13c)]();}catch(_0x48039e){console[_0x15c42f(0x131)](_0x15c42f(0x13b),_0x48039e);}}}module[a38_0x30e50b(0x126)]=BotHandler;