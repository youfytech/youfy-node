function a38_0x304c(_0x51a4f4,_0x2f97ef){const _0x4f26ac=a38_0x4f26();return a38_0x304c=function(_0x304c06,_0x48e24d){_0x304c06=_0x304c06-0x109;let _0x43e7bc=_0x4f26ac[_0x304c06];return _0x43e7bc;},a38_0x304c(_0x51a4f4,_0x2f97ef);}(function(_0x550a5b,_0x5bf3d6){const _0x854ed9=a38_0x304c,_0x193107=_0x550a5b();while(!![]){try{const _0x5a80f9=-parseInt(_0x854ed9(0x111))/0x1+-parseInt(_0x854ed9(0x11c))/0x2+parseInt(_0x854ed9(0x11e))/0x3+-parseInt(_0x854ed9(0x110))/0x4*(-parseInt(_0x854ed9(0x117))/0x5)+-parseInt(_0x854ed9(0x112))/0x6+parseInt(_0x854ed9(0x10d))/0x7*(parseInt(_0x854ed9(0x118))/0x8)+parseInt(_0x854ed9(0x11d))/0x9*(parseInt(_0x854ed9(0x10e))/0xa);if(_0x5a80f9===_0x5bf3d6)break;else _0x193107['push'](_0x193107['shift']());}catch(_0x2e1c13){_0x193107['push'](_0x193107['shift']());}}}(a38_0x4f26,0x3bc1a));function a38_0x4f26(){const _0x256438=['bind','495338VrZYvF','971667aNEiqx','741852pYhMbd','[GARBAGE\x20ERROR\x20ON\x20RETRY]','job','input_data','settings','job-','7OelVEu','20ohNBZm','job_retries','4LQFOUV','358599KZdHos','1236WGMrxO','error','garbage','log','bot','938635FOwRPz','1602392fiHYOL','clear','onRetry'];a38_0x4f26=function(){return _0x256438;};return a38_0x4f26();}const retry=require('async-retry'),Messenger=require('../sdk/Messenger'),DataContext=require('../sdk/DataContext'),DataState=require('../sdk/DataState'),GarbageCollector=require('../sdk/GarbageCollector');class BotHandler{constructor(_0x2daf4d,{garbage:_0x2e0056}){const _0x1beb02=a38_0x304c;this['job']=_0x2daf4d,this[_0x1beb02(0x116)]=_0x2daf4d[_0x1beb02(0x116)]||{'settings':[]},this['garbage']=_0x2e0056||new GarbageCollector();}async['run'](_0x214ea5){const _0x38bd65=a38_0x304c,_0x1bd8e0=this['bot'][_0x38bd65(0x10b)]['find'](_0x5a36bf=>_0x5a36bf['id']==='config')||{},_0x4b099a=this['job'][_0x38bd65(0x10a)]||{},_0x38ce66=new DataContext(_0x1bd8e0['value'],{'readonly':!![]}),_0x55ff7c=new DataState(_0x38bd65(0x10c)+this[_0x38bd65(0x109)]['id']),_0x36b443=new Messenger(this[_0x38bd65(0x109)]),_0x4903ce={'garbage':this[_0x38bd65(0x114)],'state':_0x55ff7c,'bot':new DataContext(this[_0x38bd65(0x116)],{'readonly':!![]}),'job':new DataContext(this[_0x38bd65(0x109)],{'readonly':!![]}),'messenger':_0x36b443,'msg':_0x36b443,'config':_0x38ce66,'inputData':new DataContext(_0x4b099a,{'readonly':!![]})};await retry(async(_0xaff3d1,_0x1bda04)=>{await _0x214ea5(_0x4903ce,{'bail':_0xaff3d1,'attempts':_0x1bda04});},{'retries':_0x38ce66['get'](_0x38bd65(0x10f),0x2),'onRetry':this[_0x38bd65(0x11a)][_0x38bd65(0x11b)](this)});}['onRetry'](_0x403fcd){const _0x31d3be=a38_0x304c;try{console[_0x31d3be(0x113)](_0x403fcd),this['garbage'][_0x31d3be(0x119)]();}catch(_0x301de7){console[_0x31d3be(0x115)](_0x31d3be(0x11f),_0x301de7);}}}module['exports']=BotHandler;