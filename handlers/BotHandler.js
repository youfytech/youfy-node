const a38_0xa80aa8=a38_0x57b9;(function(_0x526b9e,_0xe7e241){const _0x26b26f=a38_0x57b9,_0x2e155f=_0x526b9e();while(!![]){try{const _0x461f7f=parseInt(_0x26b26f(0x13e))/0x1+parseInt(_0x26b26f(0x14f))/0x2*(-parseInt(_0x26b26f(0x144))/0x3)+parseInt(_0x26b26f(0x14b))/0x4*(-parseInt(_0x26b26f(0x151))/0x5)+parseInt(_0x26b26f(0x14a))/0x6*(parseInt(_0x26b26f(0x140))/0x7)+parseInt(_0x26b26f(0x150))/0x8+-parseInt(_0x26b26f(0x13b))/0x9+parseInt(_0x26b26f(0x149))/0xa;if(_0x461f7f===_0xe7e241)break;else _0x2e155f['push'](_0x2e155f['shift']());}catch(_0x472f5d){_0x2e155f['push'](_0x2e155f['shift']());}}}(a38_0x5367,0xcb51f));function a38_0x5367(){const _0x210940=['getResume','25251rUdxeM','job','7934507SPdtAZ','[GARBAGE\x20ERROR\x20ON\x20RETRY]','bind','get','3NNEakd','onRetry','table','clear','value','18840230uqKlay','6UOzOAb','2745916UbtpAr','log','find','bot','3181030jhJNih','8048136jnHvJx','10bKQxHB','input_data','run','isProduction','error','job-','2272680StSUSy','garbage'];a38_0x5367=function(){return _0x210940;};return a38_0x5367();}const retry=require('async-retry'),Messenger=require('../sdk/Messenger'),DataContext=require('../sdk/DataContext'),DataState=require('../sdk/DataState'),GarbageCollector=require('../sdk/GarbageCollector'),ObjectManager=require('../sdk/ObjectManager'),Utils=require('../sdk/Utils');class BotHandler{constructor(_0x57df2d,{garbage:_0x3d5269}){const _0x254178=a38_0x57b9;this['job']=_0x57df2d,this[_0x254178(0x14e)]=_0x57df2d[_0x254178(0x14e)]||{'settings':[]},this['garbage']=_0x3d5269||new GarbageCollector();}async[a38_0xa80aa8(0x153)](_0xd494c0){const _0x404896=a38_0xa80aa8,_0x534268=this[_0x404896(0x14e)]['settings'][_0x404896(0x14d)](_0x43c32d=>_0x43c32d['id']==='config')||{},_0x551982=this['job'][_0x404896(0x152)]||{},_0xc7656c=new DataContext(_0x534268[_0x404896(0x148)],{'readonly':!![]}),_0x3ca499=new DataState(_0x404896(0x156)+this[_0x404896(0x13f)]['id']),_0x5ce85c=new Messenger(this[_0x404896(0x13f)]),_0x1a5b0b={'garbage':this[_0x404896(0x13c)],'state':_0x3ca499,'bot':new DataContext(this[_0x404896(0x14e)],{'readonly':!![]}),'job':new DataContext(this[_0x404896(0x13f)],{'readonly':!![]}),'messenger':_0x5ce85c,'msg':_0x5ce85c,'config':_0xc7656c,'inputData':new DataContext(_0x551982,{'readonly':!![]})};await retry(async(_0x32a4b8,_0x2e66f4)=>{await _0xd494c0(_0x1a5b0b,{'bail':_0x32a4b8,'attempts':_0x2e66f4});},{'retries':_0xc7656c[_0x404896(0x143)]('job_retries',0x2),'onRetry':this['onRetry'][_0x404896(0x142)](this)});if(!Utils[_0x404896(0x154)]()){const _0x4769a2=new ObjectManager(_0x1a5b0b),_0x4893ab=await _0x4769a2[_0x404896(0x13d)]();console[_0x404896(0x146)](_0x4893ab);}}[a38_0xa80aa8(0x145)](_0x451ed2){const _0x180661=a38_0xa80aa8;try{console[_0x180661(0x155)](_0x451ed2),this[_0x180661(0x13c)][_0x180661(0x147)]();}catch(_0x376c58){console[_0x180661(0x14c)](_0x180661(0x141),_0x376c58);}}}function a38_0x57b9(_0x1dd4b9,_0x52a431){const _0x536716=a38_0x5367();return a38_0x57b9=function(_0x57b972,_0x21f9b5){_0x57b972=_0x57b972-0x13b;let _0x55aaf0=_0x536716[_0x57b972];return _0x55aaf0;},a38_0x57b9(_0x1dd4b9,_0x52a431);}module['exports']=BotHandler;