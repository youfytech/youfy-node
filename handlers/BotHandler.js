const a38_0x5b0816=a38_0x21c5;function a38_0x21c5(_0x27298f,_0x12d33d){const _0x3e9ac9=a38_0x3e9a();return a38_0x21c5=function(_0x21c59e,_0x2a59fd){_0x21c59e=_0x21c59e-0x1ca;let _0x388136=_0x3e9ac9[_0x21c59e];return _0x388136;},a38_0x21c5(_0x27298f,_0x12d33d);}function a38_0x3e9a(){const _0x4f322d=['1035190wlAxob','clear','run','find','garbage','680240sjfHbU','94427KidXlR','10781743mgONOp','6BQGIND','exports','2572912XXeOIg','[GARBAGE\x20ERROR\x20ON\x20RETRY]','value','4536747ozzWIj','6067539gegVQb','job','config','bind','get','job-','log','bot','job_retries','onRetry','4TuVNVq'];a38_0x3e9a=function(){return _0x4f322d;};return a38_0x3e9a();}(function(_0x2d2d7b,_0xe94658){const _0x481e24=a38_0x21c5,_0x27825e=_0x2d2d7b();while(!![]){try{const _0x37e36d=parseInt(_0x481e24(0x1d5))/0x1+-parseInt(_0x481e24(0x1d9))/0x2+parseInt(_0x481e24(0x1dc))/0x3+parseInt(_0x481e24(0x1ce))/0x4*(-parseInt(_0x481e24(0x1cf))/0x5)+-parseInt(_0x481e24(0x1d7))/0x6*(-parseInt(_0x481e24(0x1d6))/0x7)+-parseInt(_0x481e24(0x1d4))/0x8+-parseInt(_0x481e24(0x1dd))/0x9;if(_0x37e36d===_0xe94658)break;else _0x27825e['push'](_0x27825e['shift']());}catch(_0x43cc85){_0x27825e['push'](_0x27825e['shift']());}}}(a38_0x3e9a,0xda516));const retry=require('async-retry'),Messenger=require('../sdk/Messenger'),DataContext=require('../sdk/DataContext'),DataState=require('../sdk/DataState'),GarbageCollector=require('../sdk/GarbageCollector');class BotHandler{constructor(_0x2285ce,{garbage:_0xa79c43}){const _0x57f98d=a38_0x21c5;this[_0x57f98d(0x1de)]=_0x2285ce,this['bot']=_0x2285ce['bot']||{'settings':[]},this['garbage']=_0xa79c43||new GarbageCollector();}async[a38_0x5b0816(0x1d1)](_0xb30544){const _0xd3fbd1=a38_0x5b0816,_0x467c21=this[_0xd3fbd1(0x1cb)]['settings'][_0xd3fbd1(0x1d2)](_0xc1228b=>_0xc1228b['id']===_0xd3fbd1(0x1df))||{},_0x3eb6e1=this[_0xd3fbd1(0x1de)]['input_data']||{},_0x53ac25=new DataContext(_0x467c21[_0xd3fbd1(0x1db)],{'readonly':!![]}),_0x36fdea=new DataState(_0xd3fbd1(0x1e2)+this[_0xd3fbd1(0x1de)]['id']),_0x40be40=new Messenger(this[_0xd3fbd1(0x1de)]),_0x56cbaf={'garbage':this[_0xd3fbd1(0x1d3)],'state':_0x36fdea,'bot':new DataContext(this[_0xd3fbd1(0x1cb)],{'readonly':!![]}),'job':new DataContext(this[_0xd3fbd1(0x1de)],{'readonly':!![]}),'messenger':_0x40be40,'msg':_0x40be40,'config':_0x53ac25,'inputData':new DataContext(_0x3eb6e1,{'readonly':!![]})};await retry(async(_0x372930,_0x445d65)=>{await _0xb30544(_0x56cbaf,{'bail':_0x372930,'attempts':_0x445d65});},{'retries':_0x53ac25[_0xd3fbd1(0x1e1)](_0xd3fbd1(0x1cc),0x2),'onRetry':this[_0xd3fbd1(0x1cd)][_0xd3fbd1(0x1e0)](this)});}[a38_0x5b0816(0x1cd)](_0x2f8ee3){const _0x3d79c5=a38_0x5b0816;try{console['error'](_0x2f8ee3),this['garbage'][_0x3d79c5(0x1d0)]();}catch(_0x5a5e1a){console[_0x3d79c5(0x1ca)](_0x3d79c5(0x1da),_0x5a5e1a);}}}module[a38_0x5b0816(0x1d8)]=BotHandler;