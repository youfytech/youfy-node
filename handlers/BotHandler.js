function a38_0x3b07(){const _0x1f8d7d=['267357kNXINS','8TpKjGh','job','413628sLmiDT','job-','300141GssuuQ','get','12DexkiB','114690wcEDmp','onRetry','value','586dhgfgS','log','[GARBAGE\x20ERROR\x20ON\x20RETRY]','config','error','5730880CxzEgK','find','run','4168710cMyJNK','garbage','237gXaLgD','bot'];a38_0x3b07=function(){return _0x1f8d7d;};return a38_0x3b07();}const a38_0xdc09f5=a38_0x5c36;function a38_0x5c36(_0x8fd7f7,_0x4f870c){const _0x3b0712=a38_0x3b07();return a38_0x5c36=function(_0x5c368c,_0x2c80ca){_0x5c368c=_0x5c368c-0xdf;let _0x3c6a55=_0x3b0712[_0x5c368c];return _0x3c6a55;},a38_0x5c36(_0x8fd7f7,_0x4f870c);}(function(_0x3a6b10,_0x48b792){const _0x140d4f=a38_0x5c36,_0x1e70dc=_0x3a6b10();while(!![]){try{const _0x5448ed=parseInt(_0x140d4f(0xe7))/0x1+-parseInt(_0x140d4f(0xf2))/0x2*(-parseInt(_0x140d4f(0xe5))/0x3)+parseInt(_0x140d4f(0xee))/0x4*(parseInt(_0x140d4f(0xef))/0x5)+-parseInt(_0x140d4f(0xea))/0x6+-parseInt(_0x140d4f(0xe3))/0x7+-parseInt(_0x140d4f(0xe8))/0x8*(-parseInt(_0x140d4f(0xec))/0x9)+parseInt(_0x140d4f(0xe0))/0xa;if(_0x5448ed===_0x48b792)break;else _0x1e70dc['push'](_0x1e70dc['shift']());}catch(_0xe6cbfd){_0x1e70dc['push'](_0x1e70dc['shift']());}}}(a38_0x3b07,0x498e7));const retry=require('async-retry'),Messenger=require('../sdk/Messenger'),DataContext=require('../sdk/DataContext'),DataState=require('../sdk/DataState'),GarbageCollector=require('../sdk/GarbageCollector');class BotHandler{constructor(_0x496d28,{garbage:_0x4a2961}){const _0x3f0584=a38_0x5c36;this['job']=_0x496d28,this[_0x3f0584(0xe6)]=_0x496d28[_0x3f0584(0xe6)]||{'settings':[]},this['garbage']=_0x4a2961||new GarbageCollector();}async[a38_0xdc09f5(0xe2)](_0x36f29f){const _0x92ec5c=a38_0xdc09f5,_0x36f0a2=this[_0x92ec5c(0xe6)]['settings'][_0x92ec5c(0xe1)](_0x49652b=>_0x49652b['id']===_0x92ec5c(0xf5))||{},_0x3623f6=this[_0x92ec5c(0xe9)]['input_data']||{},_0x1b6229=new DataContext(_0x36f0a2[_0x92ec5c(0xf1)],{'readonly':!![]}),_0x4d372d=new DataState(_0x92ec5c(0xeb)+this[_0x92ec5c(0xe9)]['id']),_0x9ffabf=new Messenger(this[_0x92ec5c(0xe9)]),_0x39cedf={'garbage':this[_0x92ec5c(0xe4)],'state':_0x4d372d,'bot':new DataContext(this[_0x92ec5c(0xe6)],{'readonly':!![]}),'job':new DataContext(this[_0x92ec5c(0xe9)],{'readonly':!![]}),'messenger':_0x9ffabf,'msg':_0x9ffabf,'config':_0x1b6229,'inputData':new DataContext(_0x3623f6,{'readonly':!![]})};await retry(async(_0x1cc295,_0x4d0ce5)=>{await _0x36f29f(_0x39cedf,{'bail':_0x1cc295,'attempts':_0x4d0ce5});},{'retries':_0x1b6229[_0x92ec5c(0xed)]('job_retries',0x2),'onRetry':this[_0x92ec5c(0xf0)]['bind'](this)});}[a38_0xdc09f5(0xf0)](_0x27cb78){const _0x46a799=a38_0xdc09f5;try{console[_0x46a799(0xdf)](_0x27cb78),this['garbage']['clear']();}catch(_0x4d8132){console[_0x46a799(0xf3)](_0x46a799(0xf4),_0x4d8132);}}}module['exports']=BotHandler;