const a2_0x2937b9=a2_0x58d5;function a2_0x58d5(_0x12573a,_0x32fa15){const _0x1311fa=a2_0x1311();return a2_0x58d5=function(_0x58d5de,_0x2b6a3c){_0x58d5de=_0x58d5de-0x176;let _0x1f8c9e=_0x1311fa[_0x58d5de];return _0x1f8c9e;},a2_0x58d5(_0x12573a,_0x32fa15);}(function(_0x9dc549,_0x2b0c78){const _0x4eb03a=a2_0x58d5,_0x538184=_0x9dc549();while(!![]){try{const _0xbfac55=parseInt(_0x4eb03a(0x182))/0x1+-parseInt(_0x4eb03a(0x17b))/0x2*(-parseInt(_0x4eb03a(0x190))/0x3)+parseInt(_0x4eb03a(0x179))/0x4+-parseInt(_0x4eb03a(0x186))/0x5+-parseInt(_0x4eb03a(0x18f))/0x6+-parseInt(_0x4eb03a(0x17e))/0x7+-parseInt(_0x4eb03a(0x176))/0x8*(parseInt(_0x4eb03a(0x188))/0x9);if(_0xbfac55===_0x2b0c78)break;else _0x538184['push'](_0x538184['shift']());}catch(_0x42d540){_0x538184['push'](_0x538184['shift']());}}}(a2_0x1311,0x9e8bd));const api=require('./instance'),{APIError}=require('../exceptions');class Database{constructor(_0xf321b8){this['db']=_0xf321b8;}async[a2_0x2937b9(0x18a)](_0x3d0f60={}){const _0x378e5d=a2_0x2937b9,{where:where={},order:_0x4271d1,limit:_0x1934d6,offset:_0x57c394}=_0x3d0f60,_0xbb9e35={};for(const _0x5859c0 in where){_0xbb9e35['data.'+_0x5859c0]=where[_0x5859c0];}const _0x3c93a1={..._0xbb9e35};try{const _0x5c09d9=await api[_0x378e5d(0x184)](_0x378e5d(0x17f)+this['db']['id']+_0x378e5d(0x189),{'params':{'where':_0x3c93a1,'order':_0x4271d1,'limit':_0x1934d6,'offset':_0x57c394}});return _0x5c09d9[_0x378e5d(0x17a)];}catch(_0x55c880){throw new APIError(_0x378e5d(0x18c),_0x55c880);}}async[a2_0x2937b9(0x178)](_0x1398af){const _0xd0089f=a2_0x2937b9;try{const _0x3978a2=await api[_0xd0089f(0x184)](_0xd0089f(0x17f)+_0x1398af);return _0x3978a2['data'];}catch(_0x4ff010){throw new APIError(_0xd0089f(0x181),_0x4ff010);}}async['create'](_0x49bffc){const _0x1c3c47=a2_0x2937b9;try{const _0x2c4a4e=await api[_0x1c3c47(0x17c)](_0x1c3c47(0x18e),{'data':_0x49bffc,'db_id':this['db']['id']});return _0x2c4a4e[_0x1c3c47(0x17a)];}catch(_0x4ef4ca){throw new APIError('[Fail\x20to\x20request\x20to\x20create\x20a\x20dataset]:\x20',_0x4ef4ca);}}async['bookCreate'](_0x3840fd=[]){const _0x2fd28d=a2_0x2937b9;try{const _0xb3be9d=_0x3840fd[_0x2fd28d(0x183)](_0x5bc70a=>{return{'db_id':this['db']['id'],'data':_0x5bc70a};}),_0x435482=await api['post']('datasets',_0xb3be9d);return _0x435482['data'];}catch(_0x3e948b){throw new APIError('[Fail\x20to\x20request\x20to\x20create\x20datasets]:\x20',_0x3e948b);}}async[a2_0x2937b9(0x192)](_0x4498c4,_0xb7d23d){const _0x38de7d=a2_0x2937b9;try{const _0x5d1c8d=await api[_0x38de7d(0x187)](_0x38de7d(0x17f)+_0x4498c4,_0xb7d23d);return _0x5d1c8d[_0x38de7d(0x17a)];}catch(_0x420477){throw new APIError('[Fail\x20to\x20request\x20to\x20update\x20a\x20dataset]:\x20',_0x420477);}}async[a2_0x2937b9(0x180)](_0x921e7b){const _0x45dfb8=a2_0x2937b9;try{const _0x2a2996=await api[_0x45dfb8(0x191)](_0x45dfb8(0x17f)+_0x921e7b);return _0x2a2996['data'];}catch(_0x4c30a7){throw new APIError(_0x45dfb8(0x17d),_0x4c30a7);}}async['removeAll'](){const _0xbd94a0=a2_0x2937b9;try{const _0x486bcc=await api[_0xbd94a0(0x191)]('datasets/'+this['db']['id']+_0xbd94a0(0x189));return _0x486bcc[_0xbd94a0(0x17a)];}catch(_0x3f56ce){throw new APIError(_0xbd94a0(0x185),_0x3f56ce);}}}module[a2_0x2937b9(0x177)]=async(_0x2f43d3,_0x5d459f={})=>{const _0x13364d=a2_0x2937b9;try{const _0x572670=await api[_0x13364d(0x184)](_0x13364d(0x18d)+_0x2f43d3),_0x560007=_0x572670[_0x13364d(0x17a)]||{};return new Database(_0x560007,{..._0x5d459f});}catch(_0x3cb1f9){throw new APIError(_0x13364d(0x18b)+_0x2f43d3+']:',_0x3cb1f9);}};function a2_0x1311(){const _0x592ca0=['[Fail\x20to\x20request\x20a\x20dataset]:\x20','437087LPAzZR','map','get','[Fail\x20to\x20request\x20to\x20remove\x20all\x20datasets]:\x20','571575NTdInP','put','135585tVbMpx','/all','all','[Fail\x20to\x20request\x20db\x20','[Fail\x20to\x20request\x20all\x20datasets]:\x20','dbs/','datasets','23616KMgjUD','15CeAUVt','delete','update','184ZSECrz','exports','find','2812524IVQjHX','data','194658LuZqKQ','post','[Fail\x20to\x20request\x20to\x20remove\x20a\x20dataset]:\x20','3588984zCuIxh','datasets/','remove'];a2_0x1311=function(){return _0x592ca0;};return a2_0x1311();}