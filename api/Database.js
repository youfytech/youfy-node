const a2_0x85e376=a2_0x9a72;(function(_0x3b7017,_0x1de3ca){const _0x5f298e=a2_0x9a72,_0x3973ca=_0x3b7017();while(!![]){try{const _0x5cb24a=parseInt(_0x5f298e(0x1e6))/0x1+parseInt(_0x5f298e(0x1d6))/0x2+parseInt(_0x5f298e(0x1e4))/0x3+parseInt(_0x5f298e(0x1ce))/0x4*(-parseInt(_0x5f298e(0x1d7))/0x5)+-parseInt(_0x5f298e(0x1dc))/0x6*(-parseInt(_0x5f298e(0x1cd))/0x7)+-parseInt(_0x5f298e(0x1d0))/0x8+-parseInt(_0x5f298e(0x1ca))/0x9;if(_0x5cb24a===_0x1de3ca)break;else _0x3973ca['push'](_0x3973ca['shift']());}catch(_0xcc746){_0x3973ca['push'](_0x3973ca['shift']());}}}(a2_0x4f09,0xa203e));const api=require('./instance'),{APIError}=require('../exceptions');function a2_0x9a72(_0x197ccc,_0x56e846){const _0x4f0952=a2_0x4f09();return a2_0x9a72=function(_0x9a7283,_0x2731f6){_0x9a7283=_0x9a7283-0x1ca;let _0x34877f=_0x4f0952[_0x9a7283];return _0x34877f;},a2_0x9a72(_0x197ccc,_0x56e846);}function a2_0x4f09(){const _0xf0c928=['733795kGchGv','exports','[Fail\x20to\x20request\x20to\x20remove\x20all\x20datasets]:\x20','6980679hzjvCI','delete','get','7fbRAIJ','5196TPZgPs','[Fail\x20to\x20request\x20a\x20dataset]:\x20','4350112UFpOvh','/all','removeAll','datasets','[Fail\x20to\x20request\x20to\x20update\x20a\x20dataset]:\x20','find','998068JMbREH','3075IGFWqn','update','bookCreate','[Fail\x20to\x20request\x20db\x20','[Fail\x20to\x20request\x20to\x20create\x20a\x20dataset]:\x20','3541938xashXJ','all','datasets/','post','create','put','data','data.','2876226EtaODV','[Fail\x20to\x20request\x20to\x20create\x20datasets]:\x20'];a2_0x4f09=function(){return _0xf0c928;};return a2_0x4f09();}class Database{constructor(_0x47eab0){this['db']=_0x47eab0;}async[a2_0x85e376(0x1dd)](_0x1981d1={}){const _0x2f2c79=a2_0x85e376,{where:where={},order:_0x4bdc74,limit:_0x13e370,offset:_0x182488}=_0x1981d1,_0x1f8033={};for(const _0x54cd5b in where){_0x1f8033[_0x2f2c79(0x1e3)+_0x54cd5b]=where[_0x54cd5b];}const _0x57df34={..._0x1f8033};try{const _0x37e175=await api[_0x2f2c79(0x1cc)](_0x2f2c79(0x1de)+this['db']['id']+'/all',{'params':{'where':_0x57df34,'order':_0x4bdc74,'limit':_0x13e370,'offset':_0x182488}});return _0x37e175['data'];}catch(_0x270033){throw new APIError('[Fail\x20to\x20request\x20all\x20datasets]:\x20',_0x270033);}}async[a2_0x85e376(0x1d5)](_0x656d5d){const _0x3d445c=a2_0x85e376;try{const _0xaae452=await api[_0x3d445c(0x1cc)](_0x3d445c(0x1de)+_0x656d5d);return _0xaae452['data'];}catch(_0xc67200){throw new APIError(_0x3d445c(0x1cf),_0xc67200);}}async[a2_0x85e376(0x1e0)](_0x5dfceb){const _0x4d0eb7=a2_0x85e376;try{const _0x2b03fb=await api[_0x4d0eb7(0x1df)](_0x4d0eb7(0x1d3),{'data':_0x5dfceb,'db_id':this['db']['id']});return _0x2b03fb[_0x4d0eb7(0x1e2)];}catch(_0x233af8){throw new APIError(_0x4d0eb7(0x1db),_0x233af8);}}async[a2_0x85e376(0x1d9)](_0x235766=[]){const _0x4a9c93=a2_0x85e376;try{const _0x1279aa=_0x235766['map'](_0x36f217=>{return{'db_id':this['db']['id'],'data':_0x36f217};}),_0x4f45ab=await api[_0x4a9c93(0x1df)](_0x4a9c93(0x1d3),_0x1279aa);return _0x4f45ab[_0x4a9c93(0x1e2)];}catch(_0x3b87d6){throw new APIError(_0x4a9c93(0x1e5),_0x3b87d6);}}async[a2_0x85e376(0x1d8)](_0x1e62cd,_0x3a299b){const _0x515304=a2_0x85e376;try{const _0x437dc5=await api[_0x515304(0x1e1)](_0x515304(0x1de)+_0x1e62cd,_0x3a299b);return _0x437dc5[_0x515304(0x1e2)];}catch(_0x306475){throw new APIError(_0x515304(0x1d4),_0x306475);}}async['remove'](_0x12c225){const _0xa075a=a2_0x85e376;try{const _0xc8e2a1=await api[_0xa075a(0x1cb)](_0xa075a(0x1de)+_0x12c225);return _0xc8e2a1['data'];}catch(_0x516a68){throw new APIError('[Fail\x20to\x20request\x20to\x20remove\x20a\x20dataset]:\x20',_0x516a68);}}async[a2_0x85e376(0x1d2)](){const _0x50c064=a2_0x85e376;try{const _0x20e495=await api[_0x50c064(0x1cb)]('datasets/'+this['db']['id']+_0x50c064(0x1d1));return _0x20e495['data'];}catch(_0xca306b){throw new APIError(_0x50c064(0x1e8),_0xca306b);}}}module[a2_0x85e376(0x1e7)]=async(_0x2c5380,_0x18c051={})=>{const _0xf7d53e=a2_0x85e376;try{const _0x436e09=await api[_0xf7d53e(0x1cc)]('dbs/'+_0x2c5380),_0x1828de=_0x436e09[_0xf7d53e(0x1e2)]||{};return new Database(_0x1828de,{..._0x18c051});}catch(_0x24f716){throw new APIError(_0xf7d53e(0x1da)+_0x2c5380+']:',_0x24f716);}};