function a2_0x29f9(){const _0x2ffeda=['all','3262060OdgqeH','6103vifYVt','[Fail\x20to\x20request\x20to\x20create\x20a\x20dataset]:\x20','bookCreate','[Fail\x20to\x20request\x20to\x20create\x20datasets]:\x20','delete','132yNIDVL','find','7303320YZLGMG','get','9pFTnvX','update','data','1686748YSqonm','[Fail\x20to\x20request\x20to\x20update\x20a\x20dataset]:\x20','3723244WJbQzm','42335qkdfWk','/all','data.','[Fail\x20to\x20request\x20all\x20datasets]:\x20','post','datasets','create','678ARMtHD','[Fail\x20to\x20request\x20to\x20remove\x20a\x20dataset]:\x20','3225354HjpVCe','datasets/','removeAll'];a2_0x29f9=function(){return _0x2ffeda;};return a2_0x29f9();}const a2_0x4aed39=a2_0x3d36;(function(_0x348f81,_0x5417dd){const _0xcfe26a=a2_0x3d36,_0x2aefe3=_0x348f81();while(!![]){try{const _0x3c7a3f=-parseInt(_0xcfe26a(0x1b9))/0x1*(-parseInt(_0xcfe26a(0x1a1))/0x2)+parseInt(_0xcfe26a(0x1b4))/0x3+-parseInt(_0xcfe26a(0x1aa))/0x4+parseInt(_0xcfe26a(0x1ab))/0x5*(-parseInt(_0xcfe26a(0x1b2))/0x6)+-parseInt(_0xcfe26a(0x1a8))/0x7+-parseInt(_0xcfe26a(0x1a3))/0x8*(-parseInt(_0xcfe26a(0x1a5))/0x9)+parseInt(_0xcfe26a(0x1b8))/0xa;if(_0x3c7a3f===_0x5417dd)break;else _0x2aefe3['push'](_0x2aefe3['shift']());}catch(_0x882daf){_0x2aefe3['push'](_0x2aefe3['shift']());}}}(a2_0x29f9,0x8facb));function a2_0x3d36(_0x33bab9,_0x42c8c9){const _0x29f91d=a2_0x29f9();return a2_0x3d36=function(_0x3d36e4,_0x128d15){_0x3d36e4=_0x3d36e4-0x19d;let _0x726f47=_0x29f91d[_0x3d36e4];return _0x726f47;},a2_0x3d36(_0x33bab9,_0x42c8c9);}const api=require('./instance'),{APIError}=require('../exceptions');class Database{constructor(_0x4676be){this['db']=_0x4676be;}async[a2_0x4aed39(0x1b7)](_0x2d13fe={}){const _0x1c2ffe=a2_0x4aed39,{where:where={},order:_0x4a0bed,limit:_0x215452,offset:_0x1c1316}=_0x2d13fe,_0xc664cf={};for(const _0x416dcc in where){_0xc664cf[_0x1c2ffe(0x1ad)+_0x416dcc]=where[_0x416dcc];}const _0x38ea4c={..._0xc664cf};try{const _0x4f65f1=await api['get'](_0x1c2ffe(0x1b5)+this['db']['id']+_0x1c2ffe(0x1ac),{'params':{'where':_0x38ea4c,'order':_0x4a0bed,'limit':_0x215452,'offset':_0x1c1316}});return _0x4f65f1['data'];}catch(_0x562b45){throw new APIError(_0x1c2ffe(0x1ae),_0x562b45);}}async[a2_0x4aed39(0x1a2)](_0x2af492){const _0x424100=a2_0x4aed39;try{const _0x13ec75=await api[_0x424100(0x1a4)](_0x424100(0x1b5)+_0x2af492);return _0x13ec75[_0x424100(0x1a7)];}catch(_0x5af3b4){throw new APIError('[Fail\x20to\x20request\x20a\x20dataset]:\x20',_0x5af3b4);}}async[a2_0x4aed39(0x1b1)](_0x2902ec){const _0x3f6f0e=a2_0x4aed39;try{const _0x494d8b=await api[_0x3f6f0e(0x1af)]('datasets',{'data':_0x2902ec,'db_id':this['db']['id']});return _0x494d8b[_0x3f6f0e(0x1a7)];}catch(_0x2813c9){throw new APIError(_0x3f6f0e(0x19d),_0x2813c9);}}async[a2_0x4aed39(0x19e)](_0x1c630f=[]){const _0x1ae327=a2_0x4aed39;try{const _0x533770=_0x1c630f['map'](_0x19dfd1=>{return{'db_id':this['db']['id'],'data':_0x19dfd1};}),_0x1d7f4d=await api['post'](_0x1ae327(0x1b0),_0x533770);return _0x1d7f4d[_0x1ae327(0x1a7)];}catch(_0x97d94b){throw new APIError(_0x1ae327(0x19f),_0x97d94b);}}async[a2_0x4aed39(0x1a6)](_0x4ecc4d,_0x48da05){const _0x56f1e1=a2_0x4aed39;try{const _0x3e31cc=await api['put'](_0x56f1e1(0x1b5)+_0x4ecc4d,_0x48da05);return _0x3e31cc[_0x56f1e1(0x1a7)];}catch(_0x2d744d){throw new APIError(_0x56f1e1(0x1a9),_0x2d744d);}}async['remove'](_0x3cc113){const _0x5ae52c=a2_0x4aed39;try{const _0x541e16=await api[_0x5ae52c(0x1a0)](_0x5ae52c(0x1b5)+_0x3cc113);return _0x541e16['data'];}catch(_0x6137ff){throw new APIError(_0x5ae52c(0x1b3),_0x6137ff);}}async[a2_0x4aed39(0x1b6)](){const _0x3067da=a2_0x4aed39;try{const _0x43b95e=await api['delete'](_0x3067da(0x1b5)+this['db']['id']+_0x3067da(0x1ac));return _0x43b95e['data'];}catch(_0x24dad4){throw new APIError('[Fail\x20to\x20request\x20to\x20remove\x20all\x20datasets]:\x20',_0x24dad4);}}}module['exports']=async(_0x27c05f,_0x20cb7a={})=>{const _0x2d5d71=a2_0x4aed39;try{const _0x5d238e=await api[_0x2d5d71(0x1a4)]('dbs/'+_0x27c05f),_0x40348d=_0x5d238e[_0x2d5d71(0x1a7)]||{};return new Database(_0x40348d,{..._0x20cb7a});}catch(_0x12fcc5){throw new APIError('[Fail\x20to\x20request\x20db\x20'+_0x27c05f+']:',_0x12fcc5);}};