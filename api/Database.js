const a2_0x5f8ad3=a2_0x5663;function a2_0xfb4d(){const _0x44b990=['exports','[Fail\x20to\x20request\x20to\x20create\x20a\x20dataset]:\x20','create','post','remove','dbs/','[Fail\x20to\x20request\x20to\x20remove\x20all\x20datasets]:\x20','4132832GfFjQb','[Fail\x20to\x20request\x20all\x20datasets]:\x20','5955278mwurxk','datasets/','7976KSIscC','datasets','data.','get','815eHBkVK','/all','1045hXvMTR','put','27660pkPqNX','726MSSNlx','2knuVbv','43785eYpdht','119657dJKYVL','474wisDrc','all','1090PUKiOR','delete','data'];a2_0xfb4d=function(){return _0x44b990;};return a2_0xfb4d();}(function(_0x5768b1,_0x41901a){const _0x56c564=a2_0x5663,_0x2eb4d3=_0x5768b1();while(!![]){try{const _0x4bb404=-parseInt(_0x56c564(0x1a7))/0x1*(parseInt(_0x56c564(0x1a5))/0x2)+-parseInt(_0x56c564(0x1a4))/0x3*(parseInt(_0x56c564(0x19b))/0x4)+-parseInt(_0x56c564(0x19f))/0x5*(parseInt(_0x56c564(0x1a8))/0x6)+parseInt(_0x56c564(0x199))/0x7+-parseInt(_0x56c564(0x197))/0x8+parseInt(_0x56c564(0x1a6))/0x9*(parseInt(_0x56c564(0x1aa))/0xa)+-parseInt(_0x56c564(0x1a1))/0xb*(-parseInt(_0x56c564(0x1a3))/0xc);if(_0x4bb404===_0x41901a)break;else _0x2eb4d3['push'](_0x2eb4d3['shift']());}catch(_0x2a5fae){_0x2eb4d3['push'](_0x2eb4d3['shift']());}}}(a2_0xfb4d,0x72568));const api=require('./instance'),{APIError}=require('../exceptions');function a2_0x5663(_0x318403,_0x3d804d){const _0xfb4dc4=a2_0xfb4d();return a2_0x5663=function(_0x566373,_0x5b1922){_0x566373=_0x566373-0x193;let _0x52a16e=_0xfb4dc4[_0x566373];return _0x52a16e;},a2_0x5663(_0x318403,_0x3d804d);}class Database{constructor(_0xbc062e){this['db']=_0xbc062e;}async[a2_0x5f8ad3(0x1a9)](_0x32b4aa={}){const _0x2c871d=a2_0x5f8ad3,{where:where={},order:_0x5afd17,limit:_0x2755fd,offset:_0x244b76}=_0x32b4aa,_0x1972ad={};for(const _0x52f0f1 in where){_0x1972ad[_0x2c871d(0x19d)+_0x52f0f1]=where[_0x52f0f1];}const _0x1bc613={..._0x1972ad};try{const _0x3bd2fa=await api[_0x2c871d(0x19e)](_0x2c871d(0x19a)+this['db']['id']+_0x2c871d(0x1a0),{'params':{'where':_0x1bc613,'order':_0x5afd17,'limit':_0x2755fd,'offset':_0x244b76}});return _0x3bd2fa['data'];}catch(_0x562ddc){throw new APIError(_0x2c871d(0x198),_0x562ddc);}}async['find'](_0x1bfcc0){const _0x4260a7=a2_0x5f8ad3;try{const _0x4f00ee=await api['get'](_0x4260a7(0x19a)+_0x1bfcc0);return _0x4f00ee['data'];}catch(_0x20af01){throw new APIError('[Fail\x20to\x20request\x20a\x20dataset]:\x20',_0x20af01);}}async[a2_0x5f8ad3(0x1af)](_0x31df99){const _0x1ed771=a2_0x5f8ad3;try{const _0x45a590=await api['post'](_0x1ed771(0x19c),{'data':_0x31df99,'db_id':this['db']['id']});return _0x45a590['data'];}catch(_0x15776a){throw new APIError(_0x1ed771(0x1ae),_0x15776a);}}async['bookCreate'](_0x2c222c=[]){const _0x2cf583=a2_0x5f8ad3;try{const _0x178045=_0x2c222c['map'](_0x1398bb=>{return{'db_id':this['db']['id'],'data':_0x1398bb};}),_0xaccc08=await api[_0x2cf583(0x193)]('datasets',_0x178045);return _0xaccc08['data'];}catch(_0x287969){throw new APIError('[Fail\x20to\x20request\x20to\x20create\x20datasets]:\x20',_0x287969);}}async['update'](_0x27f7ae,_0x320de5){const _0x11bd64=a2_0x5f8ad3;try{const _0x5e6107=await api[_0x11bd64(0x1a2)](_0x11bd64(0x19a)+_0x27f7ae,_0x320de5);return _0x5e6107['data'];}catch(_0x32bbe3){throw new APIError('[Fail\x20to\x20request\x20to\x20update\x20a\x20dataset]:\x20',_0x32bbe3);}}async[a2_0x5f8ad3(0x194)](_0xcbc169){const _0x31cab3=a2_0x5f8ad3;try{const _0x1d3cbf=await api[_0x31cab3(0x1ab)](_0x31cab3(0x19a)+_0xcbc169);return _0x1d3cbf[_0x31cab3(0x1ac)];}catch(_0x5f3990){throw new APIError('[Fail\x20to\x20request\x20to\x20remove\x20a\x20dataset]:\x20',_0x5f3990);}}async['removeAll'](){const _0x1376c4=a2_0x5f8ad3;try{const _0x9eb03=await api['delete']('datasets/'+this['db']['id']+_0x1376c4(0x1a0));return _0x9eb03[_0x1376c4(0x1ac)];}catch(_0x58e389){throw new APIError(_0x1376c4(0x196),_0x58e389);}}}module[a2_0x5f8ad3(0x1ad)]=async(_0x5a8a3d,_0x4a4367={})=>{const _0x1252e1=a2_0x5f8ad3;try{const _0x257e59=await api[_0x1252e1(0x19e)](_0x1252e1(0x195)+_0x5a8a3d),_0x5295e8=_0x257e59[_0x1252e1(0x1ac)]||{};return new Database(_0x5295e8,{..._0x4a4367});}catch(_0x2614d6){throw new APIError('[Fail\x20to\x20request\x20db\x20'+_0x5a8a3d+']:',_0x2614d6);}};