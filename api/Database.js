function a2_0x594c(){const _0x2b3ef2=['108916YUpeFF','update','1559451CvAReQ','get','remove','[Fail\x20to\x20request\x20to\x20remove\x20all\x20datasets]:\x20','14385437hRQJFD','270dAjjCr','[Fail\x20to\x20request\x20a\x20dataset]:\x20','1522844ZJpQpI','12oQyDiU','dbs/','exports','19831vxPmBk','202206UMKGgM','/all','362277AJziEz','removeAll','bookCreate','data','find','datasets/','create','[Fail\x20to\x20request\x20all\x20datasets]:\x20','datasets','225DsXvQo','3336NmCNHC','[Fail\x20to\x20request\x20to\x20create\x20datasets]:\x20','3PoqZLO'];a2_0x594c=function(){return _0x2b3ef2;};return a2_0x594c();}const a2_0x5ea7cb=a2_0x36e5;(function(_0x53ae5,_0x502c7b){const _0x317ddc=a2_0x36e5,_0x25178e=_0x53ae5();while(!![]){try{const _0x4a56cc=-parseInt(_0x317ddc(0x1e8))/0x1+parseInt(_0x317ddc(0x1e6))/0x2*(parseInt(_0x317ddc(0x1e5))/0x3)+parseInt(_0x317ddc(0x1ef))/0x4+parseInt(_0x317ddc(0x1e2))/0x5*(-parseInt(_0x317ddc(0x1f4))/0x6)+-parseInt(_0x317ddc(0x1f3))/0x7*(-parseInt(_0x317ddc(0x1e3))/0x8)+parseInt(_0x317ddc(0x1f6))/0x9*(parseInt(_0x317ddc(0x1ed))/0xa)+parseInt(_0x317ddc(0x1ec))/0xb*(parseInt(_0x317ddc(0x1f0))/0xc);if(_0x4a56cc===_0x502c7b)break;else _0x25178e['push'](_0x25178e['shift']());}catch(_0x484e4b){_0x25178e['push'](_0x25178e['shift']());}}}(a2_0x594c,0xe44dc));const api=require('./instance'),{APIError}=require('../exceptions');class Database{constructor(_0x7c236d){this['db']=_0x7c236d;}async['all'](_0x8c486c={}){const _0x596b7f=a2_0x36e5,{where:where={},order:_0x352bd3,limit:_0x57adc2,offset:_0x26b8ac}=_0x8c486c,_0x51256d={};for(const _0x91626 in where){_0x51256d['data.'+_0x91626]=where[_0x91626];}const _0x46386c={..._0x51256d};try{const _0x314243=await api[_0x596b7f(0x1e9)](_0x596b7f(0x1de)+this['db']['id']+_0x596b7f(0x1f5),{'params':{'where':_0x46386c,'order':_0x352bd3,'limit':_0x57adc2,'offset':_0x26b8ac}});return _0x314243[_0x596b7f(0x1dc)];}catch(_0x1a09d5){throw new APIError(_0x596b7f(0x1e0),_0x1a09d5);}}async[a2_0x5ea7cb(0x1dd)](_0x3b9947){const _0x1f4400=a2_0x5ea7cb;try{const _0x232226=await api[_0x1f4400(0x1e9)]('datasets/'+_0x3b9947);return _0x232226['data'];}catch(_0x3870f9){throw new APIError(_0x1f4400(0x1ee),_0x3870f9);}}async[a2_0x5ea7cb(0x1df)](_0x45fafa){const _0xad35c1=a2_0x5ea7cb;try{const _0x54bd72=await api['post'](_0xad35c1(0x1e1),{'data':_0x45fafa,'db_id':this['db']['id']});return _0x54bd72['data'];}catch(_0x5f40b9){throw new APIError('[Fail\x20to\x20request\x20to\x20create\x20a\x20dataset]:\x20',_0x5f40b9);}}async[a2_0x5ea7cb(0x1f8)](_0x3c532f=[]){const _0x2d6ae3=a2_0x5ea7cb;try{const _0x494bfc=_0x3c532f['map'](_0x13dd52=>{return{'db_id':this['db']['id'],'data':_0x13dd52};}),_0x3a9d57=await api['post']('datasets',_0x494bfc);return _0x3a9d57['data'];}catch(_0x5d4120){throw new APIError(_0x2d6ae3(0x1e4),_0x5d4120);}}async[a2_0x5ea7cb(0x1e7)](_0x3816aa,_0x3ce57f){const _0x5c1802=a2_0x5ea7cb;try{const _0x14a4fe=await api['put']('datasets/'+_0x3816aa,_0x3ce57f);return _0x14a4fe[_0x5c1802(0x1dc)];}catch(_0x51416c){throw new APIError('[Fail\x20to\x20request\x20to\x20update\x20a\x20dataset]:\x20',_0x51416c);}}async[a2_0x5ea7cb(0x1ea)](_0x1610b9){const _0x494832=a2_0x5ea7cb;try{const _0x2c6c7d=await api['delete'](_0x494832(0x1de)+_0x1610b9);return _0x2c6c7d[_0x494832(0x1dc)];}catch(_0x3477f0){throw new APIError('[Fail\x20to\x20request\x20to\x20remove\x20a\x20dataset]:\x20',_0x3477f0);}}async[a2_0x5ea7cb(0x1f7)](){const _0x4cb390=a2_0x5ea7cb;try{const _0x8c7c6f=await api['delete'](_0x4cb390(0x1de)+this['db']['id']+'/all');return _0x8c7c6f[_0x4cb390(0x1dc)];}catch(_0x4148f2){throw new APIError(_0x4cb390(0x1eb),_0x4148f2);}}}function a2_0x36e5(_0x1d906a,_0x4252fa){const _0x594c48=a2_0x594c();return a2_0x36e5=function(_0x36e5b9,_0x1e0888){_0x36e5b9=_0x36e5b9-0x1dc;let _0x31a32d=_0x594c48[_0x36e5b9];return _0x31a32d;},a2_0x36e5(_0x1d906a,_0x4252fa);}module[a2_0x5ea7cb(0x1f2)]=async(_0x2b3ac5,_0x4a5604={})=>{const _0x1e01ae=a2_0x5ea7cb;try{const _0x5d2343=await api['get'](_0x1e01ae(0x1f1)+_0x2b3ac5),_0x447ea0=_0x5d2343[_0x1e01ae(0x1dc)]||{};return new Database(_0x447ea0,{..._0x4a5604});}catch(_0x46c394){throw new APIError('[Fail\x20to\x20request\x20db\x20'+_0x2b3ac5+']:',_0x46c394);}};