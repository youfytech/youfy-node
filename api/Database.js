const a2_0x58e6c3=a2_0x4dfc;(function(_0x37f3e6,_0x540dba){const _0x401d83=a2_0x4dfc,_0x14af87=_0x37f3e6();while(!![]){try{const _0x238c70=parseInt(_0x401d83(0x156))/0x1+-parseInt(_0x401d83(0x165))/0x2*(parseInt(_0x401d83(0x162))/0x3)+parseInt(_0x401d83(0x159))/0x4+-parseInt(_0x401d83(0x152))/0x5*(parseInt(_0x401d83(0x164))/0x6)+parseInt(_0x401d83(0x14f))/0x7+-parseInt(_0x401d83(0x161))/0x8+-parseInt(_0x401d83(0x15e))/0x9*(-parseInt(_0x401d83(0x163))/0xa);if(_0x238c70===_0x540dba)break;else _0x14af87['push'](_0x14af87['shift']());}catch(_0x5109e6){_0x14af87['push'](_0x14af87['shift']());}}}(a2_0x215c,0x59662));const api=require('./instance'),{APIError}=require('../exceptions');class Database{constructor(_0x217444){this['db']=_0x217444;}async['all'](_0x19bf21={}){const _0x2bfb0c=a2_0x4dfc,{where:where={},order:_0x2c14d7,limit:_0x5ed79a,offset:_0x171aeb}=_0x19bf21,_0x1866f6={};for(const _0x22f546 in where){_0x1866f6[_0x2bfb0c(0x153)+_0x22f546]=where[_0x22f546];}const _0xc54b91={..._0x1866f6};try{const _0x43898d=await api['get'](_0x2bfb0c(0x166)+this['db']['id']+_0x2bfb0c(0x15b),{'params':{'where':_0xc54b91,'order':_0x2c14d7,'limit':_0x5ed79a,'offset':_0x171aeb}});return _0x43898d['data'];}catch(_0x311126){throw new APIError('[Fail\x20to\x20request\x20all\x20datasets]:\x20',_0x311126);}}async[a2_0x58e6c3(0x168)](_0x50588d){const _0x22a141=a2_0x58e6c3;try{const _0x3c1b3b=await api[_0x22a141(0x154)](_0x22a141(0x166)+_0x50588d);return _0x3c1b3b[_0x22a141(0x16b)];}catch(_0x3a1fc7){throw new APIError(_0x22a141(0x160),_0x3a1fc7);}}async[a2_0x58e6c3(0x169)](_0x395436){const _0x2d9625=a2_0x58e6c3;try{const _0x515171=await api[_0x2d9625(0x170)]('datasets',{'data':_0x395436,'db_id':this['db']['id']});return _0x515171[_0x2d9625(0x16b)];}catch(_0x3db232){throw new APIError(_0x2d9625(0x167),_0x3db232);}}async['bookCreate'](_0x48dd19=[]){const _0x2fec6f=a2_0x58e6c3;try{const _0x382c83=_0x48dd19[_0x2fec6f(0x16e)](_0x4775c7=>{return{'db_id':this['db']['id'],'data':_0x4775c7};}),_0x20a4c6=await api[_0x2fec6f(0x170)](_0x2fec6f(0x16a),_0x382c83);return _0x20a4c6['data'];}catch(_0x57cd3c){throw new APIError(_0x2fec6f(0x16d),_0x57cd3c);}}async[a2_0x58e6c3(0x15a)](_0x8c4fa4,_0x25f65b){const _0x2d6b66=a2_0x58e6c3;try{const _0x43dc9d=await api[_0x2d6b66(0x150)](_0x2d6b66(0x166)+_0x8c4fa4,_0x25f65b);return _0x43dc9d[_0x2d6b66(0x16b)];}catch(_0x441878){throw new APIError(_0x2d6b66(0x155),_0x441878);}}async[a2_0x58e6c3(0x151)](_0x4234a5){const _0x1dfc2f=a2_0x58e6c3;try{const _0x58bbfa=await api['delete'](_0x1dfc2f(0x166)+_0x4234a5);return _0x58bbfa[_0x1dfc2f(0x16b)];}catch(_0x1b638e){throw new APIError(_0x1dfc2f(0x16c),_0x1b638e);}}async[a2_0x58e6c3(0x16f)](){const _0x36a551=a2_0x58e6c3;try{const _0x261143=await api[_0x36a551(0x15f)]('datasets/'+this['db']['id']+'/all');return _0x261143[_0x36a551(0x16b)];}catch(_0x38400e){throw new APIError(_0x36a551(0x158),_0x38400e);}}}function a2_0x4dfc(_0x1e4677,_0xa68b52){const _0x215c7f=a2_0x215c();return a2_0x4dfc=function(_0x4dfcef,_0x2c04c2){_0x4dfcef=_0x4dfcef-0x14f;let _0x5d2ff7=_0x215c7f[_0x4dfcef];return _0x5d2ff7;},a2_0x4dfc(_0x1e4677,_0xa68b52);}module[a2_0x58e6c3(0x15c)]=async(_0x251244,_0x53758c={})=>{const _0x548aeb=a2_0x58e6c3;try{const _0x563dc0=await api[_0x548aeb(0x154)](_0x548aeb(0x15d)+_0x251244),_0x2c244f=_0x563dc0[_0x548aeb(0x16b)]||{};return new Database(_0x2c244f,{..._0x53758c});}catch(_0x423221){throw new APIError(_0x548aeb(0x157)+_0x251244+']:',_0x423221);}};function a2_0x215c(){const _0x1bbc8a=['[Fail\x20to\x20request\x20to\x20update\x20a\x20dataset]:\x20','481296duRmMd','[Fail\x20to\x20request\x20db\x20','[Fail\x20to\x20request\x20to\x20remove\x20all\x20datasets]:\x20','1743920XbuqVa','update','/all','exports','dbs/','843408FWZoXv','delete','[Fail\x20to\x20request\x20a\x20dataset]:\x20','2754736wfkNfE','1754547hBDxWt','20iRqMfj','3013752EbYeeh','2pkreDJ','datasets/','[Fail\x20to\x20request\x20to\x20create\x20a\x20dataset]:\x20','find','create','datasets','data','[Fail\x20to\x20request\x20to\x20remove\x20a\x20dataset]:\x20','[Fail\x20to\x20request\x20to\x20create\x20datasets]:\x20','map','removeAll','post','4850727iJNlBd','put','remove','5dOZOxN','data.','get'];a2_0x215c=function(){return _0x1bbc8a;};return a2_0x215c();}