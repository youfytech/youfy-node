const a2_0x106474=a2_0x2a4f;function a2_0x5a68(){const _0x2357af=['find','5316ljoSce','6436aDfYMk','696006tXQzRq','[Fail\x20to\x20request\x20to\x20update\x20a\x20dataset]:\x20','update','[Fail\x20to\x20request\x20all\x20datasets]:\x20','459528PZonbZ','[Fail\x20to\x20request\x20a\x20dataset]:\x20','[Fail\x20to\x20request\x20to\x20remove\x20all\x20datasets]:\x20','1017690Mdvfjz','9QjpGjw','map','[Fail\x20to\x20request\x20db\x20','../exceptions','post','2745BUnHCr','[Fail\x20to\x20request\x20to\x20create\x20a\x20dataset]:\x20','delete','88XPjqpX','4581530GgmBHx','get','/all','create','removeAll','datasets/','[Fail\x20to\x20request\x20to\x20remove\x20a\x20dataset]:\x20','exports','64mjBQsV','1476671JKmrZF','dbs/','16HqSzAe','data'];a2_0x5a68=function(){return _0x2357af;};return a2_0x5a68();}(function(_0x1ea7ff,_0x3d47d1){const _0x52a218=a2_0x2a4f,_0xdc99e7=_0x1ea7ff();while(!![]){try{const _0x266bf3=-parseInt(_0x52a218(0x16d))/0x1*(parseInt(_0x52a218(0x153))/0x2)+parseInt(_0x52a218(0x15b))/0x3+parseInt(_0x52a218(0x152))/0x4*(-parseInt(_0x52a218(0x161))/0x5)+-parseInt(_0x52a218(0x154))/0x6+-parseInt(_0x52a218(0x16e))/0x7*(-parseInt(_0x52a218(0x14f))/0x8)+-parseInt(_0x52a218(0x15c))/0x9*(-parseInt(_0x52a218(0x165))/0xa)+-parseInt(_0x52a218(0x164))/0xb*(-parseInt(_0x52a218(0x158))/0xc);if(_0x266bf3===_0x3d47d1)break;else _0xdc99e7['push'](_0xdc99e7['shift']());}catch(_0x5cbbf0){_0xdc99e7['push'](_0xdc99e7['shift']());}}}(a2_0x5a68,0x73bd3));const api=require('./instance'),{APIError}=require(a2_0x106474(0x15f));class Database{constructor(_0x56f40b){this['db']=_0x56f40b;}async['all'](_0x53c8a6={}){const _0x51e4e9=a2_0x106474,{where:where={},order:_0x1d6d6c,limit:_0x440916,offset:_0x2cbc79}=_0x53c8a6,_0x5e1de9={};for(const _0x4192c0 in where){_0x5e1de9['data.'+_0x4192c0]=where[_0x4192c0];}const _0xb7228a={..._0x5e1de9};try{const _0x339f73=await api[_0x51e4e9(0x166)]('datasets/'+this['db']['id']+_0x51e4e9(0x167),{'params':{'where':_0xb7228a,'order':_0x1d6d6c,'limit':_0x440916,'offset':_0x2cbc79}});return _0x339f73[_0x51e4e9(0x150)];}catch(_0x13d51a){throw new APIError(_0x51e4e9(0x157),_0x13d51a);}}async[a2_0x106474(0x151)](_0x3bff53){const _0x386494=a2_0x106474;try{const _0x2bbf02=await api[_0x386494(0x166)](_0x386494(0x16a)+_0x3bff53);return _0x2bbf02[_0x386494(0x150)];}catch(_0x3ee829){throw new APIError(_0x386494(0x159),_0x3ee829);}}async[a2_0x106474(0x168)](_0x2f9e53){const _0x112a25=a2_0x106474;try{const _0x37b61c=await api[_0x112a25(0x160)]('datasets',{'data':_0x2f9e53,'db_id':this['db']['id']});return _0x37b61c[_0x112a25(0x150)];}catch(_0x1f4c1e){throw new APIError(_0x112a25(0x162),_0x1f4c1e);}}async['bookCreate'](_0x47387b=[]){const _0x4213fb=a2_0x106474;try{const _0x512a22=_0x47387b[_0x4213fb(0x15d)](_0x28e462=>{return{'db_id':this['db']['id'],'data':_0x28e462};}),_0x4a976e=await api[_0x4213fb(0x160)]('datasets',_0x512a22);return _0x4a976e[_0x4213fb(0x150)];}catch(_0x6ec633){throw new APIError('[Fail\x20to\x20request\x20to\x20create\x20datasets]:\x20',_0x6ec633);}}async[a2_0x106474(0x156)](_0x9144ac,_0x30065b){const _0x2b3f1a=a2_0x106474;try{const _0xacd934=await api['put']('datasets/'+_0x9144ac,_0x30065b);return _0xacd934[_0x2b3f1a(0x150)];}catch(_0x141dfe){throw new APIError(_0x2b3f1a(0x155),_0x141dfe);}}async['remove'](_0x40b876){const _0x113e33=a2_0x106474;try{const _0x47c7a5=await api[_0x113e33(0x163)](_0x113e33(0x16a)+_0x40b876);return _0x47c7a5[_0x113e33(0x150)];}catch(_0x40152a){throw new APIError(_0x113e33(0x16b),_0x40152a);}}async[a2_0x106474(0x169)](){const _0x382e3f=a2_0x106474;try{const _0x356106=await api['delete']('datasets/'+this['db']['id']+_0x382e3f(0x167));return _0x356106['data'];}catch(_0x4ba998){throw new APIError(_0x382e3f(0x15a),_0x4ba998);}}}function a2_0x2a4f(_0x2723fd,_0x2110b3){const _0x5a682f=a2_0x5a68();return a2_0x2a4f=function(_0x2a4faf,_0x3d4c2f){_0x2a4faf=_0x2a4faf-0x14e;let _0x1d81ab=_0x5a682f[_0x2a4faf];return _0x1d81ab;},a2_0x2a4f(_0x2723fd,_0x2110b3);}module[a2_0x106474(0x16c)]=async(_0x57565a,_0x27a5c5={})=>{const _0x47f7bd=a2_0x106474;try{const _0x2da141=await api[_0x47f7bd(0x166)](_0x47f7bd(0x14e)+_0x57565a),_0x45e4ea=_0x2da141[_0x47f7bd(0x150)]||{};return new Database(_0x45e4ea,{..._0x27a5c5});}catch(_0x1268c8){throw new APIError(_0x47f7bd(0x15e)+_0x57565a+']:',_0x1268c8);}};