const a2_0x328500=a2_0x44a1;function a2_0xe109(){const _0x36a3d6=['2qvByjB','removeAll','[Fail\x20to\x20request\x20to\x20remove\x20all\x20datasets]:\x20','put','[Fail\x20to\x20request\x20a\x20dataset]:\x20','9425556aDWutI','625657zouAAJ','map','10rXDzJw','521646CqXzZC','16GoYwAa','data','update','5901875AZVDar','/all','datasets/','get','6BdozWe','all','post','delete','find','[Fail\x20to\x20request\x20to\x20remove\x20a\x20dataset]:\x20','6539000HqQMhh','[Fail\x20to\x20request\x20to\x20create\x20a\x20dataset]:\x20','datasets','967855GCovAV','[Fail\x20to\x20request\x20to\x20update\x20a\x20dataset]:\x20','exports','33630762jLXcwt'];a2_0xe109=function(){return _0x36a3d6;};return a2_0xe109();}(function(_0x3eba1e,_0x16c4d6){const _0x1295fe=a2_0x44a1,_0x20ce84=_0x3eba1e();while(!![]){try{const _0x4acdbb=-parseInt(_0x1295fe(0x17b))/0x1*(parseInt(_0x1295fe(0x175))/0x2)+parseInt(_0x1295fe(0x17e))/0x3*(parseInt(_0x1295fe(0x17f))/0x4)+-parseInt(_0x1295fe(0x171))/0x5*(-parseInt(_0x1295fe(0x186))/0x6)+-parseInt(_0x1295fe(0x182))/0x7+-parseInt(_0x1295fe(0x16e))/0x8+-parseInt(_0x1295fe(0x17a))/0x9+parseInt(_0x1295fe(0x17d))/0xa*(parseInt(_0x1295fe(0x174))/0xb);if(_0x4acdbb===_0x16c4d6)break;else _0x20ce84['push'](_0x20ce84['shift']());}catch(_0x9dcdb2){_0x20ce84['push'](_0x20ce84['shift']());}}}(a2_0xe109,0x95a88));function a2_0x44a1(_0x450c9e,_0x4de767){const _0xe109c4=a2_0xe109();return a2_0x44a1=function(_0x44a134,_0x18f0b8){_0x44a134=_0x44a134-0x169;let _0x50710b=_0xe109c4[_0x44a134];return _0x50710b;},a2_0x44a1(_0x450c9e,_0x4de767);}const api=require('./instance'),{APIError}=require('../exceptions');class Database{constructor(_0x265127){this['db']=_0x265127;}async[a2_0x328500(0x169)](_0x2e86f4={}){const _0x5f5267=a2_0x328500,{where:where={},order:_0x2f177c,limit:_0x51aa33,offset:_0x35af68}=_0x2e86f4,_0x1f1388={};for(const _0x15759d in where){_0x1f1388['data.'+_0x15759d]=where[_0x15759d];}const _0x237314={..._0x1f1388};try{const _0x1a41a1=await api[_0x5f5267(0x185)]('datasets/'+this['db']['id']+_0x5f5267(0x183),{'params':{'where':_0x237314,'order':_0x2f177c,'limit':_0x51aa33,'offset':_0x35af68}});return _0x1a41a1[_0x5f5267(0x180)];}catch(_0x2f93c1){throw new APIError('[Fail\x20to\x20request\x20all\x20datasets]:\x20',_0x2f93c1);}}async[a2_0x328500(0x16c)](_0x42ce17){const _0x27a69b=a2_0x328500;try{const _0x289d90=await api[_0x27a69b(0x185)]('datasets/'+_0x42ce17);return _0x289d90['data'];}catch(_0x35d150){throw new APIError(_0x27a69b(0x179),_0x35d150);}}async['create'](_0x4c9a06){const _0x5a420e=a2_0x328500;try{const _0x153847=await api[_0x5a420e(0x16a)](_0x5a420e(0x170),{'data':_0x4c9a06,'db_id':this['db']['id']});return _0x153847[_0x5a420e(0x180)];}catch(_0x212b46){throw new APIError(_0x5a420e(0x16f),_0x212b46);}}async['bookCreate'](_0x17827b=[]){const _0x1826ca=a2_0x328500;try{const _0xc96767=_0x17827b[_0x1826ca(0x17c)](_0x1bd7b7=>{return{'db_id':this['db']['id'],'data':_0x1bd7b7};}),_0x2a9356=await api['post'](_0x1826ca(0x170),_0xc96767);return _0x2a9356['data'];}catch(_0x7aeb54){throw new APIError('[Fail\x20to\x20request\x20to\x20create\x20datasets]:\x20',_0x7aeb54);}}async[a2_0x328500(0x181)](_0x26cb74,_0x2e6f05){const _0x36f7aa=a2_0x328500;try{const _0x2476a7=await api[_0x36f7aa(0x178)](_0x36f7aa(0x184)+_0x26cb74,_0x2e6f05);return _0x2476a7['data'];}catch(_0x185222){throw new APIError(_0x36f7aa(0x172),_0x185222);}}async['remove'](_0x1a0b1f){const _0x19087e=a2_0x328500;try{const _0x1ee45a=await api[_0x19087e(0x16b)](_0x19087e(0x184)+_0x1a0b1f);return _0x1ee45a['data'];}catch(_0x4ae7e3){throw new APIError(_0x19087e(0x16d),_0x4ae7e3);}}async[a2_0x328500(0x176)](){const _0x24136a=a2_0x328500;try{const _0x3ab764=await api['delete'](_0x24136a(0x184)+this['db']['id']+_0x24136a(0x183));return _0x3ab764[_0x24136a(0x180)];}catch(_0x456724){throw new APIError(_0x24136a(0x177),_0x456724);}}}module[a2_0x328500(0x173)]=async(_0x2b8a5e,_0x5a4684={})=>{const _0x398d14=a2_0x328500;try{const _0x4b248b=await api[_0x398d14(0x185)]('dbs/'+_0x2b8a5e),_0x490d08=_0x4b248b[_0x398d14(0x180)]||{};return new Database(_0x490d08,{..._0x5a4684});}catch(_0xc15045){throw new APIError('[Fail\x20to\x20request\x20db\x20'+_0x2b8a5e+']:',_0xc15045);}};