const a52_0x378ff9=a52_0x201a;(function(_0x35e5d0,_0x408eeb){const _0x2f9984=a52_0x201a,_0x652b8c=_0x35e5d0();while(!![]){try{const _0x89fea8=-parseInt(_0x2f9984(0x132))/0x1*(parseInt(_0x2f9984(0x13b))/0x2)+-parseInt(_0x2f9984(0x12c))/0x3+-parseInt(_0x2f9984(0x135))/0x4*(parseInt(_0x2f9984(0x128))/0x5)+-parseInt(_0x2f9984(0x12a))/0x6*(-parseInt(_0x2f9984(0x134))/0x7)+-parseInt(_0x2f9984(0x133))/0x8+parseInt(_0x2f9984(0x139))/0x9+-parseInt(_0x2f9984(0x13a))/0xa*(-parseInt(_0x2f9984(0x127))/0xb);if(_0x89fea8===_0x408eeb)break;else _0x652b8c['push'](_0x652b8c['shift']());}catch(_0xdc8433){_0x652b8c['push'](_0x652b8c['shift']());}}}(a52_0x17a5,0xe4a85));function a52_0x201a(_0x353834,_0x54b771){const _0x17a55b=a52_0x17a5();return a52_0x201a=function(_0x201a35,_0x5259dd){_0x201a35=_0x201a35-0x127;let _0x3a0f0e=_0x17a55b[_0x201a35];return _0x3a0f0e;},a52_0x201a(_0x353834,_0x54b771);}function a52_0x17a5(){const _0xd564a8=['readFileSync','trim','.txt','oem','607vfHpmU','5605240gzQbpm','2651131TSdxAx','28QoSyVv','utf8','eng','rules','16229925iXDwIG','18490Yzwbzy','2762QAfawI','16115zakpeV','896555zCBctq','replace','6XWYJGE','\x20--psm\x2011','3480489OcqDbG','exports'];a52_0x17a5=function(){return _0xd564a8;};return a52_0x17a5();}const applyRules=require('./applyRules'),fs=require('fs'),{execSync}=require('child_process'),{basename,resolve,extname}=require('path');module[a52_0x378ff9(0x12d)]=async function readImage(_0x47050e,_0x9eca00={}){const _0x1c3636=a52_0x378ff9,_0x745ebc={'output_dir':'/tmp','lang':_0x1c3636(0x137),'oem':'3','rules':[],..._0x9eca00},_0x55a73b=basename(_0x47050e)[_0x1c3636(0x129)](extname(_0x47050e),''),_0x5a3c77=resolve(_0x745ebc['output_dir'],_0x55a73b),_0x973e04='tesseract\x20'+_0x47050e+'\x20'+_0x5a3c77+'\x20--oem\x20'+_0x745ebc[_0x1c3636(0x131)]+'\x20-l\x20'+_0x745ebc['lang']+_0x1c3636(0x12b);execSync(_0x973e04);const _0x340070=fs[_0x1c3636(0x12e)](_0x5a3c77+_0x1c3636(0x130),_0x1c3636(0x136));if(_0x745ebc[_0x1c3636(0x138)]['length'])return applyRules(_0x340070[_0x1c3636(0x129)](/\n/g,'\x20')[_0x1c3636(0x129)](/\f/g,'')[_0x1c3636(0x12f)](),{'rules':_0x745ebc[_0x1c3636(0x138)]});return _0x340070;};