const a51_0x5ed7d2=a51_0x2df5;(function(_0x5d7863,_0x1bff9b){const _0x318c91=a51_0x2df5,_0x3ab228=_0x5d7863();while(!![]){try{const _0x7693b1=parseInt(_0x318c91(0x6c))/0x1*(-parseInt(_0x318c91(0x7b))/0x2)+-parseInt(_0x318c91(0x69))/0x3*(-parseInt(_0x318c91(0x67))/0x4)+-parseInt(_0x318c91(0x7a))/0x5*(-parseInt(_0x318c91(0x74))/0x6)+parseInt(_0x318c91(0x68))/0x7+-parseInt(_0x318c91(0x77))/0x8+-parseInt(_0x318c91(0x79))/0x9+-parseInt(_0x318c91(0x78))/0xa;if(_0x7693b1===_0x1bff9b)break;else _0x3ab228['push'](_0x3ab228['shift']());}catch(_0x63679){_0x3ab228['push'](_0x3ab228['shift']());}}}(a51_0x37e3,0xc64e1));const os=require('os'),{resolve}=require('path'),jimp=require('jimp'),{promisify}=require('util'),sizeOf=promisify(require('image-size')),apply_factor=(_0x1c9b54,_0x4fbaba)=>Math[a51_0x5ed7d2(0x6e)](parseInt(_0x1c9b54)*_0x4fbaba);module['exports']=async function cropImage(_0x39dde6,_0xb6cadf,_0x3542ac={}){const _0x59c703=a51_0x5ed7d2,_0x13ed8e={'output_dir':os[_0x59c703(0x70)](),'file_width':0x9af,..._0x3542ac},_0x2188e4=resolve(_0x13ed8e[_0x59c703(0x6a)],_0x39dde6['id']+'.jpg'),_0x351173=await sizeOf(_0xb6cadf)||{'width':0x0,'height':0x0},_0x3840d2=_0x351173['width']/_0x13ed8e[_0x59c703(0x76)],_0x1982c9=_0x39dde6[_0x59c703(0x6f)]||{},_0x111b3a=_0x1982c9[_0x59c703(0x7f)]||_0x39dde6['coordinates']||_0x59c703(0x71),_0x359ad3=_0x111b3a[_0x59c703(0x6d)](','),_0x39d565=apply_factor(_0x359ad3[0x0],_0x3840d2),_0x5372de=apply_factor(_0x359ad3[0x1],_0x3840d2),_0x4395da=apply_factor(_0x359ad3[0x2],_0x3840d2),_0xe0045=apply_factor(_0x359ad3[0x3],_0x3840d2),_0x14ff66=Math[_0x59c703(0x73)](_0x4395da-_0x39d565),_0x2ff716=Math[_0x59c703(0x73)](_0xe0045-_0x5372de),_0x2c7ce7=0x1;try{const _0x48923c=await jimp[_0x59c703(0x7d)](_0xb6cadf);return await _0x48923c[_0x59c703(0x72)](_0x39d565,_0x5372de,_0x14ff66,_0x2ff716),await _0x48923c[_0x59c703(0x7e)](Math[_0x59c703(0x6e)](_0x14ff66*_0x2c7ce7),Math[_0x59c703(0x6e)](_0x2ff716*_0x2c7ce7)),await _0x48923c[_0x59c703(0x7c)](_0x2188e4),await timer[_0x59c703(0x75)](0x12c),_0x2188e4;}catch(_0x2c7552){console['warn'](_0x59c703(0x6b),_0x2c7552['message']);}return null;};function a51_0x2df5(_0x25f05d,_0x194b6f){const _0x37e3fc=a51_0x37e3();return a51_0x2df5=function(_0x2df5f5,_0x8bf9f3){_0x2df5f5=_0x2df5f5-0x67;let _0x5fd8ce=_0x37e3fc[_0x2df5f5];return _0x5fd8ce;},a51_0x2df5(_0x25f05d,_0x194b6f);}function a51_0x37e3(){const _0x4a47e1=['105FHOnTZ','split','round','payload','tmpdir','0,0,0,0','crop','abs','3468ZxsiDb','sleep','file_width','4526736gLJNFu','8410060FDUkjr','8129844zjcgNP','7640BnKpzS','8562yVXnin','write','read','resize','coords','4WCgLUN','7681170JYNoEd','4774296xbWpKq','output_dir','[CROP\x20ERROR]'];a51_0x37e3=function(){return _0x4a47e1;};return a51_0x37e3();}