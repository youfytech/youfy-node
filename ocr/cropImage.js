const a51_0xace310=a51_0x3662;(function(_0x1f1a2e,_0x14bed9){const _0x1bdabe=a51_0x3662,_0x47874b=_0x1f1a2e();while(!![]){try{const _0xbaa896=-parseInt(_0x1bdabe(0x208))/0x1+parseInt(_0x1bdabe(0x1fe))/0x2+-parseInt(_0x1bdabe(0x204))/0x3*(-parseInt(_0x1bdabe(0x207))/0x4)+-parseInt(_0x1bdabe(0x20b))/0x5*(-parseInt(_0x1bdabe(0x1f7))/0x6)+parseInt(_0x1bdabe(0x200))/0x7+-parseInt(_0x1bdabe(0x1fb))/0x8*(parseInt(_0x1bdabe(0x201))/0x9)+-parseInt(_0x1bdabe(0x1f8))/0xa;if(_0xbaa896===_0x14bed9)break;else _0x47874b['push'](_0x47874b['shift']());}catch(_0x57190b){_0x47874b['push'](_0x47874b['shift']());}}}(a51_0x188c,0x7093c));function a51_0x3662(_0x2d9ccc,_0x295d6b){const _0x188cd6=a51_0x188c();return a51_0x3662=function(_0x3662ba,_0x32a532){_0x3662ba=_0x3662ba-0x1f4;let _0x5f5dfe=_0x188cd6[_0x3662ba];return _0x5f5dfe;},a51_0x3662(_0x2d9ccc,_0x295d6b);}const os=require('os'),{resolve}=require('path'),jimp=require('jimp'),{promisify}=require('util'),sizeOf=promisify(require('image-size')),apply_factor=(_0x8bab22,_0x2ca96d)=>Math[a51_0xace310(0x1ff)](parseInt(_0x8bab22)*_0x2ca96d);module['exports']=async function cropImage(_0x55f7e0,_0x92dbd6,_0x1af1ba={}){const _0x5e8239=a51_0xace310,_0x240ece={'output_dir':os[_0x5e8239(0x1fd)](),'file_width':0x9af,..._0x1af1ba},_0xe14e2a=resolve(_0x240ece[_0x5e8239(0x1f5)],_0x55f7e0['id']+_0x5e8239(0x1f6)),_0x32a0ce=await sizeOf(_0x92dbd6)||{'width':0x0,'height':0x0},_0xcbb4c4=_0x32a0ce[_0x5e8239(0x20a)]/_0x240ece[_0x5e8239(0x20d)],_0x3c3c82=_0x55f7e0[_0x5e8239(0x20c)]||{},_0x2b81b4=_0x3c3c82[_0x5e8239(0x1fa)]||_0x55f7e0['coordinates']||_0x5e8239(0x1fc),_0x4c7716=_0x2b81b4[_0x5e8239(0x1f4)](','),_0x103025=apply_factor(_0x4c7716[0x0],_0xcbb4c4),_0x100f7c=apply_factor(_0x4c7716[0x1],_0xcbb4c4),_0xc697e2=apply_factor(_0x4c7716[0x2],_0xcbb4c4),_0x2a5fab=apply_factor(_0x4c7716[0x3],_0xcbb4c4),_0x11206e=Math[_0x5e8239(0x205)](_0xc697e2-_0x103025),_0x60260b=Math[_0x5e8239(0x205)](_0x2a5fab-_0x100f7c),_0x5b0f97=0x1;try{const _0x3fe21d=await jimp[_0x5e8239(0x1f9)](_0x92dbd6);return await _0x3fe21d[_0x5e8239(0x206)](_0x103025,_0x100f7c,_0x11206e,_0x60260b),await _0x3fe21d[_0x5e8239(0x202)](Math[_0x5e8239(0x1ff)](_0x11206e*_0x5b0f97),Math[_0x5e8239(0x1ff)](_0x60260b*_0x5b0f97)),await _0x3fe21d['write'](_0xe14e2a),await timer[_0x5e8239(0x203)](0x12c),_0xe14e2a;}catch(_0x4b0b11){console[_0x5e8239(0x209)]('[CROP\x20ERROR]',_0x4b0b11['message']);}return null;};function a51_0x188c(){const _0x6738f5=['789834lfCdlt','5724800cNWQVz','read','coords','1377624KdWuUK','0,0,0,0','tmpdir','132348LTtoPP','round','4328646rGmClZ','36wHpuxI','resize','sleep','357tmgVmr','abs','crop','10844EfUDTA','74587CEqXHc','warn','width','30MvOJIw','payload','file_width','split','output_dir','.jpg'];a51_0x188c=function(){return _0x6738f5;};return a51_0x188c();}