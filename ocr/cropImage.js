function a51_0x4e19(_0x410a04,_0x3a939){const _0x13e246=a51_0x13e2();return a51_0x4e19=function(_0x4e190a,_0x394681){_0x4e190a=_0x4e190a-0x1e4;let _0x44d279=_0x13e246[_0x4e190a];return _0x44d279;},a51_0x4e19(_0x410a04,_0x3a939);}const a51_0x1b37fa=a51_0x4e19;(function(_0x4e0cf8,_0xc3ad5d){const _0x135049=a51_0x4e19,_0x217e74=_0x4e0cf8();while(!![]){try{const _0x2bcf25=parseInt(_0x135049(0x1ea))/0x1*(parseInt(_0x135049(0x1ef))/0x2)+parseInt(_0x135049(0x1fb))/0x3+-parseInt(_0x135049(0x1f5))/0x4+-parseInt(_0x135049(0x1f3))/0x5+-parseInt(_0x135049(0x1fa))/0x6*(-parseInt(_0x135049(0x1eb))/0x7)+parseInt(_0x135049(0x1e8))/0x8*(-parseInt(_0x135049(0x1ee))/0x9)+parseInt(_0x135049(0x1f0))/0xa*(parseInt(_0x135049(0x1e6))/0xb);if(_0x2bcf25===_0xc3ad5d)break;else _0x217e74['push'](_0x217e74['shift']());}catch(_0x3682d6){_0x217e74['push'](_0x217e74['shift']());}}}(a51_0x13e2,0x1ca88));function a51_0x13e2(){const _0x40991e=['45gcaNWN','2meyZxs','430MqfKZK','0,0,0,0','output_dir','1012400dzYbLT','split','274620uZenJE','.jpg','read','sleep','message','897378HIEpwk','465978xYpsyq','payload','width','60709yPoEYA','exports','301264wmgnbe','abs','34603kdhSYx','7MUrHsa','crop','round'];a51_0x13e2=function(){return _0x40991e;};return a51_0x13e2();}const os=require('os'),{resolve}=require('path'),jimp=require('jimp'),{promisify}=require('util'),sizeOf=promisify(require('image-size')),apply_factor=(_0xcdf0a1,_0x54cea5)=>Math[a51_0x1b37fa(0x1ed)](parseInt(_0xcdf0a1)*_0x54cea5);module[a51_0x1b37fa(0x1e7)]=async function cropImage(_0x41603e,_0x4a458d,_0x10101a={}){const _0x28c0a3=a51_0x1b37fa,_0x418b04={'output_dir':os['tmpdir'](),'file_width':0x9af,..._0x10101a},_0x3fac8c=resolve(_0x418b04[_0x28c0a3(0x1f2)],_0x41603e['id']+_0x28c0a3(0x1f6)),_0x1e3b31=await sizeOf(_0x4a458d)||{'width':0x0,'height':0x0},_0x70d658=_0x1e3b31[_0x28c0a3(0x1e5)]/_0x418b04['file_width'],_0x234ae1=_0x41603e[_0x28c0a3(0x1e4)]||{},_0x46c70a=_0x234ae1['coords']||_0x41603e['coordinates']||_0x28c0a3(0x1f1),_0xecb7bc=_0x46c70a[_0x28c0a3(0x1f4)](','),_0x37f318=apply_factor(_0xecb7bc[0x0],_0x70d658),_0x31037e=apply_factor(_0xecb7bc[0x1],_0x70d658),_0x1000d5=apply_factor(_0xecb7bc[0x2],_0x70d658),_0x3d39e4=apply_factor(_0xecb7bc[0x3],_0x70d658),_0xb08908=Math[_0x28c0a3(0x1e9)](_0x1000d5-_0x37f318),_0x42bd01=Math[_0x28c0a3(0x1e9)](_0x3d39e4-_0x31037e),_0x384918=0x1;try{const _0x446119=await jimp[_0x28c0a3(0x1f7)](_0x4a458d);return await _0x446119[_0x28c0a3(0x1ec)](_0x37f318,_0x31037e,_0xb08908,_0x42bd01),await _0x446119['resize'](Math[_0x28c0a3(0x1ed)](_0xb08908*_0x384918),Math[_0x28c0a3(0x1ed)](_0x42bd01*_0x384918)),await _0x446119['write'](_0x3fac8c),await timer[_0x28c0a3(0x1f8)](0x12c),_0x3fac8c;}catch(_0x2d8545){console['warn']('[CROP\x20ERROR]',_0x2d8545[_0x28c0a3(0x1f9)]);}return null;};