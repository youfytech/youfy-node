const a51_0x2a80fb=a51_0x2c93;(function(_0x5a8b27,_0x156628){const _0x7c1dfc=a51_0x2c93,_0x7c0a4b=_0x5a8b27();while(!![]){try{const _0x91a436=-parseInt(_0x7c1dfc(0x8b))/0x1+parseInt(_0x7c1dfc(0x90))/0x2+parseInt(_0x7c1dfc(0x8c))/0x3+parseInt(_0x7c1dfc(0x7f))/0x4*(-parseInt(_0x7c1dfc(0x87))/0x5)+parseInt(_0x7c1dfc(0x92))/0x6*(-parseInt(_0x7c1dfc(0x7c))/0x7)+parseInt(_0x7c1dfc(0x8a))/0x8+parseInt(_0x7c1dfc(0x83))/0x9;if(_0x91a436===_0x156628)break;else _0x7c0a4b['push'](_0x7c0a4b['shift']());}catch(_0x3530ea){_0x7c0a4b['push'](_0x7c0a4b['shift']());}}}(a51_0x1e11,0xa5173));function a51_0x1e11(){const _0x28f9c6=['coords','round','width','283203VkBjwl','sleep','crop','message','1248535XJrzAt','file_width','coordinates','7963880AOevIF','310837nkilhy','3836511zytoGM','abs','[CROP\x20ERROR]','split','546482kirgYg','read','12sOjLEj','payload','3823988ZwXsnN','warn','resize','8iXMThM'];a51_0x1e11=function(){return _0x28f9c6;};return a51_0x1e11();}function a51_0x2c93(_0x33c193,_0x471f30){const _0x1e1139=a51_0x1e11();return a51_0x2c93=function(_0x2c93f3,_0x57d58a){_0x2c93f3=_0x2c93f3-0x7b;let _0x380c78=_0x1e1139[_0x2c93f3];return _0x380c78;},a51_0x2c93(_0x33c193,_0x471f30);}const os=require('os'),{resolve}=require('path'),jimp=require('jimp'),{promisify}=require('util'),sizeOf=promisify(require('image-size')),apply_factor=(_0x5882a9,_0x39353c)=>Math[a51_0x2a80fb(0x81)](parseInt(_0x5882a9)*_0x39353c);module['exports']=async function cropImage(_0x5f14d4,_0x4509bb,_0x3ffd5d={}){const _0x3abd01=a51_0x2a80fb,_0x29dde4={'output_dir':os['tmpdir'](),'file_width':0x9af,..._0x3ffd5d},_0x4334e5=resolve(_0x29dde4['output_dir'],_0x5f14d4['id']+'.jpg'),_0x562212=await sizeOf(_0x4509bb)||{'width':0x0,'height':0x0},_0x5a9447=_0x562212[_0x3abd01(0x82)]/_0x29dde4[_0x3abd01(0x88)],_0x2f9a7b=_0x5f14d4[_0x3abd01(0x7b)]||{},_0x23c42e=_0x2f9a7b[_0x3abd01(0x80)]||_0x5f14d4[_0x3abd01(0x89)]||'0,0,0,0',_0x3321a7=_0x23c42e[_0x3abd01(0x8f)](','),_0x4a3e8b=apply_factor(_0x3321a7[0x0],_0x5a9447),_0xcb90bb=apply_factor(_0x3321a7[0x1],_0x5a9447),_0xdba548=apply_factor(_0x3321a7[0x2],_0x5a9447),_0x9c8c28=apply_factor(_0x3321a7[0x3],_0x5a9447),_0x4a9a5e=Math[_0x3abd01(0x8d)](_0xdba548-_0x4a3e8b),_0x37e12f=Math['abs'](_0x9c8c28-_0xcb90bb),_0x143610=0x1;try{const _0x405716=await jimp[_0x3abd01(0x91)](_0x4509bb);return await _0x405716[_0x3abd01(0x85)](_0x4a3e8b,_0xcb90bb,_0x4a9a5e,_0x37e12f),await _0x405716[_0x3abd01(0x7e)](Math[_0x3abd01(0x81)](_0x4a9a5e*_0x143610),Math['round'](_0x37e12f*_0x143610)),await _0x405716['write'](_0x4334e5),await timer[_0x3abd01(0x84)](0x12c),_0x4334e5;}catch(_0x2962cb){console[_0x3abd01(0x7d)](_0x3abd01(0x8e),_0x2962cb[_0x3abd01(0x86)]);}return null;};