const a51_0x2d65a4=a51_0x4d51;function a51_0x4d51(_0x57a930,_0x50c321){const _0x4ab9a9=a51_0x4ab9();return a51_0x4d51=function(_0x4d511c,_0x2a1e41){_0x4d511c=_0x4d511c-0xab;let _0x124e9d=_0x4ab9a9[_0x4d511c];return _0x124e9d;},a51_0x4d51(_0x57a930,_0x50c321);}(function(_0x452d88,_0x3bd3cd){const _0x520f88=a51_0x4d51,_0x4b2633=_0x452d88();while(!![]){try{const _0x5137ed=parseInt(_0x520f88(0xbc))/0x1*(parseInt(_0x520f88(0xb5))/0x2)+parseInt(_0x520f88(0xc0))/0x3*(parseInt(_0x520f88(0xbd))/0x4)+parseInt(_0x520f88(0xb0))/0x5+-parseInt(_0x520f88(0xaf))/0x6*(-parseInt(_0x520f88(0xb7))/0x7)+parseInt(_0x520f88(0xc4))/0x8+parseInt(_0x520f88(0xb6))/0x9+parseInt(_0x520f88(0xb2))/0xa*(-parseInt(_0x520f88(0xba))/0xb);if(_0x5137ed===_0x3bd3cd)break;else _0x4b2633['push'](_0x4b2633['shift']());}catch(_0x5ee1df){_0x4b2633['push'](_0x4b2633['shift']());}}}(a51_0x4ab9,0x4df25));const os=require('os'),{resolve}=require('path'),jimp=require('jimp'),{promisify}=require(a51_0x2d65a4(0xc7)),sizeOf=promisify(require(a51_0x2d65a4(0xb3))),apply_factor=(_0x1dab08,_0x1b1efe)=>Math[a51_0x2d65a4(0xbb)](parseInt(_0x1dab08)*_0x1b1efe);function a51_0x4ab9(){const _0x34b660=['1392280yGKonN','resize','[CROP\x20ERROR]','util','crop','coordinates','exports','output_dir','abs','.jpg','2649876sAifZC','2744945wurElt','0,0,0,0','123230LLpWmg','image-size','coords','232tiJfzm','4341996wjBJCd','7KWVHUd','file_width','split','1793ygtsdY','round','4151Mjqdcq','232DOSnqL','read','warn','10308zItyiT','sleep','message','write'];a51_0x4ab9=function(){return _0x34b660;};return a51_0x4ab9();}module[a51_0x2d65a4(0xab)]=async function cropImage(_0x77274c,_0x2aeef5,_0x1f5364={}){const _0x2f2493=a51_0x2d65a4,_0x528599={'output_dir':os['tmpdir'](),'file_width':0x9af,..._0x1f5364},_0x2dd9b4=resolve(_0x528599[_0x2f2493(0xac)],_0x77274c['id']+_0x2f2493(0xae)),_0x1a0787=await sizeOf(_0x2aeef5)||{'width':0x0,'height':0x0},_0x253a0e=_0x1a0787['width']/_0x528599[_0x2f2493(0xb8)],_0x2ba035=_0x77274c['payload']||{},_0x6323f6=_0x2ba035[_0x2f2493(0xb4)]||_0x77274c[_0x2f2493(0xc9)]||_0x2f2493(0xb1),_0x5c9b14=_0x6323f6[_0x2f2493(0xb9)](','),_0x3afeaa=apply_factor(_0x5c9b14[0x0],_0x253a0e),_0x24a75d=apply_factor(_0x5c9b14[0x1],_0x253a0e),_0x34fe4b=apply_factor(_0x5c9b14[0x2],_0x253a0e),_0x1851ac=apply_factor(_0x5c9b14[0x3],_0x253a0e),_0x39f19c=Math[_0x2f2493(0xad)](_0x34fe4b-_0x3afeaa),_0x207f90=Math[_0x2f2493(0xad)](_0x1851ac-_0x24a75d),_0x37de76=0x1;try{const _0x21c1a7=await jimp[_0x2f2493(0xbe)](_0x2aeef5);return await _0x21c1a7[_0x2f2493(0xc8)](_0x3afeaa,_0x24a75d,_0x39f19c,_0x207f90),await _0x21c1a7[_0x2f2493(0xc5)](Math[_0x2f2493(0xbb)](_0x39f19c*_0x37de76),Math[_0x2f2493(0xbb)](_0x207f90*_0x37de76)),await _0x21c1a7[_0x2f2493(0xc3)](_0x2dd9b4),await timer[_0x2f2493(0xc1)](0x12c),_0x2dd9b4;}catch(_0x506f66){console[_0x2f2493(0xbf)](_0x2f2493(0xc6),_0x506f66[_0x2f2493(0xc2)]);}return null;};