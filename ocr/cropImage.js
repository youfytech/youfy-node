function a51_0x42a0(){const _0x4a9352=['0,0,0,0','1834XRGJiR','crop','payload','file_width','30dNEYNB','read','3474Tpecsr','10008qAwvVc','message','warn','width','87bMIlXX','resize','1153880XzqPdl','13434sXePxd','split','coordinates','tmpdir','4460742QwMLUJ','write','abs','250kEBSgN','78660mdsqaO','coords','9188CCbfLO','round'];a51_0x42a0=function(){return _0x4a9352;};return a51_0x42a0();}const a51_0x1ce90c=a51_0x45ee;(function(_0x94f44d,_0x286d94){const _0x50364d=a51_0x45ee,_0x565344=_0x94f44d();while(!![]){try{const _0x50f6a8=-parseInt(_0x50364d(0xe3))/0x1+-parseInt(_0x50364d(0xdb))/0x2*(parseInt(_0x50364d(0xd8))/0x3)+-parseInt(_0x50364d(0xe5))/0x4*(-parseInt(_0x50364d(0xd1))/0x5)+parseInt(_0x50364d(0xd3))/0x6*(-parseInt(_0x50364d(0xcd))/0x7)+parseInt(_0x50364d(0xda))/0x8+-parseInt(_0x50364d(0xd4))/0x9*(parseInt(_0x50364d(0xe2))/0xa)+parseInt(_0x50364d(0xdf))/0xb;if(_0x50f6a8===_0x286d94)break;else _0x565344['push'](_0x565344['shift']());}catch(_0xa9c69c){_0x565344['push'](_0x565344['shift']());}}}(a51_0x42a0,0x1affc));function a51_0x45ee(_0x581500,_0x24e6a6){const _0x42a019=a51_0x42a0();return a51_0x45ee=function(_0x45eed9,_0x354939){_0x45eed9=_0x45eed9-0xcc;let _0x4d1fc1=_0x42a019[_0x45eed9];return _0x4d1fc1;},a51_0x45ee(_0x581500,_0x24e6a6);}const os=require('os'),{resolve}=require('path'),jimp=require('jimp'),{promisify}=require('util'),sizeOf=promisify(require('image-size')),apply_factor=(_0x553c90,_0x392832)=>Math[a51_0x1ce90c(0xe6)](parseInt(_0x553c90)*_0x392832);module['exports']=async function cropImage(_0x4f1ff5,_0xfe4e73,_0x54e4e6={}){const _0x99609f=a51_0x1ce90c,_0x172bb8={'output_dir':os[_0x99609f(0xde)](),'file_width':0x9af,..._0x54e4e6},_0x43c8c4=resolve(_0x172bb8['output_dir'],_0x4f1ff5['id']+'.jpg'),_0x5481c3=await sizeOf(_0xfe4e73)||{'width':0x0,'height':0x0},_0x5a844c=_0x5481c3[_0x99609f(0xd7)]/_0x172bb8[_0x99609f(0xd0)],_0x1a1e46=_0x4f1ff5[_0x99609f(0xcf)]||{},_0x357db3=_0x1a1e46[_0x99609f(0xe4)]||_0x4f1ff5[_0x99609f(0xdd)]||_0x99609f(0xcc),_0x28d1e3=_0x357db3[_0x99609f(0xdc)](','),_0x205b68=apply_factor(_0x28d1e3[0x0],_0x5a844c),_0x508555=apply_factor(_0x28d1e3[0x1],_0x5a844c),_0x5a1f8d=apply_factor(_0x28d1e3[0x2],_0x5a844c),_0x456213=apply_factor(_0x28d1e3[0x3],_0x5a844c),_0x3af637=Math['abs'](_0x5a1f8d-_0x205b68),_0xa059fb=Math[_0x99609f(0xe1)](_0x456213-_0x508555),_0x4c7cb0=0x1;try{const _0x23b44e=await jimp[_0x99609f(0xd2)](_0xfe4e73);return await _0x23b44e[_0x99609f(0xce)](_0x205b68,_0x508555,_0x3af637,_0xa059fb),await _0x23b44e[_0x99609f(0xd9)](Math[_0x99609f(0xe6)](_0x3af637*_0x4c7cb0),Math[_0x99609f(0xe6)](_0xa059fb*_0x4c7cb0)),await _0x23b44e[_0x99609f(0xe0)](_0x43c8c4),await timer['sleep'](0x12c),_0x43c8c4;}catch(_0x504583){console[_0x99609f(0xd6)]('[CROP\x20ERROR]',_0x504583[_0x99609f(0xd5)]);}return null;};