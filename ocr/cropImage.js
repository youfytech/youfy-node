function a51_0x1430(_0x3ade0b,_0x1ecd1d){const _0x5d8562=a51_0x5d85();return a51_0x1430=function(_0x14309a,_0x239685){_0x14309a=_0x14309a-0x1ba;let _0x13abb8=_0x5d8562[_0x14309a];return _0x13abb8;},a51_0x1430(_0x3ade0b,_0x1ecd1d);}const a51_0xb7d2f=a51_0x1430;(function(_0x2670b8,_0x1a1e00){const _0x4cd23b=a51_0x1430,_0x11f26e=_0x2670b8();while(!![]){try{const _0x1956ef=parseInt(_0x4cd23b(0x1c9))/0x1*(-parseInt(_0x4cd23b(0x1ba))/0x2)+-parseInt(_0x4cd23b(0x1c8))/0x3+-parseInt(_0x4cd23b(0x1cd))/0x4+-parseInt(_0x4cd23b(0x1cf))/0x5+parseInt(_0x4cd23b(0x1c0))/0x6*(-parseInt(_0x4cd23b(0x1c7))/0x7)+parseInt(_0x4cd23b(0x1c2))/0x8*(-parseInt(_0x4cd23b(0x1be))/0x9)+-parseInt(_0x4cd23b(0x1cb))/0xa*(-parseInt(_0x4cd23b(0x1c1))/0xb);if(_0x1956ef===_0x1a1e00)break;else _0x11f26e['push'](_0x11f26e['shift']());}catch(_0x18ccf6){_0x11f26e['push'](_0x11f26e['shift']());}}}(a51_0x5d85,0x87437));function a51_0x5d85(){const _0x150d98=['abs','27FIOxgs','round','42kdohPI','34312476CYAQXu','894432giNLqC','message','split','output_dir','.jpg','430871nLxnPv','191619McMOVn','569281HzaAun','file_width','10dshKFV','crop','2799308uyhvCS','write','2330065GbihVS','resize','2sAHWqH','read','sleep'];a51_0x5d85=function(){return _0x150d98;};return a51_0x5d85();}const os=require('os'),{resolve}=require('path'),jimp=require('jimp'),{promisify}=require('util'),sizeOf=promisify(require('image-size')),apply_factor=(_0x349f98,_0x22e6d5)=>Math[a51_0xb7d2f(0x1bf)](parseInt(_0x349f98)*_0x22e6d5);module['exports']=async function cropImage(_0x743883,_0x5a39c0,_0x540f8b={}){const _0x2622b6=a51_0xb7d2f,_0x2a3cb9={'output_dir':os['tmpdir'](),'file_width':0x9af,..._0x540f8b},_0x1f0b3a=resolve(_0x2a3cb9[_0x2622b6(0x1c5)],_0x743883['id']+_0x2622b6(0x1c6)),_0x5d04a7=await sizeOf(_0x5a39c0)||{'width':0x0,'height':0x0},_0x547db4=_0x5d04a7['width']/_0x2a3cb9[_0x2622b6(0x1ca)],_0x53b7da=_0x743883['payload']||{},_0x1526db=_0x53b7da['coords']||_0x743883['coordinates']||'0,0,0,0',_0x258bd2=_0x1526db[_0x2622b6(0x1c4)](','),_0x474ee8=apply_factor(_0x258bd2[0x0],_0x547db4),_0x123d45=apply_factor(_0x258bd2[0x1],_0x547db4),_0x47742d=apply_factor(_0x258bd2[0x2],_0x547db4),_0x2cc63c=apply_factor(_0x258bd2[0x3],_0x547db4),_0xa0c1f9=Math['abs'](_0x47742d-_0x474ee8),_0x61bc62=Math[_0x2622b6(0x1bd)](_0x2cc63c-_0x123d45),_0x233b34=0x1;try{const _0x30c194=await jimp[_0x2622b6(0x1bb)](_0x5a39c0);return await _0x30c194[_0x2622b6(0x1cc)](_0x474ee8,_0x123d45,_0xa0c1f9,_0x61bc62),await _0x30c194[_0x2622b6(0x1d0)](Math[_0x2622b6(0x1bf)](_0xa0c1f9*_0x233b34),Math['round'](_0x61bc62*_0x233b34)),await _0x30c194[_0x2622b6(0x1ce)](_0x1f0b3a),await timer[_0x2622b6(0x1bc)](0x12c),_0x1f0b3a;}catch(_0x4faf57){console['warn']('[CROP\x20ERROR]',_0x4faf57[_0x2622b6(0x1c3)]);}return null;};