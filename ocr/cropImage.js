const a51_0x2db48d=a51_0x3d6d;function a51_0x3d6d(_0x1bd3a1,_0x4030c5){const _0x5a85ed=a51_0x5a85();return a51_0x3d6d=function(_0x3d6daa,_0x1074ee){_0x3d6daa=_0x3d6daa-0x75;let _0x286b01=_0x5a85ed[_0x3d6daa];return _0x286b01;},a51_0x3d6d(_0x1bd3a1,_0x4030c5);}(function(_0x50b753,_0x3d0404){const _0xb3d52b=a51_0x3d6d,_0x814598=_0x50b753();while(!![]){try{const _0x293f8e=parseInt(_0xb3d52b(0x86))/0x1*(parseInt(_0xb3d52b(0x8d))/0x2)+parseInt(_0xb3d52b(0x81))/0x3*(parseInt(_0xb3d52b(0x88))/0x4)+parseInt(_0xb3d52b(0x8f))/0x5*(parseInt(_0xb3d52b(0x77))/0x6)+-parseInt(_0xb3d52b(0x89))/0x7*(parseInt(_0xb3d52b(0x8b))/0x8)+-parseInt(_0xb3d52b(0x75))/0x9+parseInt(_0xb3d52b(0x7b))/0xa+-parseInt(_0xb3d52b(0x79))/0xb;if(_0x293f8e===_0x3d0404)break;else _0x814598['push'](_0x814598['shift']());}catch(_0xef3eda){_0x814598['push'](_0x814598['shift']());}}}(a51_0x5a85,0x795df));const os=require('os'),{resolve}=require('path'),jimp=require('jimp'),{promisify}=require('util'),sizeOf=promisify(require('image-size')),apply_factor=(_0x4ca690,_0x3efe47)=>Math[a51_0x2db48d(0x76)](parseInt(_0x4ca690)*_0x3efe47);module[a51_0x2db48d(0x8a)]=async function cropImage(_0x118821,_0x10a308,_0x1e3d54={}){const _0x2a5d80=a51_0x2db48d,_0xb4b916={'output_dir':os['tmpdir'](),'file_width':0x9af,..._0x1e3d54},_0x26aba7=resolve(_0xb4b916[_0x2a5d80(0x8e)],_0x118821['id']+_0x2a5d80(0x84)),_0x35d814=await sizeOf(_0x10a308)||{'width':0x0,'height':0x0},_0x7b2814=_0x35d814[_0x2a5d80(0x83)]/_0xb4b916[_0x2a5d80(0x7d)],_0x77670b=_0x118821[_0x2a5d80(0x7a)]||{},_0x213922=_0x77670b['coords']||_0x118821['coordinates']||_0x2a5d80(0x85),_0x5d003d=_0x213922[_0x2a5d80(0x80)](','),_0x2f9c80=apply_factor(_0x5d003d[0x0],_0x7b2814),_0x4fae18=apply_factor(_0x5d003d[0x1],_0x7b2814),_0x3f4ce5=apply_factor(_0x5d003d[0x2],_0x7b2814),_0x452f9d=apply_factor(_0x5d003d[0x3],_0x7b2814),_0x35eff6=Math[_0x2a5d80(0x78)](_0x3f4ce5-_0x2f9c80),_0x1127d7=Math[_0x2a5d80(0x78)](_0x452f9d-_0x4fae18),_0x1daf7c=0x1;try{const _0x849eab=await jimp[_0x2a5d80(0x82)](_0x10a308);return await _0x849eab['crop'](_0x2f9c80,_0x4fae18,_0x35eff6,_0x1127d7),await _0x849eab['resize'](Math[_0x2a5d80(0x76)](_0x35eff6*_0x1daf7c),Math[_0x2a5d80(0x76)](_0x1127d7*_0x1daf7c)),await _0x849eab[_0x2a5d80(0x87)](_0x26aba7),await timer[_0x2a5d80(0x7c)](0x12c),_0x26aba7;}catch(_0xdbeb2b){console[_0x2a5d80(0x7f)](_0x2a5d80(0x8c),_0xdbeb2b[_0x2a5d80(0x7e)]);}return null;};function a51_0x5a85(){const _0x3df660=['9978JDgTzZ','abs','2801975HMCkOa','payload','3660120ESLICo','sleep','file_width','message','warn','split','1143nPfIid','read','width','.jpg','0,0,0,0','163iGaflZ','write','2572eXQfKg','4389KIfVxT','exports','5000aSDJTo','[CROP\x20ERROR]','314pxlhrc','output_dir','2705OucIyD','3532950bMTVnu','round'];a51_0x5a85=function(){return _0x3df660;};return a51_0x5a85();}