(function(_0x333107,_0x365f65){const _0x15f768=a51_0x24ae,_0xc5811b=_0x333107();while(!![]){try{const _0x51860c=parseInt(_0x15f768(0x182))/0x1*(-parseInt(_0x15f768(0x183))/0x2)+-parseInt(_0x15f768(0x18c))/0x3*(-parseInt(_0x15f768(0x19e))/0x4)+-parseInt(_0x15f768(0x1a1))/0x5*(parseInt(_0x15f768(0x186))/0x6)+parseInt(_0x15f768(0x18d))/0x7*(-parseInt(_0x15f768(0x188))/0x8)+-parseInt(_0x15f768(0x19f))/0x9+parseInt(_0x15f768(0x192))/0xa*(-parseInt(_0x15f768(0x184))/0xb)+parseInt(_0x15f768(0x18b))/0xc;if(_0x51860c===_0x365f65)break;else _0xc5811b['push'](_0xc5811b['shift']());}catch(_0x26dce7){_0xc5811b['push'](_0xc5811b['shift']());}}}(a51_0x13b8,0x94f97));const os=require('os'),{resolve}=require('path'),jimp=require('jimp'),{promisify}=require('util'),sizeOf=promisify(require('image-size')),apply_factor=(_0x4625b5,_0x3314b8)=>Math['round'](parseInt(_0x4625b5)*_0x3314b8);function a51_0x24ae(_0x25c0bc,_0x36d8b4){const _0x13b832=a51_0x13b8();return a51_0x24ae=function(_0x24aede,_0x58f13b){_0x24aede=_0x24aede-0x182;let _0x3b5bc9=_0x13b832[_0x24aede];return _0x3b5bc9;},a51_0x24ae(_0x25c0bc,_0x36d8b4);}function a51_0x13b8(){const _0x22284a=['sleep','53438520gXXRMi','3NisBFM','56qRXUmZ','abs','write','warn','message','50LCqesD','split','tmpdir','round','coords','[CROP\x20ERROR]','read','width','resize','crop','.jpg','file_width','743724UAcbwG','10932408TYehjI','output_dir','1956705SsDWLC','41953AVOjEP','24iIqzBq','1249149NRZoqQ','0,0,0,0','18BxDlbX','coordinates','568976qFGgps','payload'];a51_0x13b8=function(){return _0x22284a;};return a51_0x13b8();}module['exports']=async function cropImage(_0x2a8008,_0x1d3e5e,_0x5e1213={}){const _0x58f6e3=a51_0x24ae,_0x102500={'output_dir':os[_0x58f6e3(0x194)](),'file_width':0x9af,..._0x5e1213},_0x178bf7=resolve(_0x102500[_0x58f6e3(0x1a0)],_0x2a8008['id']+_0x58f6e3(0x19c)),_0x14c774=await sizeOf(_0x1d3e5e)||{'width':0x0,'height':0x0},_0x7b96d7=_0x14c774[_0x58f6e3(0x199)]/_0x102500[_0x58f6e3(0x19d)],_0x276af5=_0x2a8008[_0x58f6e3(0x189)]||{},_0x494703=_0x276af5[_0x58f6e3(0x196)]||_0x2a8008[_0x58f6e3(0x187)]||_0x58f6e3(0x185),_0x2a05f8=_0x494703[_0x58f6e3(0x193)](','),_0x1187a2=apply_factor(_0x2a05f8[0x0],_0x7b96d7),_0x5e257f=apply_factor(_0x2a05f8[0x1],_0x7b96d7),_0x4521ad=apply_factor(_0x2a05f8[0x2],_0x7b96d7),_0x46b386=apply_factor(_0x2a05f8[0x3],_0x7b96d7),_0x3f504b=Math[_0x58f6e3(0x18e)](_0x4521ad-_0x1187a2),_0x5ce26e=Math[_0x58f6e3(0x18e)](_0x46b386-_0x5e257f),_0xe49c4c=0x1;try{const _0xb04a00=await jimp[_0x58f6e3(0x198)](_0x1d3e5e);return await _0xb04a00[_0x58f6e3(0x19b)](_0x1187a2,_0x5e257f,_0x3f504b,_0x5ce26e),await _0xb04a00[_0x58f6e3(0x19a)](Math[_0x58f6e3(0x195)](_0x3f504b*_0xe49c4c),Math['round'](_0x5ce26e*_0xe49c4c)),await _0xb04a00[_0x58f6e3(0x18f)](_0x178bf7),await timer[_0x58f6e3(0x18a)](0x12c),_0x178bf7;}catch(_0x32b322){console[_0x58f6e3(0x190)](_0x58f6e3(0x197),_0x32b322[_0x58f6e3(0x191)]);}return null;};